LavaPack.loadBundle([[2349,{"@noble/hashes/crypto":2344},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */
Object.defineProperty(n,"__esModule",{value:!0}),n.randomBytes=n.wrapXOFConstructorWithOpts=n.wrapConstructorWithOpts=n.wrapConstructor=n.checkOpts=n.Hash=n.concatBytes=n.toBytes=n.utf8ToBytes=n.asyncLoop=n.nextTick=n.hexToBytes=n.bytesToHex=n.isLE=n.rotr=n.createView=n.u32=n.u8=void 0;const r=e("@noble/hashes/crypto");n.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);function s(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}n.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));n.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);if(n.rotr=(e,t)=>e<<32-t|e>>>t,n.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!n.isLE)throw new Error("Non little-endian hardware is not supported");const a=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));n.bytesToHex=function(e){if(!s(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=a[e[n]];return t};const i={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function o(e){return e>=i._0&&e<=i._9?e-i._0:e>=i._A&&e<=i._F?e-(i._A-10):e>=i._a&&e<=i._f?e-(i._a-10):void 0}n.hexToBytes=function(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let t=0,s=0;t<n;t++,s+=2){const n=o(e.charCodeAt(s)),a=o(e.charCodeAt(s+1));if(n===undefined||a===undefined){const t=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+s)}r[t]=16*n+a}return r};function c(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function u(e){if("string"==typeof e&&(e=c(e)),!s(e))throw new Error("expected Uint8Array, got "+typeof e);return e}n.nextTick=async()=>{},n.asyncLoop=async function(e,t,r){let s=Date.now();for(let a=0;a<e;a++){r(a);const e=Date.now()-s;e>=0&&e<t||(await(0,n.nextTick)(),s+=e)}},n.utf8ToBytes=c,n.toBytes=u,n.concatBytes=function(...e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];if(!s(r))throw new Error("Uint8Array expected");t+=r.length}const n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const s=e[t];n.set(s,r),r+=s.length}return n};n.Hash=class{clone(){return this._cloneInto()}};const l={}.toString;n.checkOpts=function(e,t){if(t!==undefined&&"[object Object]"!==l.call(t))throw new Error("Options should be object or undefined");return Object.assign(e,t)},n.wrapConstructor=function(e){const t=t=>e().update(u(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t},n.wrapConstructorWithOpts=function(e){const t=(t,n)=>e(n).update(u(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t},n.wrapXOFConstructorWithOpts=function(e){const t=(t,n)=>e(n).update(u(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t},n.randomBytes=function(e=32){if(r.crypto&&"function"==typeof r.crypto.getRandomValues)return r.crypto.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}}}},{package:"@metamask/scure-bip39>@noble/hashes",file:"node_modules/@metamask/scure-bip39/node_modules/@noble/hashes/utils.js"}],[2358,{"./logger.cjs":2360,"./types.cjs":2361,"./utils/decoding-api.cjs":2362,"./utils/normalize.cjs":2363,"./utils/validation.cjs":2364,"@metamask/base-controller":2411,"@metamask/controller-utils":1509,"@metamask/keyring-controller":1913,"@metamask/logging-controller":1970,events:4267,uuid:5595},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,s,a,i,o,c,u,l,d,m,p,h,f,g,y,b,x,v,S,w,k,T=this&&this.__classPrivateFieldSet||function(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n},E=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},A=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SignatureController=void 0;const j=e("@metamask/base-controller"),C=e("@metamask/controller-utils"),P=e("@metamask/keyring-controller"),_=e("@metamask/logging-controller"),I=A(e("events")),O=e("uuid"),R=e("./logger.cjs"),N=e("./types.cjs"),B=e("./utils/decoding-api.cjs"),M=e("./utils/normalize.cjs"),L=e("./utils/validation.cjs"),F={signatureRequests:{persist:!1,anonymous:!1},unapprovedPersonalMsgs:{persist:!1,anonymous:!1},unapprovedTypedMessages:{persist:!1,anonymous:!1},unapprovedPersonalMsgCount:{persist:!1,anonymous:!1},unapprovedTypedMessagesCount:{persist:!1,anonymous:!1}},D=[N.SignatureRequestStatus.Signed,N.SignatureRequestStatus.Rejected,N.SignatureRequestStatus.Errored];class U extends j.BaseController{constructor({decodingApiUrl:e,isDecodeSignatureRequestEnabled:t,messenger:n,state:o,trace:c}){super({name:"SignatureController",metadata:F,messenger:n,state:{signatureRequests:{},unapprovedPersonalMsgs:{},unapprovedTypedMessages:{},unapprovedPersonalMsgCount:0,unapprovedTypedMessagesCount:0,...o}}),r.add(this),s.set(this,void 0),a.set(this,void 0),i.set(this,void 0),this.hub=new I.default,T(this,i,c??((e,t)=>t?.()),"f"),T(this,s,e,"f"),T(this,a,t,"f")}get unapprovedPersonalMessagesCount(){return this.state.unapprovedPersonalMsgCount}get unapprovedTypedMessagesCount(){return this.state.unapprovedTypedMessagesCount}get messages(){return this.state.signatureRequests}resetState(){E(this,r,"m",b).call(this,(e=>{Object.assign(e,{signatureRequests:{},unapprovedPersonalMsgs:{},unapprovedTypedMessages:{},unapprovedPersonalMsgCount:0,unapprovedTypedMessagesCount:0})}))}rejectUnapproved(e){const t=Object.values(this.state.signatureRequests).filter((e=>e.status===N.SignatureRequestStatus.Unapproved));for(const n of t)E(this,r,"m",h).call(this,n.id,e)}clearUnapproved(){E(this,r,"m",b).call(this,(e=>{Object.values(e.signatureRequests).filter((e=>e.status===N.SignatureRequestStatus.Unapproved)).forEach((t=>delete e.signatureRequests[t.id]))}))}async newUnsignedPersonalMessage(e,t,n={}){(0,L.validatePersonalSignatureRequest)(e);const s=(0,M.normalizePersonalMessageParams)(e);return s.siwe=(0,C.detectSIWE)(e),E(this,r,"m",c).call(this,{messageParams:s,request:t,type:N.SignatureRequestType.PersonalSign,approvalType:C.ApprovalType.PersonalSign,traceContext:n.traceContext})}async newUnsignedTypedMessage(e,t,n,s,a={}){const i=E(this,r,"m",w).call(this,t);(0,L.validateTypedSignatureRequest)(e,n,i);const o=(0,M.normalizeTypedMessageParams)(e,n);return E(this,r,"m",c).call(this,{approvalType:C.ApprovalType.EthSignTypedData,messageParams:o,request:t,signingOptions:s,traceContext:a.traceContext,type:N.SignatureRequestType.TypedSign,version:n})}setDeferredSignSuccess(e,t){E(this,r,"m",y).call(this,e,(e=>{e.rawSig=t,e.status=N.SignatureRequestStatus.Signed}))}setMessageMetadata(e,t){E(this,r,"m",y).call(this,e,(e=>{e.metadata=t}))}setDeferredSignError(e){E(this,r,"m",y).call(this,e,(e=>{e.status=N.SignatureRequestStatus.Rejected}))}setTypedMessageInProgress(e){E(this,r,"m",y).call(this,e,(e=>{e.status=N.SignatureRequestStatus.InProgress}))}setPersonalMessageInProgress(e){this.setTypedMessageInProgress(e)}}n.SignatureController=U,s=new WeakMap,a=new WeakMap,i=new WeakMap,r=new WeakSet,o=function(e,t){return[P.SignTypedDataVersion.V3,P.SignTypedDataVersion.V4].includes(t)&&"string"==typeof e.data?{...e,data:JSON.parse(e.data)}:e},c=async function({chainId:e,messageParams:t,request:n,type:s,approvalType:a,version:i,signingOptions:o,traceContext:c}){(0,R.projectLogger)("Processing signature request",{messageParams:t,request:n,type:s,version:i});const m=e??E(this,r,"m",w).call(this,n);E(this,r,"m",v).call(this,s,i,_.SigningStage.Proposed,t);const p=E(this,r,"m",u).call(this,{chainId:m,messageParams:t,request:n,signingOptions:o,type:s,version:i});let h,g;const y=E(this,r,"m",f).call(this,p.id);E(this,r,"m",k).call(this,p.id,n,m);try{h=await E(this,r,"m",l).call(this,{approvalType:a,metadata:p,request:n,traceContext:c}),await E(this,r,"m",d).call(this,p,c)}catch(x){(0,R.projectLogger)("Signature request failed",x),g=x}const b=await y,{error:x,id:S,messageParams:T,rawSig:A}=b;switch(b.status){case N.SignatureRequestStatus.Signed:return(0,R.projectLogger)("Signature request finished",{id:S,signature:A}),E(this,r,"m",v).call(this,s,i,_.SigningStage.Signed,T),h?.success(A),b.rawSig;case N.SignatureRequestStatus.Rejected:const e=g??new Error(`MetaMask ${s} Signature: User denied message signature.`);throw h?.error(e),e;case N.SignatureRequestStatus.Errored:const t=g??new Error(`MetaMask ${s} Signature: ${x}`);throw h?.error(t),t;default:throw new Error(`MetaMask ${s} Signature: Unknown problem: ${JSON.stringify(T)}`)}},u=function({chainId:e,messageParams:t,request:n,signingOptions:s,type:a,version:i}){const o=(0,O.v1)(),c=n?.origin??t.origin,u=n?.id,l=n?.securityAlertResponse,d=n?.networkClientId,m={...t,metamaskId:o,origin:c,requestId:u,version:i},p={chainId:e,id:(0,O.v1)(),messageParams:m,networkClientId:d,securityAlertResponse:l,signingOptions:s,status:N.SignatureRequestStatus.Unapproved,time:Date.now(),type:a,version:i};return E(this,r,"m",b).call(this,(e=>{e.signatureRequests[p.id]=p})),(0,R.projectLogger)("Added signature request",p),this.hub.emit("unapprovedMessage",{messageParams:t,metamaskId:p.id}),p},l=async function({approvalType:e,metadata:t,request:n,traceContext:s}){const{id:a,messageParams:o,type:c,version:u}=t;try{return(await E(this,i,"f").call(this,{name:"Await Approval",parentContext:s},(s=>E(this,r,"m",g).call(this,t,e,{traceContext:s,actionId:n?.id?.toString()})))).resultCallbacks}catch(e){throw(0,R.projectLogger)("User rejected request",{id:a,error:e}),E(this,r,"m",v).call(this,c,u,_.SigningStage.Rejected,o),E(this,r,"m",h).call(this,a),e}},d=async function(e,t){const{id:n}=e;E(this,r,"m",y).call(this,n,(e=>{e.status=N.SignatureRequestStatus.Approved})),await E(this,i,"f").call(this,{name:"Sign",parentContext:t},(()=>E(this,r,"m",m).call(this,e)))},m=async function(e){const{id:t,messageParams:n,signingOptions:s,type:a}=e;try{let i;switch(a){case N.SignatureRequestType.PersonalSign:i=await this.messagingSystem.call("KeyringController:signPersonalMessage",n);break;case N.SignatureRequestType.TypedSign:const t=s?.parseJsonData?E(this,r,"m",o).call(this,n,e.version):n;i=await this.messagingSystem.call("KeyringController:signTypedMessage",t,e.version);break;default:throw new Error(`Unknown signature request type: ${a}`)}if(this.hub.emit(`${a}:signed`,{signature:i,messageId:t}),n.deferSetAsSigned)return;E(this,r,"m",y).call(this,t,(e=>{e.rawSig=i,e.status=N.SignatureRequestStatus.Signed}))}catch(e){throw a===N.SignatureRequestType.TypedSign?E(this,r,"m",p).call(this,t,e.message):E(this,r,"m",h).call(this,t),this.hub.emit(`${t}:signError`,{error:e}),e}},p=function(e,t){E(this,r,"m",y).call(this,e,(e=>{e.status=N.SignatureRequestStatus.Errored,e.error=t}))},h=function(e,t){if(t){const n=this.state.signatureRequests[e];this.hub.emit("cancelWithReason",{metadata:n,reason:t})}E(this,r,"m",y).call(this,e,(e=>{e.status=N.SignatureRequestStatus.Rejected}))},f=async function(e){return new Promise((t=>{this.hub.once(`${e}:finished`,(e=>{t(e)}))}))},g=async function(e,t,{traceContext:n,actionId:r}){const{id:s,messageParams:a}=e,o=a.origin||C.ORIGIN_METAMASK;return await E(this,i,"f").call(this,{name:"Notification Display",id:r,parentContext:n}),await this.messagingSystem.call("ApprovalController:addRequest",{id:s,origin:o,type:t,requestData:{...a},expectsResult:!0},!0)},y=function(e,t){let n=!1;const{nextState:s}=E(this,r,"m",b).call(this,(r=>{const s=r.signatureRequests[e];if(!s)throw new Error(`Signature request with id ${e} not found`);const a=s.status;t(s),n=s.status!==a})),a=s.signatureRequests[e];return n&&D.includes(a.status)&&this.hub.emit(`${e}:finished`,a),a},b=function(e){return this.update((t=>{e(t);const n=Object.values(t.signatureRequests).filter((e=>e.status===N.SignatureRequestStatus.Unapproved)),s=E(this,r,"m",x).call(this,n,N.SignatureRequestType.PersonalSign),a=E(this,r,"m",x).call(this,n,N.SignatureRequestType.TypedSign);t.unapprovedPersonalMsgs=s,t.unapprovedTypedMessages=a,t.unapprovedPersonalMsgCount=Object.values(s).length,t.unapprovedTypedMessagesCount=Object.values(a).length}))},x=function(e,t){return e.filter((e=>e.type===t)).reduce(((e,t)=>({...e,[t.id]:{...t,msgParams:t.messageParams}})),{})},v=function(e,t,n,s){const a=E(this,r,"m",S).call(this,e,t);this.messagingSystem.call("LoggingController:add",{type:_.LogType.EthSignLog,data:{signingMethod:a,stage:n,signingData:s}})},S=function(e,t){return e===N.SignatureRequestType.PersonalSign?_.SigningMethod.PersonalSign:e===N.SignatureRequestType.TypedSign&&t===P.SignTypedDataVersion.V3?_.SigningMethod.EthSignTypedDataV3:e===N.SignatureRequestType.TypedSign&&t===P.SignTypedDataVersion.V4?_.SigningMethod.EthSignTypedDataV4:_.SigningMethod.EthSignTypedData},w=function(e){const{networkClientId:t}=e;if(!t)throw new Error("Network client ID not found in request");return this.messagingSystem.call("NetworkController:getNetworkClientById",t).configuration.chainId},k=function(e,t,n){E(this,a,"f")?.call(this)&&E(this,s,"f")&&(E(this,r,"m",y).call(this,e,(e=>{e.decodingLoading=!0})),(0,B.decodeSignature)(t,n,E(this,s,"f")).then((t=>E(this,r,"m",y).call(this,e,(e=>{e.decodingData=t,e.decodingLoading=!1})))).catch((t=>E(this,r,"m",y).call(this,e,(e=>{e.decodingData={stateChanges:null,error:{message:t.message,type:B.DECODING_API_ERRORS.DECODING_FAILED_WITH_ERROR}},e.decodingLoading=!1})))))}}}},{package:"@metamask/signature-controller",file:"node_modules/@metamask/signature-controller/dist/SignatureController.cjs"}],[2359,{"./SignatureController.cjs":2358,"./types.cjs":2361},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./SignatureController.cjs"),n),s(e("./types.cjs"),n)}}},{package:"@metamask/signature-controller",file:"node_modules/@metamask/signature-controller/dist/index.cjs"}],[2360,{"@metamask/utils":2450},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createModuleLogger=n.projectLogger=void 0;const r=e("@metamask/utils");Object.defineProperty(n,"createModuleLogger",{enumerable:!0,get:function(){return r.createModuleLogger}}),n.projectLogger=(0,r.createProjectLogger)("signature-controller")}}},{package:"@metamask/signature-controller",file:"node_modules/@metamask/signature-controller/dist/logger.cjs"}],[2361,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,s,a,i;Object.defineProperty(n,"__esModule",{value:!0}),n.SignatureRequestType=n.SignatureRequestStatus=n.DecodingDataChangeType=n.EthMethod=void 0,function(e){e.PersonalSign="personal_sign",e.SignTransaction="eth_signTransaction",e.SignTypedDataV1="eth_signTypedData_v1",e.SignTypedDataV3="eth_signTypedData_v3",e.SignTypedDataV4="eth_signTypedData_v4"}(r||(n.EthMethod=r={})),function(e){e.Receive="RECEIVE",e.Transfer="TRANSFER",e.Approve="APPROVE",e.Revoke="REVOKE_APPROVE",e.Bidding="BIDDING",e.Listing="LISTING"}(s||(n.DecodingDataChangeType=s={})),function(e){e.Unapproved="unapproved",e.Approved="approved",e.Rejected="rejected",e.InProgress="inProgress",e.Signed="signed",e.Errored="errored"}(a||(n.SignatureRequestStatus=a={})),function(e){e.PersonalSign="personal_sign",e.TypedSign="eth_signTypedData"}(i||(n.SignatureRequestType=i={}))}}},{package:"@metamask/signature-controller",file:"node_modules/@metamask/signature-controller/dist/types.cjs"}],[2362,{"../types.cjs":2361,"./normalize.cjs":2363},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.decodeSignature=n.DECODING_API_ERRORS=void 0;const r=e("../types.cjs"),s=e("./normalize.cjs");n.DECODING_API_ERRORS={UNSUPPORTED_SIGNATURE:"UNSUPPORTED_SIGNATURE",DECODING_FAILED_WITH_ERROR:"DECODING_FAILED_WITH_ERROR"},n.decodeSignature=async function(e,t,a){try{const{method:i,origin:o,params:c}=e;if(e.method===r.EthMethod.SignTypedDataV3||e.method===r.EthMethod.SignTypedDataV4){const e=await fetch(`${a}/signature?chainId=${t}`,{method:"POST",body:JSON.stringify({method:i,origin:o,params:[c[0],(0,s.normalizeParam)(c[1])]}),headers:{"Content-Type":"application/json"}});return await e.json()}return{error:{message:"Unsupported signature.",type:n.DECODING_API_ERRORS.UNSUPPORTED_SIGNATURE}}}catch(e){return{error:{message:e.message,type:n.DECODING_API_ERRORS.DECODING_FAILED_WITH_ERROR}}}}}}},{package:"@metamask/signature-controller",file:"node_modules/@metamask/signature-controller/dist/utils/decoding-api.cjs"}],[2363,{"@metamask/keyring-controller":1913,"@metamask/utils":2450,buffer:3941},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.normalizeParam=n.normalizeTypedMessageParams=n.normalizePersonalMessageParams=void 0;const r=e("@metamask/keyring-controller"),s=e("@metamask/utils");function a(e){try{const t=(0,s.remove0x)(e);if(t.match(/^[0-9A-Fa-f]+$/gu))return(0,s.add0x)(t)}catch(e){}return(0,s.bytesToHex)(t.from(e,"utf8"))}function i(e){if(Array.isArray(e))return e.map((e=>i(e)));if("object"==typeof e&&null!==e){for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(e[t]=i(e[t]));return e}return e?.toString()??""}n.normalizePersonalMessageParams=function(e){return{...e,data:a(e.data)}},n.normalizeTypedMessageParams=function(e,t){const n={...e};return"string"==typeof e.data||t!==r.SignTypedDataVersion.V3&&t!==r.SignTypedDataVersion.V4||(n.data=JSON.stringify(e.data)),n},n.normalizeParam=function(e){return e?i("string"==typeof e?JSON.parse(e):e):{}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/signature-controller",file:"node_modules/@metamask/signature-controller/dist/utils/normalize.cjs"}],[2364,{"@metamask/controller-utils":1509,"@metamask/eth-sig-util":2413,"@metamask/keyring-controller":1913,jsonschema:4622},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.validateTypedSignatureRequest=n.validatePersonalSignatureRequest=void 0;const r=e("@metamask/controller-utils"),s=e("@metamask/eth-sig-util"),a=e("@metamask/keyring-controller"),i=e("jsonschema");function o(e,t){if(!e||"string"!=typeof e||!(0,r.isValidHexAddress)(e))throw new Error(`Invalid "${t}" address: ${e} must be a valid string.`)}n.validatePersonalSignatureRequest=function(e){const{from:t,data:n}=e;if(o(t,"from"),!n||"string"!=typeof n)throw new Error(`Invalid message "data": ${n} must be a valid string.`)},n.validateTypedSignatureRequest=function(e,t,n){o(e.from,"from"),t===a.SignTypedDataVersion.V1?function(e){if(!e.data||!Array.isArray(e.data))throw new Error(`Invalid message "data": ${e.data} must be a valid array.`);try{(0,s.typedSignatureHash)(e.data)}catch(e){throw new Error("Expected EIP712 typed data.")}}(e):function(e,t){if(!e.data||Array.isArray(e.data)||"object"!=typeof e.data&&"string"!=typeof e.data)throw new Error('Invalid message "data": Must be a valid string or object.');let n;if("object"==typeof e.data)n=e.data;else try{n=JSON.parse(e.data)}catch(e){throw new Error("Data must be passed as a valid JSON string.")}if((0,i.validate)(n,s.TYPED_MESSAGE_SCHEMA).errors.length>0)throw new Error("Data must conform to EIP-712 schema. See https://git.io/fNtcx.");if(!t)throw new Error("Current chainId cannot be null or undefined.");let{chainId:r}=n.domain;if(r){"string"==typeof r&&(r=parseInt(r,r.startsWith("0x")?16:10));const e=parseInt(t,16);if(Number.isNaN(e))throw new Error(`Cannot sign messages for chainId "${r}", because MetaMask is switching networks.`);if(r!==e)throw new Error(`Provided chainId "${r}" must match the active chainId "${e}"`)}}(e,n)}}}},{package:"@metamask/signature-controller",file:"node_modules/@metamask/signature-controller/dist/utils/validation.cjs"}],[2365,{"./errors":2366,"./packer":2369,"@metamask/utils":2395},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.decodeSingle=n.decode=n.encodePacked=n.encodeSingle=n.encode=void 0;const r=e("@metamask/utils"),s=e("./errors"),a=e("./packer");n.encode=(e,t,n,r)=>{try{return(0,a.pack)({types:e,values:t,packed:n,tight:r})}catch(e){if(e instanceof s.ParserError)throw new s.ParserError(`Unable to encode value: ${e.message}`,e);throw new s.ParserError(`An unexpected error occurred: ${(0,s.getErrorMessage)(e)}`,e)}};n.encodeSingle=(e,t)=>(0,n.encode)([e],[t]);n.encodePacked=(e,t,r)=>(0,n.encode)(e,t,!0,r);n.decode=(e,t)=>{const n=(0,r.createBytes)(t);try{return(0,a.unpack)(e,n)}catch(e){if(e instanceof s.ParserError)throw new s.ParserError(`Unable to decode value: ${e.message}`,e);throw new s.ParserError(`An unexpected error occurred: ${(0,s.getErrorMessage)(e)}`,e)}};n.decodeSingle=(e,t)=>{const a=(0,n.decode)([e],t);return(0,r.assert)(1===a.length,new s.ParserError("Decoded value array has unexpected length.")),a[0]}}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/abi-utils/dist/abi.js"}],[2366,{"@metamask/utils":2395},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ParserError=n.getErrorStack=n.getErrorMessage=void 0;const r=e("@metamask/utils");n.getErrorMessage=e=>"string"==typeof e?e:e instanceof Error||(0,r.isObject)(e)&&(0,r.hasProperty)(e,"message")&&"string"==typeof e.message?e.message:"Unknown error.";n.getErrorStack=e=>e instanceof Error?e.stack:undefined;class s extends Error{constructor(e,t){super(e),this.name="ParserError";const r=(0,n.getErrorStack)(t);r&&(this.stack=r)}}n.ParserError=s}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/abi-utils/dist/errors.js"}],[2367,{"./abi":2365,"./errors":2366,"./types":2382},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./abi"),n),s(e("./errors"),n),s(e("./types"),n)}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/abi-utils/dist/index.js"}],[2368,{"@metamask/utils":2395},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.iterate=void 0;const r=e("@metamask/utils");n.iterate=function*(e,t=32){for(let n=0;n<e.length;n+=t){const s=e=>{(0,r.assert)(e>=0,"Cannot skip a negative number of bytes."),(0,r.assert)(e%t==0,"Length must be a multiple of the size."),n+=e},a=e.subarray(n);yield{skip:s,value:a}}return{skip:()=>undefined,value:new Uint8Array}}}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/abi-utils/dist/iterator.js"}],[2369,{"./errors":2366,"./iterator":2368,"./parsers":2376,"./utils":2384,"@metamask/utils":2395},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.unpack=n.pack=n.isDynamicParser=n.getParser=void 0;const r=e("@metamask/utils"),s=e("./errors"),a=e("./iterator"),i=e("./parsers"),o=e("./utils");n.getParser=e=>{const t={address:i.address,array:i.array,bool:i.bool,bytes:i.bytes,fixedBytes:i.fixedBytes,function:i.fn,number:i.number,string:i.string,tuple:i.tuple},n=t[e];if(n)return n;const r=Object.values(t).find((t=>t.isType(e)));if(r)return r;throw new s.ParserError(`The type "${e}" is not supported.`)};n.isDynamicParser=(e,t)=>{const{isDynamic:n}=e;return"function"==typeof n?n(t):n};n.pack=({types:e,values:t,packed:a=!1,tight:i=!1,arrayPacked:c=!1,byteArray:u=new Uint8Array})=>{(0,r.assert)(e.length===t.length,new s.ParserError(`The number of types (${e.length}) does not match the number of values (${t.length}).`));const{staticBuffer:l,dynamicBuffer:d,pointers:m}=e.reduce((({staticBuffer:e,dynamicBuffer:s,pointers:o},u,l)=>{const d=(0,n.getParser)(u),m=t[l];if(a||c||!(0,n.isDynamicParser)(d,u))return{staticBuffer:d.encode({buffer:e,value:m,type:u,packed:a,tight:i}),dynamicBuffer:s,pointers:o};return{staticBuffer:(0,r.concatBytes)([e,new Uint8Array(32)]),dynamicBuffer:d.encode({buffer:s,value:m,type:u,packed:a,tight:i}),pointers:[...o,{position:e.length,pointer:s.length}]}}),{staticBuffer:new Uint8Array,dynamicBuffer:new Uint8Array,pointers:[]});(0,r.assert)(!a&&!c||0===d.length,new s.ParserError("Invalid pack state."));const p=l.length,h=m.reduce(((e,{pointer:t,position:n})=>{const s=(0,o.padStart)((0,r.numberToBytes)(p+t));return(0,o.set)(e,s,n)}),l);return(0,r.concatBytes)([u,h,d])};n.unpack=(e,t)=>{const i=(0,a.iterate)(t);return e.map((e=>{const{value:{value:a,skip:o},done:c}=i.next();(0,r.assert)(!c,new s.ParserError(`The encoded value is invalid for the provided types. Reached end of buffer while attempting to parse "${e}".`));const u=(0,n.getParser)(e);if((0,n.isDynamicParser)(u,e)){const n=(0,r.bytesToNumber)(a.subarray(0,32)),s=t.subarray(n);return u.decode({type:e,value:s,skip:o})}return u.decode({type:e,value:a,skip:o})}))}}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/abi-utils/dist/packer.js"}],[2370,{"../errors":2366,"../utils":2384,"@metamask/utils":2395},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.address=n.getAddress=void 0;const r=e("@metamask/utils"),s=e("../errors"),a=e("../utils");n.getAddress=e=>{const t=(0,r.createBytes)(e);return(0,r.assert)(t.length<=20,new s.ParserError(`Invalid address value. Expected address to be 20 bytes long, but received ${t.length} bytes.`)),(0,a.padStart)(t,20)},n.address={isDynamic:!1,isType:e=>"address"===e,getByteLength:()=>32,encode({buffer:e,value:t,packed:s}){const i=(0,n.getAddress)(t);if(s)return(0,r.concatBytes)([e,i]);const o=(0,a.padStart)(i);return(0,r.concatBytes)([e,o])},decode:({value:e})=>(0,r.add0x)((0,r.bytesToHex)(e.slice(12,32)))}}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/abi-utils/dist/parsers/address.js"}],[2371,{"../errors":2366,"../packer":2369,"../utils":2384,"./fixed-bytes":2374,"./tuple":2380,"@metamask/utils":2395},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.array=n.getTupleType=n.getArrayType=n.isArrayType=void 0;const r=e("@metamask/utils"),s=e("../errors"),a=e("../packer"),i=e("../utils"),o=e("./fixed-bytes"),c=e("./tuple"),u=/^(?<type>.*)\[(?<length>\d*?)\]$/u;n.isArrayType=e=>u.test(e);n.getArrayType=e=>{const t=e.match(u);return(0,r.assert)(t?.groups?.type,new s.ParserError(`Invalid array type. Expected an array type, but received "${e}".`)),[t.groups.type,t.groups.length?parseInt(t.groups.length,10):undefined]};n.getTupleType=(e,t)=>`(${new Array(t).fill(e).join(",")})`,n.array={isDynamic(e){const[t,r]=(0,n.getArrayType)(e);return r===undefined||(0,a.isDynamicParser)((0,a.getParser)(t),t)},isType:e=>(0,n.isArrayType)(e),getByteLength(e){(0,r.assert)((0,n.isArrayType)(e),new s.ParserError(`Expected an array type, but received "${e}".`));const[t,i]=(0,n.getArrayType)(e);return(0,a.isDynamicParser)(this,e)||i===undefined?32:c.tuple.getByteLength((0,n.getTupleType)(t,i))},encode({type:e,buffer:t,value:u,packed:l,tight:d}){const[m,p]=(0,n.getArrayType)(e);if((0,r.assert)(!l||!(0,n.isArrayType)(m),new s.ParserError("Cannot pack nested arrays.")),l&&(0,a.isDynamicParser)((0,a.getParser)(m),m))return(0,a.pack)({types:new Array(u.length).fill(m),values:u,byteArray:t,packed:l,arrayPacked:!0,tight:d});if(p)return(0,r.assert)(p===u.length,new s.ParserError(`Array length does not match type length. Expected a length of ${p}, but received ${u.length}.`)),c.tuple.encode({type:(0,n.getTupleType)(m,p),buffer:t,value:u,packed:o.fixedBytes.isType(m)&&d,tight:d});if(l)return(0,a.pack)({types:new Array(u.length).fill(m),values:u,byteArray:t,packed:o.fixedBytes.isType(m)&&d,arrayPacked:!0,tight:d});const h=(0,i.padStart)((0,r.numberToBytes)(u.length));return(0,a.pack)({types:new Array(u.length).fill(m),values:u,byteArray:(0,r.concatBytes)([t,h]),packed:l,tight:d})},decode({type:e,value:t,...i}){const[o,u]=(0,n.getArrayType)(e);if(u){const e=c.tuple.decode({type:(0,n.getTupleType)(o,u),value:t,...i});return(0,r.assert)(e.length===u,new s.ParserError(`Array length does not match type length. Expected a length of ${u}, but received ${e.length}.`)),e}const l=(0,r.bytesToNumber)(t.subarray(0,32));return(0,a.unpack)(new Array(l).fill(o),t.subarray(32))}}}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/abi-utils/dist/parsers/array.js"}],[2372,{"../errors":2366,"./number":2377,"@metamask/superstruct":2797,"@metamask/utils":2395},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.bool=n.getBooleanValue=void 0;const r=e("@metamask/superstruct"),s=e("@metamask/utils"),a=e("../errors"),i=e("./number"),o=(0,r.coerce)((0,r.boolean)(),(0,r.union)([(0,r.literal)("true"),(0,r.literal)("false")]),(e=>"true"===e));n.getBooleanValue=e=>{try{return(0,r.create)(e,o)?BigInt(1):BigInt(0)}catch{throw new a.ParserError(`Invalid boolean value. Expected a boolean literal, or the string "true" or "false", but received "${e}".`)}},n.bool={isDynamic:!1,isType:e=>"bool"===e,getByteLength:()=>32,encode({buffer:e,value:t,packed:r,tight:a}){const o=(0,n.getBooleanValue)(t);return r?(0,s.concatBytes)([e,(0,s.bigIntToBytes)(o)]):i.number.encode({type:"uint256",buffer:e,value:o,packed:r,tight:a})},decode:e=>i.number.decode({...e,type:"uint256"})===BigInt(1)}}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/abi-utils/dist/parsers/bool.js"}],[2373,{"../utils":2384,"@metamask/utils":2395},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.bytes=void 0;const r=e("@metamask/utils"),s=e("../utils");n.bytes={isDynamic:!0,isType:e=>"bytes"===e,getByteLength:()=>32,encode({buffer:e,value:t,packed:n}){const a=(0,r.createBytes)(t);if(n)return(0,r.concatBytes)([e,a]);const i=32*Math.ceil(a.byteLength/32);return(0,r.concatBytes)([e,(0,s.padStart)((0,r.numberToBytes)(a.byteLength)),(0,s.padEnd)(a,i)])},decode({value:e}){const t=e.subarray(0,32),n=(0,r.bytesToNumber)(t);return e.slice(32,32+n)}}}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/abi-utils/dist/parsers/bytes.js"}],[2374,{"../errors":2366,"../utils":2384,"@metamask/utils":2395},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.fixedBytes=n.getByteLength=void 0;const r=e("@metamask/utils"),s=e("../errors"),a=e("../utils"),i=/^bytes([0-9]{1,2})$/u;n.getByteLength=e=>{const t=e.match(i)?.[1];(0,r.assert)(t,`Invalid byte length. Expected a number between 1 and 32, but received "${e}".`);const n=Number(t);return(0,r.assert)(n>0&&n<=32,new s.ParserError(`Invalid byte length. Expected a number between 1 and 32, but received "${e}".`)),n},n.fixedBytes={isDynamic:!1,isType:e=>i.test(e),getByteLength:()=>32,encode({type:e,buffer:t,value:i,packed:o}){const c=(0,n.getByteLength)(e),u=(0,r.createBytes)(i);return(0,r.assert)(u.length<=c,new s.ParserError(`Expected a value of length ${c}, but received a value of length ${u.length}.`)),o?(0,r.concatBytes)([t,(0,a.padEnd)(u,c)]):(0,r.concatBytes)([t,(0,a.padEnd)(u)])},decode({type:e,value:t}){const r=(0,n.getByteLength)(e);return t.slice(0,r)}}}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/abi-utils/dist/parsers/fixed-bytes.js"}],[2375,{"../errors":2366,"./fixed-bytes":2374,"@metamask/superstruct":2797,"@metamask/utils":2395},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.fn=n.getFunction=void 0;const r=e("@metamask/superstruct"),s=e("@metamask/utils"),a=e("../errors"),i=e("./fixed-bytes"),o=(0,r.coerce)((0,r.object)({address:s.StrictHexStruct,selector:s.StrictHexStruct}),(0,r.union)([s.StrictHexStruct,(0,r.instance)(Uint8Array)]),(e=>{const t=(0,s.createBytes)(e);return(0,s.assert)(24===t.length,new a.ParserError(`Invalid Solidity function. Expected function to be 24 bytes long, but received ${t.length} bytes.`)),{address:(0,s.bytesToHex)(t.subarray(0,20)),selector:(0,s.bytesToHex)(t.subarray(20,24))}}));n.getFunction=e=>{const t=(0,r.create)(e,o);return(0,s.concatBytes)([(0,s.hexToBytes)(t.address),(0,s.hexToBytes)(t.selector)])},n.fn={isDynamic:!1,isType:e=>"function"===e,getByteLength:()=>32,encode({buffer:e,value:t,packed:r,tight:s}){const a=(0,n.getFunction)(t);return i.fixedBytes.encode({type:"bytes24",buffer:e,value:a,packed:r,tight:s})},decode:({value:e})=>({address:(0,s.bytesToHex)(e.slice(0,20)),selector:(0,s.bytesToHex)(e.slice(20,24))})}}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/abi-utils/dist/parsers/function.js"}],[2376,{"./address":2370,"./array":2371,"./bool":2372,"./bytes":2373,"./fixed-bytes":2374,"./function":2375,"./number":2377,"./parser":2378,"./string":2379,"./tuple":2380},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./address"),n),s(e("./array"),n),s(e("./bool"),n),s(e("./bytes"),n),s(e("./fixed-bytes"),n),s(e("./function"),n),s(e("./number"),n),s(e("./parser"),n),s(e("./string"),n),s(e("./tuple"),n)}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/abi-utils/dist/parsers/index.js"}],[2377,{"../errors":2366,"../utils":2384,"@metamask/utils":2395},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.number=n.getBigInt=n.assertNumberLength=n.getLength=n.isSigned=void 0;const r=e("@metamask/utils"),s=e("../errors"),a=e("../utils"),i=/^u?int(?<length>[0-9]*)?$/u;n.isSigned=e=>!e.startsWith("u");n.getLength=e=>{if("int"===e||"uint"===e)return 256;const t=e.match(i);(0,r.assert)(t?.groups?.length,new s.ParserError(`Invalid number type. Expected a number type, but received "${e}".`));const n=parseInt(t.groups.length,10);return(0,r.assert)(n>=8&&n<=256,new s.ParserError(`Invalid number length. Expected a number between 8 and 256, but received "${e}".`)),(0,r.assert)(n%8==0,new s.ParserError(`Invalid number length. Expected a multiple of 8, but received "${e}".`)),n};n.assertNumberLength=(e,t)=>{const a=(0,n.getLength)(t),i=BigInt(2)**BigInt(a-((0,n.isSigned)(t)?1:0))-BigInt(1);(0,n.isSigned)(t)?(0,r.assert)(e>=-(i+BigInt(1))&&e<=i,new s.ParserError(`Number "${e}" is out of range for type "${t}".`)):(0,r.assert)(e<=i,new s.ParserError(`Number "${e}" is out of range for type "${t}".`))};n.getBigInt=e=>{try{return(0,r.createBigInt)(e)}catch{throw new s.ParserError(`Invalid number. Expected a valid number value, but received "${e}".`)}},n.number={isDynamic:!1,isType:e=>i.test(e),getByteLength:()=>32,encode({type:e,buffer:t,value:s,packed:i}){const o=(0,n.getBigInt)(s);if((0,n.assertNumberLength)(o,e),(0,n.isSigned)(e)){if(i){const s=(0,n.getLength)(e)/8;return(0,r.concatBytes)([t,(0,r.signedBigIntToBytes)(o,s)])}return(0,r.concatBytes)([t,(0,a.padStart)((0,r.signedBigIntToBytes)(o,32))])}if(i){const s=(0,n.getLength)(e)/8;return(0,r.concatBytes)([t,(0,a.padStart)((0,r.bigIntToBytes)(o),s)])}return(0,r.concatBytes)([t,(0,a.padStart)((0,r.bigIntToBytes)(o))])},decode({type:e,value:t}){const s=t.subarray(0,32);if((0,n.isSigned)(e)){const t=(0,r.bytesToSignedBigInt)(s);return(0,n.assertNumberLength)(t,e),t}const a=(0,r.bytesToBigInt)(s);return(0,n.assertNumberLength)(a,e),a}}}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/abi-utils/dist/parsers/number.js"}],[2378,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/abi-utils/dist/parsers/parser.js"}],[2379,{"./bytes":2373,"@metamask/utils":2395},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.string=void 0;const r=e("@metamask/utils"),s=e("./bytes");n.string={isDynamic:!0,isType:e=>"string"===e,getByteLength:()=>32,encode:({buffer:e,value:t,packed:n,tight:a})=>s.bytes.encode({type:"bytes",buffer:e,value:(0,r.stringToBytes)(t),packed:n,tight:a}),decode:e=>(0,r.bytesToString)(s.bytes.decode(e))}}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/abi-utils/dist/parsers/string.js"}],[2380,{"../errors":2366,"../packer":2369,"@metamask/utils":2395},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.tuple=n.getTupleElements=void 0;const r=e("@metamask/utils"),s=e("../errors"),a=e("../packer"),i=/^\((.+)\)$/u;n.getTupleElements=e=>{(0,r.assert)(e.startsWith("(")&&e.endsWith(")"),new s.ParserError(`Invalid tuple type. Expected tuple type, but received "${e}".`));const t=[];let n="",a=0;for(let r=1;r<e.length-1;r++){const s=e[r];","===s&&0===a?(t.push(n.trim()),n=""):(n+=s,"("===s?a+=1:")"===s&&(a-=1))}return n.trim()&&t.push(n.trim()),t},n.tuple={isDynamic:e=>(0,n.getTupleElements)(e).some((e=>{const t=(0,a.getParser)(e);return(0,a.isDynamicParser)(t,e)})),isType:e=>(e=>i.test(e))(e),getByteLength(e){if((0,a.isDynamicParser)(this,e))return 32;return(0,n.getTupleElements)(e).reduce(((e,t)=>e+(0,a.getParser)(t).getByteLength(t)),0)},encode({type:e,buffer:t,value:r,packed:s,tight:i}){const o=(0,n.getTupleElements)(e);return(0,a.pack)({types:o,values:r,byteArray:t,packed:s,tight:i})},decode({type:e,value:t,skip:r}){const s=(0,n.getTupleElements)(e);return r(this.getByteLength(e)-32),(0,a.unpack)(s,t)}}}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/abi-utils/dist/parsers/tuple.js"}],[2381,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/abi-utils/dist/types/abi.js"}],[2382,{"./abi":2381},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./abi"),n)}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/abi-utils/dist/types/index.js"}],[2383,{"@metamask/utils":2395},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.padEnd=n.padStart=n.set=void 0;const r=e("@metamask/utils");n.set=(e,t,n)=>(0,r.concatBytes)([e.subarray(0,n),t,e.subarray(n+t.length)]);n.padStart=(e,t=32)=>{const n=new Uint8Array(Math.max(t-e.length,0)).fill(0);return(0,r.concatBytes)([n,e])};n.padEnd=(e,t=32)=>{const n=new Uint8Array(Math.max(t-e.length,0)).fill(0);return(0,r.concatBytes)([e,n])}}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/abi-utils/dist/utils/buffer.js"}],[2384,{"./buffer":2383},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./buffer"),n)}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/abi-utils/dist/utils/index.js"}],[2385,{"./errors.cjs":2393,"@metamask/superstruct":2797},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.assertExhaustive=n.assertStruct=n.assert=n.AssertionError=void 0;const r=e("@metamask/superstruct"),s=e("./errors.cjs");function a(e,t){return n=e,Boolean("string"==typeof n?.prototype?.constructor?.name)?new e({message:t}):e({message:t});var n}class i extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}n.AssertionError=i,n.assert=function(e,t="Assertion failed.",n=i){if(!e){if(t instanceof Error)throw t;throw a(n,t)}},n.assertStruct=function(e,t,n="Assertion failed",o=i){try{(0,r.assert)(e,t)}catch(e){throw a(o,`${n}: ${function(e){return(0,s.getErrorMessage)(e).replace(/\.$/u,"")}(e)}.`)}},n.assertExhaustive=function(e){throw new Error("Invalid branch reached. Should be detected during compilation.")}}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/abi-utils>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/abi-utils/node_modules/@metamask/utils/dist/assert.cjs"}],[2386,{"./assert.cjs":2385,"@metamask/superstruct":2797},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.base64=void 0;const r=e("@metamask/superstruct"),s=e("./assert.cjs");n.base64=(e,t={})=>{const n=t.paddingRequired??!1,a=t.characterSet??"base64";let i,o;return"base64"===a?i=String.raw`[A-Za-z0-9+\/]`:((0,s.assert)("base64url"===a),i=String.raw`[-_A-Za-z0-9]`),o=n?new RegExp(`^(?:${i}{4})*(?:${i}{3}=|${i}{2}==)?$`,"u"):new RegExp(`^(?:${i}{4})*(?:${i}{2,3}|${i}{3}=|${i}{2}==)?$`,"u"),(0,r.pattern)(e,o)}}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/abi-utils>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/abi-utils/node_modules/@metamask/utils/dist/base64.cjs"}],[2387,{"./assert.cjs":2385,"./hex.cjs":2394,"@scure/base":2951,buffer:3941},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.createDataView=n.concatBytes=n.valueToBytes=n.base64ToBytes=n.stringToBytes=n.numberToBytes=n.signedBigIntToBytes=n.bigIntToBytes=n.hexToBytes=n.bytesToBase64=n.bytesToString=n.bytesToNumber=n.bytesToSignedBigInt=n.bytesToBigInt=n.bytesToHex=n.assertIsBytes=n.isBytes=void 0;const r=e("@scure/base"),s=e("./assert.cjs"),a=e("./hex.cjs"),i=48,o=58,c=87;const u=function(){const e=[];return()=>{if(0===e.length)for(let t=0;t<256;t++)e.push(t.toString(16).padStart(2,"0"));return e}}();function l(e){return e instanceof Uint8Array}function d(e){(0,s.assert)(l(e),"Value must be a Uint8Array.")}function m(e){if(d(e),0===e.length)return"0x";const t=u(),n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=t[e[r]];return(0,a.add0x)(n.join(""))}function p(e){d(e);const t=m(e);return BigInt(t)}function h(e){if("0x"===e?.toLowerCase?.())return new Uint8Array;(0,a.assertIsHexString)(e);const t=(0,a.remove0x)(e).toLowerCase(),n=t.length%2==0?t:`0${t}`,r=new Uint8Array(n.length/2);for(let e=0;e<r.length;e++){const t=n.charCodeAt(2*e),s=n.charCodeAt(2*e+1),a=t-(t<o?i:c),u=s-(s<o?i:c);r[e]=16*a+u}return r}function f(e){(0,s.assert)("bigint"==typeof e,"Value must be a bigint."),(0,s.assert)(e>=BigInt(0),"Value must be a non-negative bigint.");return h(e.toString(16))}function g(e){(0,s.assert)("number"==typeof e,"Value must be a number."),(0,s.assert)(e>=0,"Value must be a non-negative number."),(0,s.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToBytes` instead.");return h(e.toString(16))}function y(e){return(0,s.assert)("string"==typeof e,"Value must be a string."),(new TextEncoder).encode(e)}function b(e){if("bigint"==typeof e)return f(e);if("number"==typeof e)return g(e);if("string"==typeof e)return e.startsWith("0x")?h(e):y(e);if(l(e))return e;throw new TypeError(`Unsupported value type: "${typeof e}".`)}n.isBytes=l,n.assertIsBytes=d,n.bytesToHex=m,n.bytesToBigInt=p,n.bytesToSignedBigInt=function(e){d(e);let t=BigInt(0);for(const n of e)t=(t<<BigInt(8))+BigInt(n);return BigInt.asIntN(8*e.length,t)},n.bytesToNumber=function(e){d(e);const t=p(e);return(0,s.assert)(t<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(t)},n.bytesToString=function(e){return d(e),(new TextDecoder).decode(e)},n.bytesToBase64=function(e){return d(e),r.base64.encode(e)},n.hexToBytes=h,n.bigIntToBytes=f,n.signedBigIntToBytes=function(e,t){(0,s.assert)("bigint"==typeof e,"Value must be a bigint."),(0,s.assert)("number"==typeof t,"Byte length must be a number."),(0,s.assert)(t>0,"Byte length must be greater than 0."),(0,s.assert)(function(e,t){(0,s.assert)(t>0);const n=e>>BigInt(31);return!((~e&n)+(e&~n)>>BigInt(8*t-1))}(e,t),"Byte length is too small to represent the given value.");let n=e;const r=new Uint8Array(t);for(let e=0;e<r.length;e++)r[e]=Number(BigInt.asUintN(8,n)),n>>=BigInt(8);return r.reverse()},n.numberToBytes=g,n.stringToBytes=y,n.base64ToBytes=function(e){return(0,s.assert)("string"==typeof e,"Value must be a string."),r.base64.decode(e)},n.valueToBytes=b,n.concatBytes=function(e){const t=new Array(e.length);let n=0;for(let r=0;r<e.length;r++){const s=b(e[r]);t[r]=s,n+=s.length}const r=new Uint8Array(n);for(let e=0,n=0;e<t.length;e++)r.set(t[e],n),n+=t[e].length;return r},n.createDataView=function(e){if(void 0!==t&&e instanceof t){const t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return new DataView(t)}return new DataView(e.buffer,e.byteOffset,e.byteLength)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/abi-utils>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/abi-utils/node_modules/@metamask/utils/dist/bytes.cjs"}],[2388,{"./superstruct.cjs":2403,"@metamask/superstruct":2797},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.toCaipAssetId=n.toCaipAssetType=n.toCaipAccountId=n.toCaipChainId=n.parseCaipAssetId=n.parseCaipAssetType=n.parseCaipAccountId=n.parseCaipChainId=n.isCaipAssetId=n.isCaipAssetType=n.isCaipTokenId=n.isCaipAssetReference=n.isCaipAssetNamespace=n.isCaipAccountAddress=n.isCaipAccountId=n.isCaipReference=n.isCaipNamespace=n.isCaipChainId=n.KnownCaipNamespace=n.CaipAssetTypeOrIdStruct=n.CaipAssetIdStruct=n.CaipAssetTypeStruct=n.CaipTokenIdStruct=n.CaipAssetReferenceStruct=n.CaipAssetNamespaceStruct=n.CaipAccountAddressStruct=n.CaipAccountIdStruct=n.CaipReferenceStruct=n.CaipNamespaceStruct=n.CaipChainIdStruct=n.CAIP_ASSET_ID_REGEX=n.CAIP_ASSET_TYPE_REGEX=n.CAIP_TOKEN_ID_REGEX=n.CAIP_ASSET_REFERENCE_REGEX=n.CAIP_ASSET_NAMESPACE_REGEX=n.CAIP_ACCOUNT_ADDRESS_REGEX=n.CAIP_ACCOUNT_ID_REGEX=n.CAIP_REFERENCE_REGEX=n.CAIP_NAMESPACE_REGEX=n.CAIP_CHAIN_ID_REGEX=void 0;const r=e("@metamask/superstruct"),s=e("./superstruct.cjs");n.CAIP_CHAIN_ID_REGEX=/^(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})$/u,n.CAIP_NAMESPACE_REGEX=/^[-a-z0-9]{3,8}$/u,n.CAIP_REFERENCE_REGEX=/^[-_a-zA-Z0-9]{1,32}$/u,n.CAIP_ACCOUNT_ID_REGEX=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})):(?<accountAddress>[-.%a-zA-Z0-9]{1,128})$/u,n.CAIP_ACCOUNT_ADDRESS_REGEX=/^[-.%a-zA-Z0-9]{1,128}$/u,n.CAIP_ASSET_NAMESPACE_REGEX=/^[-a-z0-9]{3,8}$/u,n.CAIP_ASSET_REFERENCE_REGEX=/^[-.%a-zA-Z0-9]{1,128}$/u,n.CAIP_TOKEN_ID_REGEX=/^[-.%a-zA-Z0-9]{1,78}$/u,n.CAIP_ASSET_TYPE_REGEX=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})$/u,n.CAIP_ASSET_ID_REGEX=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})\/(?<tokenId>[-.%a-zA-Z0-9]{1,78})$/u;function a(e){return(0,r.is)(e,n.CaipNamespaceStruct)}function i(e){return(0,r.is)(e,n.CaipReferenceStruct)}function o(e){return(0,r.is)(e,n.CaipAccountAddressStruct)}function c(e){return(0,r.is)(e,n.CaipAssetNamespaceStruct)}function u(e){return(0,r.is)(e,n.CaipAssetReferenceStruct)}function l(e){return(0,r.is)(e,n.CaipTokenIdStruct)}n.CaipChainIdStruct=(0,s.definePattern)("CaipChainId",n.CAIP_CHAIN_ID_REGEX),n.CaipNamespaceStruct=(0,s.definePattern)("CaipNamespace",n.CAIP_NAMESPACE_REGEX),n.CaipReferenceStruct=(0,s.definePattern)("CaipReference",n.CAIP_REFERENCE_REGEX),n.CaipAccountIdStruct=(0,s.definePattern)("CaipAccountId",n.CAIP_ACCOUNT_ID_REGEX),n.CaipAccountAddressStruct=(0,s.definePattern)("CaipAccountAddress",n.CAIP_ACCOUNT_ADDRESS_REGEX),n.CaipAssetNamespaceStruct=(0,s.definePattern)("CaipAssetNamespace",n.CAIP_ASSET_NAMESPACE_REGEX),n.CaipAssetReferenceStruct=(0,s.definePattern)("CaipAssetReference",n.CAIP_ASSET_REFERENCE_REGEX),n.CaipTokenIdStruct=(0,s.definePattern)("CaipTokenId",n.CAIP_TOKEN_ID_REGEX),n.CaipAssetTypeStruct=(0,s.definePattern)("CaipAssetType",n.CAIP_ASSET_TYPE_REGEX),n.CaipAssetIdStruct=(0,s.definePattern)("CaipAssetId",n.CAIP_ASSET_ID_REGEX),n.CaipAssetTypeOrIdStruct=(0,s.definePattern)("CaipAssetTypeOrId",/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})(\/(?<tokenId>[-.%a-zA-Z0-9]{1,78}))?$/u),function(e){e.Bip122="bip122",e.Solana="solana",e.Eip155="eip155",e.Wallet="wallet"}(n.KnownCaipNamespace||(n.KnownCaipNamespace={})),n.isCaipChainId=function(e){return(0,r.is)(e,n.CaipChainIdStruct)},n.isCaipNamespace=a,n.isCaipReference=i,n.isCaipAccountId=function(e){return(0,r.is)(e,n.CaipAccountIdStruct)},n.isCaipAccountAddress=o,n.isCaipAssetNamespace=c,n.isCaipAssetReference=u,n.isCaipTokenId=l,n.isCaipAssetType=function(e){return(0,r.is)(e,n.CaipAssetTypeStruct)},n.isCaipAssetId=function(e){return(0,r.is)(e,n.CaipAssetIdStruct)},n.parseCaipChainId=function(e){const t=n.CAIP_CHAIN_ID_REGEX.exec(e);if(!t?.groups)throw new Error("Invalid CAIP chain ID.");return{namespace:t.groups.namespace,reference:t.groups.reference}},n.parseCaipAccountId=function(e){const t=n.CAIP_ACCOUNT_ID_REGEX.exec(e);if(!t?.groups)throw new Error("Invalid CAIP account ID.");return{address:t.groups.accountAddress,chainId:t.groups.chainId,chain:{namespace:t.groups.namespace,reference:t.groups.reference}}},n.parseCaipAssetType=function(e){const t=n.CAIP_ASSET_TYPE_REGEX.exec(e);if(!t?.groups)throw new Error("Invalid CAIP asset type.");return{assetNamespace:t.groups.assetNamespace,assetReference:t.groups.assetReference,chainId:t.groups.chainId,chain:{namespace:t.groups.namespace,reference:t.groups.reference}}},n.parseCaipAssetId=function(e){const t=n.CAIP_ASSET_ID_REGEX.exec(e);if(!t?.groups)throw new Error("Invalid CAIP asset ID.");return{assetNamespace:t.groups.assetNamespace,assetReference:t.groups.assetReference,tokenId:t.groups.tokenId,chainId:t.groups.chainId,chain:{namespace:t.groups.namespace,reference:t.groups.reference}}},n.toCaipChainId=function(e,t){if(!a(e))throw new Error(`Invalid "namespace", must match: ${n.CAIP_NAMESPACE_REGEX.toString()}`);if(!i(t))throw new Error(`Invalid "reference", must match: ${n.CAIP_REFERENCE_REGEX.toString()}`);return`${e}:${t}`},n.toCaipAccountId=function(e,t,r){if(!a(e))throw new Error(`Invalid "namespace", must match: ${n.CAIP_NAMESPACE_REGEX.toString()}`);if(!i(t))throw new Error(`Invalid "reference", must match: ${n.CAIP_REFERENCE_REGEX.toString()}`);if(!o(r))throw new Error(`Invalid "accountAddress", must match: ${n.CAIP_ACCOUNT_ADDRESS_REGEX.toString()}`);return`${e}:${t}:${r}`},n.toCaipAssetType=function(e,t,r,s){if(!a(e))throw new Error(`Invalid "namespace", must match: ${n.CAIP_NAMESPACE_REGEX.toString()}`);if(!i(t))throw new Error(`Invalid "reference", must match: ${n.CAIP_REFERENCE_REGEX.toString()}`);if(!c(r))throw new Error(`Invalid "assetNamespace", must match: ${n.CAIP_ASSET_NAMESPACE_REGEX.toString()}`);if(!u(s))throw new Error(`Invalid "assetReference", must match: ${n.CAIP_ASSET_REFERENCE_REGEX.toString()}`);return`${e}:${t}/${r}:${s}`},n.toCaipAssetId=function(e,t,r,s,o){if(!a(e))throw new Error(`Invalid "namespace", must match: ${n.CAIP_NAMESPACE_REGEX.toString()}`);if(!i(t))throw new Error(`Invalid "reference", must match: ${n.CAIP_REFERENCE_REGEX.toString()}`);if(!c(r))throw new Error(`Invalid "assetNamespace", must match: ${n.CAIP_ASSET_NAMESPACE_REGEX.toString()}`);if(!u(s))throw new Error(`Invalid "assetReference", must match: ${n.CAIP_ASSET_REFERENCE_REGEX.toString()}`);if(!l(o))throw new Error(`Invalid "tokenId", must match: ${n.CAIP_TOKEN_ID_REGEX.toString()}`);return`${e}:${t}/${r}:${s}/${o}`}}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/abi-utils>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/abi-utils/node_modules/@metamask/utils/dist/caip-types.cjs"}],[2389,{"./base64.cjs":2386,"@metamask/superstruct":2797},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ChecksumStruct=void 0;const r=e("@metamask/superstruct"),s=e("./base64.cjs");n.ChecksumStruct=(0,r.size)((0,s.base64)((0,r.string)(),{paddingRequired:!0}),44,44)}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/abi-utils>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/abi-utils/node_modules/@metamask/utils/dist/checksum.cjs"}],[2390,{"./assert.cjs":2385,"./bytes.cjs":2387,"./hex.cjs":2394,"@metamask/superstruct":2797},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createHex=n.createBytes=n.createBigInt=n.createNumber=void 0;const r=e("@metamask/superstruct"),s=e("./assert.cjs"),a=e("./bytes.cjs"),i=e("./hex.cjs"),o=(0,r.union)([(0,r.number)(),(0,r.bigint)(),(0,r.string)(),i.StrictHexStruct]),c=(0,r.coerce)((0,r.number)(),o,Number),u=(0,r.coerce)((0,r.bigint)(),o,BigInt),l=((0,r.union)([i.StrictHexStruct,(0,r.instance)(Uint8Array)]),(0,r.coerce)((0,r.instance)(Uint8Array),(0,r.union)([i.StrictHexStruct]),a.hexToBytes)),d=(0,r.coerce)(i.StrictHexStruct,(0,r.instance)(Uint8Array),a.bytesToHex);n.createNumber=function(e){try{const t=(0,r.create)(e,c);return(0,s.assert)(Number.isFinite(t),`Expected a number-like value, got "${e}".`),t}catch(t){if(t instanceof r.StructError)throw new Error(`Expected a number-like value, got "${e}".`);throw t}},n.createBigInt=function(e){try{return(0,r.create)(e,u)}catch(e){if(e instanceof r.StructError)throw new Error(`Expected a number-like value, got "${String(e.value)}".`);throw e}},n.createBytes=function(e){if("string"==typeof e&&"0x"===e.toLowerCase())return new Uint8Array;try{return(0,r.create)(e,l)}catch(e){if(e instanceof r.StructError)throw new Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}},n.createHex=function(e){if(e instanceof Uint8Array&&0===e.length||"string"==typeof e&&"0x"===e.toLowerCase())return"0x";try{return(0,r.create)(e,d)}catch(e){if(e instanceof r.StructError)throw new Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}}}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/abi-utils>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/abi-utils/node_modules/@metamask/utils/dist/coercers.cjs"}],[2391,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,s,a=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},i=this&&this.__classPrivateFieldSet||function(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n};Object.defineProperty(n,"__esModule",{value:!0}),n.FrozenSet=n.FrozenMap=void 0;class o{get size(){return a(this,r,"f").size}[(r=new WeakMap,Symbol.iterator)](){return a(this,r,"f")[Symbol.iterator]()}constructor(e){r.set(this,void 0),i(this,r,new Map(e),"f"),Object.freeze(this)}entries(){return a(this,r,"f").entries()}forEach(e,t){return a(this,r,"f").forEach(((n,r,s)=>e.call(t,n,r,this)))}get(e){return a(this,r,"f").get(e)}has(e){return a(this,r,"f").has(e)}keys(){return a(this,r,"f").keys()}values(){return a(this,r,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map((([e,t])=>`${String(e)} => ${String(t)}`)).join(", ")} `:""}}`}}n.FrozenMap=o;class c{get size(){return a(this,s,"f").size}[(s=new WeakMap,Symbol.iterator)](){return a(this,s,"f")[Symbol.iterator]()}constructor(e){s.set(this,void 0),i(this,s,new Set(e),"f"),Object.freeze(this)}entries(){return a(this,s,"f").entries()}forEach(e,t){return a(this,s,"f").forEach(((n,r,s)=>e.call(t,n,r,this)))}has(e){return a(this,s,"f").has(e)}keys(){return a(this,s,"f").keys()}values(){return a(this,s,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map((e=>String(e))).join(", ")} `:""}}`}}n.FrozenSet=c,Object.freeze(o),Object.freeze(o.prototype),Object.freeze(c),Object.freeze(c.prototype)}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/abi-utils>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/abi-utils/node_modules/@metamask/utils/dist/collections.cjs"}],[2392,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/abi-utils>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/abi-utils/node_modules/@metamask/utils/dist/encryption-types.cjs"}],[2393,{"./misc.cjs":2399,"pony-cause":4935},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.wrapError=n.getErrorMessage=n.isErrorWithStack=n.isErrorWithMessage=n.isErrorWithCode=void 0;const r=e("pony-cause"),s=e("./misc.cjs");function a(e){return"object"==typeof e&&null!==e&&"code"in e}function i(e){return"object"==typeof e&&null!==e&&"message"in e}n.isErrorWithCode=a,n.isErrorWithMessage=i,n.isErrorWithStack=function(e){return"object"==typeof e&&null!==e&&"stack"in e},n.getErrorMessage=function(e){return i(e)&&"string"==typeof e.message?e.message:(0,s.isNullOrUndefined)(e)?"":String(e)},n.wrapError=function(e,t){if((n=e)instanceof Error||(0,s.isObject)(n)&&"Error"===n.constructor.name){let n;return n=2===Error.length?new Error(t,{cause:e}):new r.ErrorWithCause(t,{cause:e}),a(e)&&(n.code=e.code),n}var n;return t.length>0?new Error(`${String(e)}: ${t}`):new Error(String(e))}}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/abi-utils>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/abi-utils/node_modules/@metamask/utils/dist/errors.cjs"}],[2394,{"./assert.cjs":2385,"./bytes.cjs":2387,"@metamask/superstruct":2797,"@noble/hashes/sha3":2931},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.remove0x=n.add0x=n.isValidChecksumAddress=n.getChecksumAddress=n.isValidHexAddress=n.assertIsStrictHexString=n.assertIsHexString=n.isStrictHexString=n.isHexString=n.HexChecksumAddressStruct=n.HexAddressStruct=n.StrictHexStruct=n.HexStruct=void 0;const r=e("@metamask/superstruct"),s=e("@noble/hashes/sha3"),a=e("./assert.cjs"),i=e("./bytes.cjs");function o(e){return(0,r.is)(e,n.HexStruct)}function c(e){return(0,r.is)(e,n.StrictHexStruct)}function u(e){(0,a.assert)((0,r.is)(e,n.HexChecksumAddressStruct),"Invalid hex address.");const t=d(e.toLowerCase()),o=d((0,i.bytesToHex)((0,s.keccak_256)(t)));return`0x${t.split("").map(((e,t)=>{const n=o[t];return(0,a.assert)((0,r.is)(n,(0,r.string)()),"Hash shorter than address."),parseInt(n,16)>7?e.toUpperCase():e})).join("")}`}function l(e){return!!(0,r.is)(e,n.HexChecksumAddressStruct)&&u(e)===e}function d(e){return e.startsWith("0x")||e.startsWith("0X")?e.substring(2):e}n.HexStruct=(0,r.pattern)((0,r.string)(),/^(?:0x)?[0-9a-f]+$/iu),n.StrictHexStruct=(0,r.pattern)((0,r.string)(),/^0x[0-9a-f]+$/iu),n.HexAddressStruct=(0,r.pattern)((0,r.string)(),/^0x[0-9a-f]{40}$/u),n.HexChecksumAddressStruct=(0,r.pattern)((0,r.string)(),/^0x[0-9a-fA-F]{40}$/u),n.isHexString=o,n.isStrictHexString=c,n.assertIsHexString=function(e){(0,a.assert)(o(e),"Value must be a hexadecimal string.")},n.assertIsStrictHexString=function(e){(0,a.assert)(c(e),'Value must be a hexadecimal string, starting with "0x".')},n.isValidHexAddress=function(e){return(0,r.is)(e,n.HexAddressStruct)||l(e)},n.getChecksumAddress=u,n.isValidChecksumAddress=l,n.add0x=function(e){return e.startsWith("0x")?e:e.startsWith("0X")?`0x${e.substring(2)}`:`0x${e}`},n.remove0x=d}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/abi-utils>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/abi-utils/node_modules/@metamask/utils/dist/hex.cjs"}],[2395,{"./assert.cjs":2385,"./base64.cjs":2386,"./bytes.cjs":2387,"./caip-types.cjs":2388,"./checksum.cjs":2389,"./coercers.cjs":2390,"./collections.cjs":2391,"./encryption-types.cjs":2392,"./errors.cjs":2393,"./hex.cjs":2394,"./json.cjs":2396,"./keyring.cjs":2397,"./logging.cjs":2398,"./misc.cjs":2399,"./number.cjs":2400,"./opaque.cjs":2401,"./promise.cjs":2402,"./superstruct.cjs":2403,"./time.cjs":2404,"./transaction-types.cjs":2405,"./versions.cjs":2406},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./assert.cjs"),n),s(e("./base64.cjs"),n),s(e("./bytes.cjs"),n),s(e("./caip-types.cjs"),n),s(e("./checksum.cjs"),n),s(e("./coercers.cjs"),n),s(e("./collections.cjs"),n),s(e("./encryption-types.cjs"),n),s(e("./errors.cjs"),n),s(e("./hex.cjs"),n),s(e("./json.cjs"),n),s(e("./keyring.cjs"),n),s(e("./logging.cjs"),n),s(e("./misc.cjs"),n),s(e("./number.cjs"),n),s(e("./opaque.cjs"),n),s(e("./promise.cjs"),n),s(e("./superstruct.cjs"),n),s(e("./time.cjs"),n),s(e("./transaction-types.cjs"),n),s(e("./versions.cjs"),n)}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/abi-utils>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/abi-utils/node_modules/@metamask/utils/dist/index.cjs"}],[2396,{"./assert.cjs":2385,"./misc.cjs":2399,"@metamask/superstruct":2797},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getJsonRpcIdValidator=n.assertIsJsonRpcError=n.isJsonRpcError=n.assertIsJsonRpcFailure=n.isJsonRpcFailure=n.assertIsJsonRpcSuccess=n.isJsonRpcSuccess=n.assertIsJsonRpcResponse=n.isJsonRpcResponse=n.assertIsPendingJsonRpcResponse=n.isPendingJsonRpcResponse=n.JsonRpcResponseStruct=n.JsonRpcFailureStruct=n.JsonRpcSuccessStruct=n.PendingJsonRpcResponseStruct=n.assertIsJsonRpcRequest=n.isJsonRpcRequest=n.assertIsJsonRpcNotification=n.isJsonRpcNotification=n.JsonRpcNotificationStruct=n.JsonRpcRequestStruct=n.JsonRpcParamsStruct=n.JsonRpcErrorStruct=n.JsonRpcIdStruct=n.JsonRpcVersionStruct=n.jsonrpc2=n.getJsonSize=n.getSafeJson=n.isValidJson=n.JsonStruct=n.UnsafeJsonStruct=n.exactOptional=n.object=void 0;const r=e("@metamask/superstruct"),s=e("./assert.cjs"),a=e("./misc.cjs");function i({path:e,branch:t}){const n=e[e.length-1];return(0,a.hasProperty)(t[t.length-2],n)}function o(e){return new r.Struct({...e,type:`optional ${e.type}`,validator:(t,n)=>!i(n)||e.validator(t,n),refiner:(t,n)=>!i(n)||e.refiner(t,n)})}function c(e){if(null===e||"boolean"==typeof e||"string"==typeof e)return!0;if("number"==typeof e&&Number.isFinite(e))return!0;if("object"==typeof e){let t=!0;if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(!c(e[n])){t=!1;break}return t}const n=Object.entries(e);for(let e=0;e<n.length;e++)if("string"!=typeof n[e][0]||!c(n[e][1])){t=!1;break}return t}return!1}function u(e){return(0,r.create)(e,n.JsonStruct)}n.object=e=>(0,r.object)(e),n.exactOptional=o,n.UnsafeJsonStruct=(0,r.define)("JSON",(e=>c(e))),n.JsonStruct=(0,r.coerce)(n.UnsafeJsonStruct,(0,r.refine)((0,r.any)(),"JSON",(e=>(0,r.is)(e,n.UnsafeJsonStruct))),(e=>JSON.parse(JSON.stringify(e,((e,t)=>"__proto__"===e||"constructor"===e?undefined:t))))),n.isValidJson=function(e){try{return u(e),!0}catch{return!1}},n.getSafeJson=u,n.getJsonSize=function(e){(0,s.assertStruct)(e,n.JsonStruct,"Invalid JSON value");const t=JSON.stringify(e);return(new TextEncoder).encode(t).byteLength},n.jsonrpc2="2.0",n.JsonRpcVersionStruct=(0,r.literal)(n.jsonrpc2),n.JsonRpcIdStruct=(0,r.nullable)((0,r.union)([(0,r.number)(),(0,r.string)()])),n.JsonRpcErrorStruct=(0,n.object)({code:(0,r.integer)(),message:(0,r.string)(),data:o(n.JsonStruct),stack:o((0,r.string)())}),n.JsonRpcParamsStruct=(0,r.union)([(0,r.record)((0,r.string)(),n.JsonStruct),(0,r.array)(n.JsonStruct)]),n.JsonRpcRequestStruct=(0,n.object)({id:n.JsonRpcIdStruct,jsonrpc:n.JsonRpcVersionStruct,method:(0,r.string)(),params:o(n.JsonRpcParamsStruct)}),n.JsonRpcNotificationStruct=(0,n.object)({jsonrpc:n.JsonRpcVersionStruct,method:(0,r.string)(),params:o(n.JsonRpcParamsStruct)}),n.isJsonRpcNotification=function(e){return(0,r.is)(e,n.JsonRpcNotificationStruct)},n.assertIsJsonRpcNotification=function(e,t){(0,s.assertStruct)(e,n.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",t)},n.isJsonRpcRequest=function(e){return(0,r.is)(e,n.JsonRpcRequestStruct)},n.assertIsJsonRpcRequest=function(e,t){(0,s.assertStruct)(e,n.JsonRpcRequestStruct,"Invalid JSON-RPC request",t)},n.PendingJsonRpcResponseStruct=(0,r.object)({id:n.JsonRpcIdStruct,jsonrpc:n.JsonRpcVersionStruct,result:(0,r.optional)((0,r.unknown)()),error:(0,r.optional)(n.JsonRpcErrorStruct)}),n.JsonRpcSuccessStruct=(0,n.object)({id:n.JsonRpcIdStruct,jsonrpc:n.JsonRpcVersionStruct,result:n.JsonStruct}),n.JsonRpcFailureStruct=(0,n.object)({id:n.JsonRpcIdStruct,jsonrpc:n.JsonRpcVersionStruct,error:n.JsonRpcErrorStruct}),n.JsonRpcResponseStruct=(0,r.union)([n.JsonRpcSuccessStruct,n.JsonRpcFailureStruct]),n.isPendingJsonRpcResponse=function(e){return(0,r.is)(e,n.PendingJsonRpcResponseStruct)},n.assertIsPendingJsonRpcResponse=function(e,t){(0,s.assertStruct)(e,n.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",t)},n.isJsonRpcResponse=function(e){return(0,r.is)(e,n.JsonRpcResponseStruct)},n.assertIsJsonRpcResponse=function(e,t){(0,s.assertStruct)(e,n.JsonRpcResponseStruct,"Invalid JSON-RPC response",t)},n.isJsonRpcSuccess=function(e){return(0,r.is)(e,n.JsonRpcSuccessStruct)},n.assertIsJsonRpcSuccess=function(e,t){(0,s.assertStruct)(e,n.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",t)},n.isJsonRpcFailure=function(e){return(0,r.is)(e,n.JsonRpcFailureStruct)},n.assertIsJsonRpcFailure=function(e,t){(0,s.assertStruct)(e,n.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",t)},n.isJsonRpcError=function(e){return(0,r.is)(e,n.JsonRpcErrorStruct)},n.assertIsJsonRpcError=function(e,t){(0,s.assertStruct)(e,n.JsonRpcErrorStruct,"Invalid JSON-RPC error",t)},n.getJsonRpcIdValidator=function(e){const{permitEmptyString:t,permitFractions:n,permitNull:r}={permitEmptyString:!0,permitFractions:!1,permitNull:!0,...e};return e=>Boolean("number"==typeof e&&(n||Number.isInteger(e))||"string"==typeof e&&(t||e.length>0)||r&&null===e)}}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/abi-utils>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/abi-utils/node_modules/@metamask/utils/dist/json.cjs"}],[2397,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/abi-utils>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/abi-utils/node_modules/@metamask/utils/dist/keyring.cjs"}],[2398,{debug:4094},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.createModuleLogger=n.createProjectLogger=void 0;const s=(0,r(e("debug")).default)("metamask");n.createProjectLogger=function(e){return s.extend(e)},n.createModuleLogger=function(e,t){return e.extend(t)}}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/abi-utils>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/abi-utils/node_modules/@metamask/utils/dist/logging.cjs"}],[2399,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.calculateNumberSize=n.calculateStringSize=n.isASCII=n.isPlainObject=n.ESCAPE_CHARACTERS_REGEXP=n.JsonSize=n.getKnownPropertyNames=n.hasProperty=n.isObject=n.isNullOrUndefined=n.isNonEmptyArray=void 0,n.isNonEmptyArray=function(e){return Array.isArray(e)&&e.length>0},n.isNullOrUndefined=function(e){return null===e||e===undefined},n.isObject=function(e){return Boolean(e)&&"object"==typeof e&&!Array.isArray(e)};function r(e){return e.charCodeAt(0)<=127}n.hasProperty=(e,t)=>Object.hasOwnProperty.call(e,t),n.getKnownPropertyNames=function(e){return Object.getOwnPropertyNames(e)},function(e){e[e.Null=4]="Null",e[e.Comma=1]="Comma",e[e.Wrapper=1]="Wrapper",e[e.True=4]="True",e[e.False=5]="False",e[e.Quote=1]="Quote",e[e.Colon=1]="Colon",e[e.Date=24]="Date"}(n.JsonSize||(n.JsonSize={})),n.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu,n.isPlainObject=function(e){if("object"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}},n.isASCII=r,n.calculateStringSize=function(e){return e.split("").reduce(((e,t)=>r(t)?e+1:e+2),0)+(e.match(n.ESCAPE_CHARACTERS_REGEXP)??[]).length},n.calculateNumberSize=function(e){return e.toString().length}}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/abi-utils>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/abi-utils/node_modules/@metamask/utils/dist/misc.cjs"}],[2400,{"./assert.cjs":2385,"./hex.cjs":2394},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.hexToBigInt=n.hexToNumber=n.bigIntToHex=n.numberToHex=void 0;const r=e("./assert.cjs"),s=e("./hex.cjs");n.numberToHex=e=>((0,r.assert)("number"==typeof e,"Value must be a number."),(0,r.assert)(e>=0,"Value must be a non-negative number."),(0,r.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,s.add0x)(e.toString(16)));n.bigIntToHex=e=>((0,r.assert)("bigint"==typeof e,"Value must be a bigint."),(0,r.assert)(e>=0,"Value must be a non-negative bigint."),(0,s.add0x)(e.toString(16)));n.hexToNumber=e=>{(0,s.assertIsHexString)(e);const t=parseInt(e,16);return(0,r.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `hexToBigInt` instead."),t};n.hexToBigInt=e=>((0,s.assertIsHexString)(e),BigInt((0,s.add0x)(e)))}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/abi-utils>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/abi-utils/node_modules/@metamask/utils/dist/number.cjs"}],[2401,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/abi-utils>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/abi-utils/node_modules/@metamask/utils/dist/opaque.cjs"}],[2402,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createDeferredPromise=void 0,n.createDeferredPromise=function({suppressUnhandledRejection:e=!1}={}){let t,n;const r=new Promise(((e,r)=>{t=e,n=r}));return e&&r.catch((e=>{})),{promise:r,resolve:t,reject:n}}}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/abi-utils>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/abi-utils/node_modules/@metamask/utils/dist/promise.cjs"}],[2403,{"@metamask/superstruct":2797},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.definePattern=void 0;const r=e("@metamask/superstruct");n.definePattern=function(e,t){return(0,r.define)(e,(e=>"string"==typeof e&&t.test(e)))}}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/abi-utils>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/abi-utils/node_modules/@metamask/utils/dist/superstruct.cjs"}],[2404,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.timeSince=n.inMilliseconds=n.Duration=void 0,function(e){e[e.Millisecond=1]="Millisecond",e[e.Second=1e3]="Second",e[e.Minute=6e4]="Minute",e[e.Hour=36e5]="Hour",e[e.Day=864e5]="Day",e[e.Week=6048e5]="Week",e[e.Year=31536e6]="Year"}(n.Duration||(n.Duration={}));const r=(e,t)=>{if(!(e=>Number.isInteger(e)&&e>=0)(e))throw new Error(`"${t}" must be a non-negative integer. Received: "${e}".`)};n.inMilliseconds=function(e,t){return r(e,"count"),e*t},n.timeSince=function(e){return r(e,"timestamp"),Date.now()-e}}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/abi-utils>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/abi-utils/node_modules/@metamask/utils/dist/time.cjs"}],[2405,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/abi-utils>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/abi-utils/node_modules/@metamask/utils/dist/transaction-types.cjs"}],[2406,{"./assert.cjs":2385,"@metamask/superstruct":2797,semver:5479},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.satisfiesVersionRange=n.gtRange=n.gtVersion=n.assertIsSemVerRange=n.assertIsSemVerVersion=n.isValidSemVerRange=n.isValidSemVerVersion=n.VersionRangeStruct=n.VersionStruct=void 0;const r=e("@metamask/superstruct"),s=e("semver"),a=e("./assert.cjs");n.VersionStruct=(0,r.refine)((0,r.string)(),"Version",(e=>null!==(0,s.valid)(e)||`Expected SemVer version, got "${e}"`)),n.VersionRangeStruct=(0,r.refine)((0,r.string)(),"Version range",(e=>null!==(0,s.validRange)(e)||`Expected SemVer range, got "${e}"`)),n.isValidSemVerVersion=function(e){return(0,r.is)(e,n.VersionStruct)},n.isValidSemVerRange=function(e){return(0,r.is)(e,n.VersionRangeStruct)},n.assertIsSemVerVersion=function(e){(0,a.assertStruct)(e,n.VersionStruct)},n.assertIsSemVerRange=function(e){(0,a.assertStruct)(e,n.VersionRangeStruct)},n.gtVersion=function(e,t){return(0,s.gt)(e,t)},n.gtRange=function(e,t){return(0,s.gtr)(e,t)},n.satisfiesVersionRange=function(e,t){return(0,s.satisfies)(e,t,{includePrerelease:!0})}}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/abi-utils>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/abi-utils/node_modules/@metamask/utils/dist/versions.cjs"}],[2407,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.BaseControllerV1=n.isBaseControllerV1=void 0,n.isBaseControllerV1=function(e){return"name"in e&&"string"==typeof e.name&&"config"in e&&"object"==typeof e.config&&"defaultConfig"in e&&"object"==typeof e.defaultConfig&&"state"in e&&"object"==typeof e.state&&"defaultState"in e&&"object"==typeof e.defaultState&&"disabled"in e&&"boolean"==typeof e.disabled&&"subscribe"in e&&"function"==typeof e.subscribe};class r{constructor(e={},t={}){this.defaultConfig={},this.defaultState={},this.disabled=!1,this.name="BaseController",this.internalConfig=this.defaultConfig,this.internalState=this.defaultState,this.internalListeners=[],this.initialState=t,this.initialConfig=e}initialize(){return this.internalState=this.defaultState,this.internalConfig=this.defaultConfig,this.configure(this.initialConfig),this.update(this.initialState),this}get config(){return this.internalConfig}get state(){return this.internalState}configure(e,t=!1,n=!0){if(n){this.internalConfig=t?e:Object.assign(this.internalConfig,e);for(const e of Object.keys(this.internalConfig)){const t=this.internalConfig[e];t!==undefined&&(this[e]=t)}}else for(const t of Object.keys(e))if(this.internalConfig[t]!==undefined){const n=e[t];this.internalConfig[t]=n,this[t]=n}}notify(){this.disabled||this.internalListeners.forEach((e=>{e(this.internalState)}))}subscribe(e){this.internalListeners.push(e)}unsubscribe(e){const t=this.internalListeners.findIndex((t=>e===t));return t>-1&&this.internalListeners.splice(t,1),t>-1}update(e,t=!1){this.internalState=t?Object.assign({},e):Object.assign({},this.internalState,e),this.notify()}}n.BaseControllerV1=r,n.default=r}}},{package:"@metamask/signature-controller>@metamask/base-controller",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/base-controller/dist/BaseControllerV1.cjs"}],[2408,{immer:4581},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,s=this&&this.__classPrivateFieldSet||function(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n},a=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.getPersistentState=n.getAnonymizedState=n.BaseController=n.isBaseController=void 0;const i=e("immer");(0,i.enablePatches)(),n.isBaseController=function(e){return"name"in e&&"string"==typeof e.name&&"state"in e&&"object"==typeof e.state&&"metadata"in e&&"object"==typeof e.metadata};function o(e,t,n){return Object.keys(e).reduce(((r,s)=>{try{const a=t[s];if(!a)throw new Error(`No metadata found for '${String(s)}'`);const i=a[n],o=e[s];return"function"==typeof i?r[s]=i(o):i&&(r[s]=o),r}catch(e){return setTimeout((()=>{throw e})),r}}),{})}n.BaseController=class{constructor({messenger:e,metadata:t,name:n,state:a}){r.set(this,void 0),this.messagingSystem=e,this.name=n,s(this,r,(0,i.freeze)(a,!0),"f"),this.metadata=t,this.messagingSystem.registerActionHandler(`${n}:getState`,(()=>this.state)),this.messagingSystem.registerInitialEventPayload({eventType:`${n}:stateChange`,getPayload:()=>[this.state,[]]})}get state(){return a(this,r,"f")}set state(e){throw new Error("Controller state cannot be directly mutated; use 'update' method instead.")}update(e){const[t,n,o]=i.produceWithPatches(a(this,r,"f"),e);return s(this,r,t,"f"),this.messagingSystem.publish(`${this.name}:stateChange`,t,n),{nextState:t,patches:n,inversePatches:o}}applyPatches(e){const t=(0,i.applyPatches)(a(this,r,"f"),e);s(this,r,t,"f"),this.messagingSystem.publish(`${this.name}:stateChange`,t,e)}destroy(){this.messagingSystem.clearEventSubscriptions(`${this.name}:stateChange`)}},r=new WeakMap,n.getAnonymizedState=function(e,t){return o(e,t,"anonymous")},n.getPersistentState=function(e,t){return o(e,t,"persist")}}}},{package:"@metamask/signature-controller>@metamask/base-controller",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/base-controller/dist/BaseControllerV2.cjs"}],[2409,{"./RestrictedMessenger.cjs":2410},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,s,a,i,o=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.ControllerMessenger=n.Messenger=void 0;const c=e("./RestrictedMessenger.cjs");class u{constructor(){r.set(this,new Map),s.set(this,new Map),a.set(this,new Map),i.set(this,new Map)}registerActionHandler(e,t){if(o(this,r,"f").has(e))throw new Error(`A handler for ${e} has already been registered`);o(this,r,"f").set(e,t)}unregisterActionHandler(e){o(this,r,"f").delete(e)}clearActions(){o(this,r,"f").clear()}call(e,...t){const n=o(this,r,"f").get(e);if(!n)throw new Error(`A handler for ${e} has not been registered`);return n(...t)}registerInitialEventPayload({eventType:e,getPayload:t}){o(this,a,"f").set(e,t)}publish(e,...t){const n=o(this,s,"f").get(e);if(n)for(const[e,r]of n.entries())try{if(r){const n=o(this,i,"f").get(e),s=r(...t);s!==n&&(o(this,i,"f").set(e,s),e(s,n))}else e(...t)}catch(e){setTimeout((()=>{throw e}))}}subscribe(e,t,n){let r=o(this,s,"f").get(e);if(r||(r=new Map,o(this,s,"f").set(e,r)),r.set(t,n),n){const r=o(this,a,"f").get(e);if(r){const e=n(...r());o(this,i,"f").set(t,e)}}}unsubscribe(e,t){const n=o(this,s,"f").get(e);if(!n||!n.has(t))throw new Error(`Subscription not found for event: ${e}`);n.get(t)&&o(this,i,"f").delete(t),n.delete(t)}clearEventSubscriptions(e){o(this,s,"f").delete(e)}clearSubscriptions(){o(this,s,"f").clear()}getRestricted({name:e,allowedActions:t,allowedEvents:n}){return new c.RestrictedMessenger({messenger:this,name:e,allowedActions:t,allowedEvents:n})}}n.Messenger=u,n.ControllerMessenger=u,r=new WeakMap,s=new WeakMap,a=new WeakMap,i=new WeakMap}}},{package:"@metamask/signature-controller>@metamask/base-controller",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/base-controller/dist/Messenger.cjs"}],[2410,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,s,a,i,o,c,u,l,d=this&&this.__classPrivateFieldSet||function(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n},m=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.RestrictedControllerMessenger=n.RestrictedMessenger=void 0;class p{constructor({controllerMessenger:e,messenger:t,name:n,allowedActions:c,allowedEvents:u}){if(r.add(this),s.set(this,void 0),a.set(this,void 0),i.set(this,void 0),o.set(this,void 0),t&&e)throw new Error("Both messenger properties provided. Provide message using only 'messenger' option, 'controllerMessenger' is deprecated");if(!t&&!e)throw new Error("Messenger not provided");d(this,s,t??e,"f"),d(this,a,n,"f"),d(this,i,c,"f"),d(this,o,u,"f")}registerActionHandler(e,t){if(!m(this,r,"m",l).call(this,e))throw new Error(`Only allowed registering action handlers prefixed by '${m(this,a,"f")}:'`);m(this,s,"f").registerActionHandler(e,t)}unregisterActionHandler(e){if(!m(this,r,"m",l).call(this,e))throw new Error(`Only allowed unregistering action handlers prefixed by '${m(this,a,"f")}:'`);m(this,s,"f").unregisterActionHandler(e)}call(e,...t){if(!m(this,r,"m",u).call(this,e))throw new Error(`Action missing from allow list: ${e}`);return m(this,s,"f").call(e,...t)}registerInitialEventPayload({eventType:e,getPayload:t}){if(!m(this,r,"m",l).call(this,e))throw new Error(`Only allowed publishing events prefixed by '${m(this,a,"f")}:'`);m(this,s,"f").registerInitialEventPayload({eventType:e,getPayload:t})}publish(e,...t){if(!m(this,r,"m",l).call(this,e))throw new Error(`Only allowed publishing events prefixed by '${m(this,a,"f")}:'`);m(this,s,"f").publish(e,...t)}subscribe(e,t,n){if(!m(this,r,"m",c).call(this,e))throw new Error(`Event missing from allow list: ${e}`);return n?m(this,s,"f").subscribe(e,t,n):m(this,s,"f").subscribe(e,t)}unsubscribe(e,t){if(!m(this,r,"m",c).call(this,e))throw new Error(`Event missing from allow list: ${e}`);m(this,s,"f").unsubscribe(e,t)}clearEventSubscriptions(e){if(!m(this,r,"m",l).call(this,e))throw new Error(`Only allowed clearing events prefixed by '${m(this,a,"f")}:'`);m(this,s,"f").clearEventSubscriptions(e)}}n.RestrictedMessenger=p,n.RestrictedControllerMessenger=p,s=new WeakMap,a=new WeakMap,i=new WeakMap,o=new WeakMap,r=new WeakSet,c=function(e){const t=m(this,o,"f");return m(this,r,"m",l).call(this,e)||null!==t&&t.includes(e)},u=function(e){const t=m(this,i,"f");return m(this,r,"m",l).call(this,e)||null!==t&&t.includes(e)},l=function(e){return e.startsWith(`${m(this,a,"f")}:`)}}}},{package:"@metamask/signature-controller>@metamask/base-controller",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/base-controller/dist/RestrictedMessenger.cjs"}],[2411,{"./BaseControllerV1.cjs":2407,"./BaseControllerV2.cjs":2408,"./Messenger.cjs":2409,"./RestrictedMessenger.cjs":2410},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.RestrictedMessenger=n.RestrictedControllerMessenger=n.Messenger=n.ControllerMessenger=n.isBaseController=n.getPersistentState=n.getAnonymizedState=n.BaseController=n.isBaseControllerV1=n.BaseControllerV1=void 0;var r=e("./BaseControllerV1.cjs");Object.defineProperty(n,"BaseControllerV1",{enumerable:!0,get:function(){return r.BaseControllerV1}}),Object.defineProperty(n,"isBaseControllerV1",{enumerable:!0,get:function(){return r.isBaseControllerV1}});var s=e("./BaseControllerV2.cjs");Object.defineProperty(n,"BaseController",{enumerable:!0,get:function(){return s.BaseController}}),Object.defineProperty(n,"getAnonymizedState",{enumerable:!0,get:function(){return s.getAnonymizedState}}),Object.defineProperty(n,"getPersistentState",{enumerable:!0,get:function(){return s.getPersistentState}}),Object.defineProperty(n,"isBaseController",{enumerable:!0,get:function(){return s.isBaseController}});var a=e("./Messenger.cjs");Object.defineProperty(n,"ControllerMessenger",{enumerable:!0,get:function(){return a.ControllerMessenger}}),Object.defineProperty(n,"Messenger",{enumerable:!0,get:function(){return a.Messenger}});var i=e("./RestrictedMessenger.cjs");Object.defineProperty(n,"RestrictedControllerMessenger",{enumerable:!0,get:function(){return i.RestrictedControllerMessenger}}),Object.defineProperty(n,"RestrictedMessenger",{enumerable:!0,get:function(){return i.RestrictedMessenger}})}}},{package:"@metamask/signature-controller>@metamask/base-controller",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/base-controller/dist/index.cjs"}],[2412,{"./utils":2417,"@scure/base":2951,buffer:3941,tweetnacl:5548},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return s(t,e),t};Object.defineProperty(n,"__esModule",{value:!0}),n.getEncryptionPublicKey=n.decryptSafely=n.decrypt=n.encryptSafely=n.encrypt=void 0;const i=e("@scure/base"),o=a(e("tweetnacl")),c=e("./utils");function u({publicKey:e,data:t,version:n}){if((0,c.isNullish)(e))throw new Error("Missing publicKey parameter");if((0,c.isNullish)(t))throw new Error("Missing data parameter");if((0,c.isNullish)(n))throw new Error("Missing version parameter");if("x25519-xsalsa20-poly1305"===n){if("string"!=typeof t)throw new Error("Message data must be given as a string");const n=o.box.keyPair();let r;try{r=i.base64.decode(e)}catch(e){throw new Error("Bad public key")}const s=i.utf8.decode(t),a=o.randomBytes(o.box.nonceLength),c=o.box(s,a,r,n.secretKey);return{version:"x25519-xsalsa20-poly1305",nonce:i.base64.encode(a),ephemPublicKey:i.base64.encode(n.publicKey),ciphertext:i.base64.encode(c)}}throw new Error("Encryption type/version not supported")}function l({encryptedData:e,privateKey:n}){if((0,c.isNullish)(e))throw new Error("Missing encryptedData parameter");if((0,c.isNullish)(n))throw new Error("Missing privateKey parameter");if("x25519-xsalsa20-poly1305"===e.version){const r=t.from(n,"hex"),s=o.box.keyPair.fromSecretKey(r).secretKey,a=i.base64.decode(e.nonce),c=i.base64.decode(e.ciphertext),u=i.base64.decode(e.ephemPublicKey),l=o.box.open(c,a,u,s);try{if(!l)throw new Error;const e=i.utf8.encode(l);if(!e)throw new Error;return e}catch(e){if(e&&"string"==typeof e.message&&e.message.length)throw new Error(`Decryption failed: ${e.message}`);throw new Error("Decryption failed.")}}throw new Error("Encryption type/version not supported.")}n.encrypt=u,n.encryptSafely=function({publicKey:e,data:n,version:r}){if((0,c.isNullish)(e))throw new Error("Missing publicKey parameter");if((0,c.isNullish)(n))throw new Error("Missing data parameter");if((0,c.isNullish)(r))throw new Error("Missing version parameter");if("object"==typeof n&&n&&"toJSON"in n)throw new Error("Cannot encrypt with toJSON property.  Please remove toJSON property");const s={data:n,padding:""},a=t.byteLength(JSON.stringify(s),"utf-8")%2048;let i=0;return a>0&&(i=2048-a-16),s.padding="0".repeat(i),u({publicKey:e,data:JSON.stringify(s),version:r})},n.decrypt=l,n.decryptSafely=function({encryptedData:e,privateKey:t}){if((0,c.isNullish)(e))throw new Error("Missing encryptedData parameter");if((0,c.isNullish)(t))throw new Error("Missing privateKey parameter");return JSON.parse(l({encryptedData:e,privateKey:t})).data},n.getEncryptionPublicKey=function(e){const n=t.from(e,"hex"),r=o.box.keyPair.fromSecretKey(n).publicKey;return i.base64.encode(r)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/eth-sig-util/dist/encryption.js"}],[2413,{"./encryption":2412,"./personal-sign":2414,"./sign-eip7702-authorization":2415,"./sign-typed-data":2416,"./utils":2417},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),n.normalize=n.concatSig=void 0,s(e("./personal-sign"),n),s(e("./sign-typed-data"),n),s(e("./encryption"),n),s(e("./sign-eip7702-authorization"),n);var a=e("./utils");Object.defineProperty(n,"concatSig",{enumerable:!0,get:function(){return a.concatSig}}),Object.defineProperty(n,"normalize",{enumerable:!0,get:function(){return a.normalize}})}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/eth-sig-util/dist/index.js"}],[2414,{"./utils":2417,"@ethereumjs/util":533},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.extractPublicKey=n.recoverPersonalSignature=n.personalSign=void 0;const r=e("@ethereumjs/util"),s=e("./utils");function a(e,t){const n=(0,r.hashPersonalMessage)((0,s.legacyToBuffer)(e));return(0,s.recoverPublicKey)(n,t)}n.personalSign=function({privateKey:e,data:t}){if((0,s.isNullish)(t))throw new Error("Missing data parameter");if((0,s.isNullish)(e))throw new Error("Missing privateKey parameter");const n=(0,s.legacyToBuffer)(t),a=(0,r.hashPersonalMessage)(n),i=(0,r.ecsign)(a,e);return(0,s.concatSig)((0,r.toBuffer)(i.v),i.r,i.s)},n.recoverPersonalSignature=function({data:e,signature:t}){if((0,s.isNullish)(e))throw new Error("Missing data parameter");if((0,s.isNullish)(t))throw new Error("Missing signature parameter");const n=a(e,t),i=(0,r.publicToAddress)(n);return(0,r.bufferToHex)(i)},n.extractPublicKey=function({data:e,signature:t}){if((0,s.isNullish)(e))throw new Error("Missing data parameter");if((0,s.isNullish)(t))throw new Error("Missing signature parameter");return`0x${a(e,t).toString("hex")}`}}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/eth-sig-util/dist/personal-sign.js"}],[2415,{"./utils":2417,"@ethereumjs/rlp":516,"@ethereumjs/util":533,"@metamask/utils":2428,buffer:3941,"ethereum-cryptography/keccak":4176},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.hashEIP7702Authorization=n.recoverEIP7702Authorization=n.signEIP7702Authorization=void 0;const r=e("@ethereumjs/rlp"),s=e("@ethereumjs/util"),a=e("@metamask/utils"),i=e("ethereum-cryptography/keccak"),o=e("./utils");function c(e){u(e);const n=(0,r.encode)(e),s=t.concat([t.from("05","hex"),n]);return t.from((0,i.keccak256)(s))}function u(e){if((0,o.isNullish)(e))throw new Error("Missing authorization parameter");const[t,n,r]=e;if((0,o.isNullish)(t))throw new Error("Missing chainId parameter");if((0,o.isNullish)(n))throw new Error("Missing contractAddress parameter");if((0,o.isNullish)(r))throw new Error("Missing nonce parameter")}n.signEIP7702Authorization=function({privateKey:e,authorization:t}){if(u(t),(0,o.isNullish)(e))throw new Error("Missing privateKey parameter");const n=c(t),{r:r,s:a,v:i}=(0,s.ecsign)(n,e),l=(0,s.toBuffer)(i);return(0,o.concatSig)(l,r,a)},n.recoverEIP7702Authorization=function({signature:e,authorization:t}){if(u(t),(0,o.isNullish)(e))throw new Error("Missing signature parameter");const n=c(t),r=(0,o.recoverPublicKey)(n,e),i=(0,s.publicToAddress)(r);return(0,a.bytesToHex)(i)},n.hashEIP7702Authorization=c}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/eth-sig-util/dist/sign-eip7702-authorization.js"}],[2416,{"./utils":2417,"@ethereumjs/util":533,"@metamask/abi-utils":2367,"@metamask/abi-utils/dist/parsers":2376,"@metamask/abi-utils/dist/utils":2384,"@metamask/utils":2428,"ethereum-cryptography/keccak":4176},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.recoverTypedSignature=n.signTypedData=n.typedSignatureHash=n.TypedDataUtils=n.TYPED_MESSAGE_SCHEMA=n.SignTypedDataVersion=void 0;const r=e("@ethereumjs/util"),s=e("@metamask/abi-utils"),a=e("@metamask/abi-utils/dist/parsers"),i=e("@metamask/abi-utils/dist/utils"),o=e("@metamask/utils"),c=e("ethereum-cryptography/keccak"),u=e("./utils");var l;function d(e,t){if(!Object.keys(l).includes(e))throw new Error(`Invalid version: '${e}'`);if(t&&!t.includes(e))throw new Error(`SignTypedDataVersion not allowed: '${e}'. Allowed versions are: ${t.join(", ")}`)}function m(e,t){(0,o.assert)(null!==t,`Unable to encode value: Invalid number. Expected a valid number value, but received "${t}".`);const n=BigInt(t),r=(0,a.getLength)(e),s=BigInt(2)**BigInt(r)-BigInt(1);return(0,o.assert)(n>=-s&&n<=s,`Unable to encode value: Number "${t}" is out of range for type "${e}".`),n}function p(e){let t=BigInt(0);for(let n=0;n<e.length;n++){const r=BigInt(e.charCodeAt(n)-48);t*=BigInt(10),t+=r>=49?r-BigInt(49)+BigInt(10):r>=17?r-BigInt(17)+BigInt(10):r}return(0,i.padStart)((0,o.bigIntToBytes)(t),20)}function h(e,t,n,a,u){if(d(u,[l.V3,l.V4]),e[n]!==undefined)return["bytes32",u===l.V4&&null==a?"0x0000000000000000000000000000000000000000000000000000000000000000":(0,r.arrToBufArr)((0,c.keccak256)(f(n,a,e,u)))];if("function"===n)throw new Error('Unsupported or invalid type: "function"');if(a===undefined)throw new Error(`missing value for field ${t} of type ${n}`);if("address"===n){if("number"==typeof a)return["address",(0,i.padStart)((0,o.numberToBytes)(a),20)];if((0,o.isStrictHexString)(a))return["address",(0,o.add0x)(a)];if("string"==typeof a)return["address",p(a).subarray(0,20)]}if("bool"===n)return["bool",Boolean(a)];if("bytes"===n)return"number"==typeof a?a=(0,o.numberToBytes)(a):(0,o.isStrictHexString)(a)||"0x"===a?a=(0,o.hexToBytes)(a):"string"==typeof a&&(a=(0,o.stringToBytes)(a)),["bytes32",(0,r.arrToBufArr)((0,c.keccak256)(a))];if(n.startsWith("bytes")&&"bytes"!==n&&!n.includes("["))return"number"==typeof a?a<0?["bytes32",new Uint8Array(32)]:["bytes32",(0,o.bigIntToBytes)(BigInt(a))]:(0,o.isStrictHexString)(a)?["bytes32",(0,o.hexToBytes)(a)]:["bytes32",a];if(n.startsWith("int")&&!n.includes("[")){const e=m(n,a);return e>=BigInt(0)?["uint256",e]:["int256",e]}if("string"===n)return a="number"==typeof a?(0,o.numberToBytes)(a):(0,o.stringToBytes)(null!=a?a:""),["bytes32",(0,r.arrToBufArr)((0,c.keccak256)(a))];if(n.endsWith("]")){if(u===l.V3)throw new Error("Arrays are unimplemented in encodeData; use V4 extension");const i=n.slice(0,n.lastIndexOf("[")),o=a.map((n=>h(e,t,i,n,u)));return["bytes32",(0,r.arrToBufArr)((0,c.keccak256)((0,s.encode)(o.map((([e])=>e)),o.map((([,e])=>e)))))]}return[n,a]}function f(e,t,n,a){d(a,[l.V3,l.V4]);const i=["bytes32"],o=[x(e,n)];for(const r of n[e]){if(a===l.V3&&t[r.name]===undefined)continue;const[e,s]=h(n,r.name,r.type,t[r.name],a);i.push(e),o.push(s)}return(0,r.arrToBufArr)((0,s.encode)(i,o))}function g(e,t){let n="";const r=y(e,t);r.delete(e);const s=[e,...Array.from(r).sort()];for(const e of s){if(!t[e])throw new Error(`No type definition specified: ${e}`);n+=`${e}(${t[e].map((({name:e,type:t})=>`${t} ${e}`)).join(",")})`}return n}function y(e,t,n=new Set){if("string"!=typeof e)throw new Error(`Invalid findTypeDependencies input ${JSON.stringify(e)}`);const r=e.match(/^\w*/u);if([e]=r,n.has(e)||t[e]===undefined)return n;n.add(e);for(const r of t[e])y(r.type,t,n);return n}function b(e,t,n,s){d(s,[l.V3,l.V4]);const a=f(e,t,n,s),i=(0,c.keccak256)(a);return(0,r.arrToBufArr)(i)}function x(e,t){const n=(0,o.stringToBytes)(g(e,t));return(0,r.arrToBufArr)((0,c.keccak256)(n))}function v(e){const t={};for(const r in n.TYPED_MESSAGE_SCHEMA.properties)e[r]&&(t[r]=e[r]);return"types"in t&&(t.types=Object.assign({EIP712Domain:[]},t.types)),t}function S(e,t){d(t,[l.V3,l.V4]);const n=v(e),{domain:r}=n;return b("EIP712Domain",r,{EIP712Domain:n.types.EIP712Domain},t)}function w(e,t){if((0,a.isArrayType)(e)&&Array.isArray(t)){const[n]=(0,a.getArrayType)(e);return t.map((e=>w(n,e)))}if("address"===e){if((0,o.isStrictHexString)(t))return(0,i.padStart)((0,o.hexToBytes)(t).subarray(0,20),20);if(t instanceof Uint8Array)return(0,i.padStart)(t.subarray(0,20),20)}if("bool"===e)return Boolean(t);if(e.startsWith("bytes")&&"bytes"!==e){const n=(0,a.getByteLength)(e);if("number"==typeof t)return t<0?new Uint8Array:(0,o.numberToBytes)(t).subarray(0,n);if((0,o.isStrictHexString)(t))return(0,o.hexToBytes)(t).subarray(0,n);if(t instanceof Uint8Array)return t.subarray(0,n)}if(e.startsWith("uint")&&"number"==typeof t)return Math.abs(t);if(e.startsWith("int")&&"number"==typeof t){const n=(0,a.getLength)(e);return BigInt.asIntN(n,BigInt(t))}return t}function k(e,t){return t.map((t=>{if("string"==typeof t||"number"==typeof t||"bigint"==typeof t){const n=m(e,t);if(n>=BigInt(0))return(0,i.padStart)((0,o.bigIntToBytes)(n),32);const r=(0,a.getLength)(e),s=BigInt.asIntN(r,n);return(0,o.signedBigIntToBytes)(s,32)}return t}))}function T(e){const t=new Error("Expect argument to be non-empty array");if("object"!=typeof e||!("length"in e)||!e.length)throw t;const n=e.map((({name:e,type:t,value:n})=>{if("address[]"===t)return{name:e,type:"bytes32[]",value:(r=n,r.map((e=>"number"==typeof e?(0,i.padStart)((0,o.numberToBytes)(e),32):(0,o.isStrictHexString)(e)?(0,i.padStart)((0,o.hexToBytes)(e).subarray(0,32),32):e instanceof Uint8Array?(0,i.padStart)(e.subarray(0,32),32):e)))};var r;if(t.startsWith("int")&&(0,a.isArrayType)(t)){const[r,s]=(0,a.getArrayType)(t);return{name:e,type:`bytes32[${null!=s?s:""}]`,value:k(r,n)}}return{name:e,type:t,value:w(t,n)}})),l=n.map((e=>"bytes"!==e.type?e.value:(0,u.legacyToBuffer)(e.value))),d=n.map((e=>{if("function"===e.type)throw new Error('Unsupported or invalid type: "function"');return e.type})),m=e.map((e=>{if(!e.name)throw t;return`${e.type} ${e.name}`}));return(0,r.arrToBufArr)((0,c.keccak256)((0,s.encodePacked)(["bytes32","bytes32"],[(0,c.keccak256)((0,s.encodePacked)(["string[]"],[m],!0)),(0,c.keccak256)((0,s.encodePacked)(d,l,!0))])))}!function(e){e.V1="V1",e.V3="V3",e.V4="V4"}(l=n.SignTypedDataVersion||(n.SignTypedDataVersion={})),n.TYPED_MESSAGE_SCHEMA={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},n.TypedDataUtils={encodeData:f,encodeType:g,findTypeDependencies:y,hashStruct:b,hashType:x,sanitizeData:v,eip712Hash:function(e,t){d(t,[l.V3,l.V4]);const n=v(e),s=[(0,o.hexToBytes)("1901")];return s.push(S(e,t)),"EIP712Domain"!==n.primaryType&&s.push(b(n.primaryType,n.message,n.types,t)),(0,r.arrToBufArr)((0,c.keccak256)((0,o.concatBytes)(s)))},eip712DomainHash:S},n.typedSignatureHash=function(e){const t=T(e);return(0,o.bytesToHex)(t)},n.signTypedData=function({privateKey:e,data:t,version:s}){if(d(s),(0,u.isNullish)(t))throw new Error("Missing data parameter");if((0,u.isNullish)(e))throw new Error("Missing private key parameter");const a=s===l.V1?T(t):n.TypedDataUtils.eip712Hash(t,s),i=(0,r.ecsign)(a,e);return(0,u.concatSig)((0,r.arrToBufArr)((0,o.bigIntToBytes)(i.v)),i.r,i.s)},n.recoverTypedSignature=function({data:e,signature:t,version:s}){if(d(s),(0,u.isNullish)(e))throw new Error("Missing data parameter");if((0,u.isNullish)(t))throw new Error("Missing signature parameter");const a=s===l.V1?T(e):n.TypedDataUtils.eip712Hash(e,s),i=(0,u.recoverPublicKey)(a,t),c=(0,r.publicToAddress)(i);return(0,o.bytesToHex)(c)}}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/eth-sig-util/dist/sign-typed-data.js"}],[2417,{"@ethereumjs/util":533,"@metamask/utils":2428,buffer:3941},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.normalize=n.recoverPublicKey=n.concatSig=n.legacyToBuffer=n.isNullish=n.padWithZeroes=void 0;const r=e("@ethereumjs/util"),s=e("@metamask/utils");function a(e,t){if(""!==e&&!/^[a-f0-9]+$/iu.test(e))throw new Error(`Expected an unprefixed hex string. Received: ${e}`);if(t<0)throw new Error(`Expected a non-negative integer target length. Received: ${t}`);return String.prototype.padStart.call(e,t,"0")}function i(e){return null===e||e===undefined}n.padWithZeroes=a,n.isNullish=i,n.legacyToBuffer=function(e){return"string"!=typeof e||(0,r.isHexString)(e)?(0,r.toBuffer)(e):t.from(e)},n.concatSig=function(e,t,n){const i=(0,r.fromSigned)(t),o=(0,r.fromSigned)(n),c=(0,r.bufferToInt)(e),u=a((0,r.toUnsigned)(i).toString("hex"),64),l=a((0,r.toUnsigned)(o).toString("hex"),64),d=(0,s.remove0x)((0,s.numberToHex)(c));return(0,s.add0x)(u.concat(l,d))},n.recoverPublicKey=function(e,t){const n=(0,r.fromRpcSig)(t);return(0,r.ecrecover)(e,n.v,n.r,n.s)},n.normalize=function(e){if(i(e))return undefined;if("number"==typeof e){if(e<0)return"0x";const t=(0,s.numberToBytes)(e);e=(0,s.bytesToHex)(t)}if("string"!=typeof e){let t="eth-sig-util.normalize() requires hex string or integer input.";throw t+=` received ${typeof e}: ${e}`,new Error(t)}return(0,s.add0x)(e.toLowerCase())}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/eth-sig-util/dist/utils.js"}],[2418,{"./errors.cjs":2426,"@metamask/superstruct":2797},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.assertExhaustive=n.assertStruct=n.assert=n.AssertionError=void 0;const r=e("@metamask/superstruct"),s=e("./errors.cjs");function a(e,t){return n=e,Boolean("string"==typeof n?.prototype?.constructor?.name)?new e({message:t}):e({message:t});var n}class i extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}n.AssertionError=i,n.assert=function(e,t="Assertion failed.",n=i){if(!e){if(t instanceof Error)throw t;throw a(n,t)}},n.assertStruct=function(e,t,n="Assertion failed",o=i){try{(0,r.assert)(e,t)}catch(e){throw a(o,`${n}: ${function(e){return(0,s.getErrorMessage)(e).replace(/\.$/u,"")}(e)}.`)}},n.assertExhaustive=function(e){throw new Error("Invalid branch reached. Should be detected during compilation.")}}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/eth-sig-util/node_modules/@metamask/utils/dist/assert.cjs"}],[2419,{"./assert.cjs":2418,"@metamask/superstruct":2797},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.base64=void 0;const r=e("@metamask/superstruct"),s=e("./assert.cjs");n.base64=(e,t={})=>{const n=t.paddingRequired??!1,a=t.characterSet??"base64";let i,o;return"base64"===a?i=String.raw`[A-Za-z0-9+\/]`:((0,s.assert)("base64url"===a),i=String.raw`[-_A-Za-z0-9]`),o=n?new RegExp(`^(?:${i}{4})*(?:${i}{3}=|${i}{2}==)?$`,"u"):new RegExp(`^(?:${i}{4})*(?:${i}{2,3}|${i}{3}=|${i}{2}==)?$`,"u"),(0,r.pattern)(e,o)}}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/eth-sig-util/node_modules/@metamask/utils/dist/base64.cjs"}],[2420,{"./assert.cjs":2418,"./hex.cjs":2427,"@scure/base":2951,buffer:3941},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.createDataView=n.concatBytes=n.valueToBytes=n.base64ToBytes=n.stringToBytes=n.numberToBytes=n.signedBigIntToBytes=n.bigIntToBytes=n.hexToBytes=n.bytesToBase64=n.bytesToString=n.bytesToNumber=n.bytesToSignedBigInt=n.bytesToBigInt=n.bytesToHex=n.assertIsBytes=n.isBytes=void 0;const r=e("@scure/base"),s=e("./assert.cjs"),a=e("./hex.cjs"),i=48,o=58,c=87;const u=function(){const e=[];return()=>{if(0===e.length)for(let t=0;t<256;t++)e.push(t.toString(16).padStart(2,"0"));return e}}();function l(e){return e instanceof Uint8Array}function d(e){(0,s.assert)(l(e),"Value must be a Uint8Array.")}function m(e){if(d(e),0===e.length)return"0x";const t=u(),n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=t[e[r]];return(0,a.add0x)(n.join(""))}function p(e){d(e);const t=m(e);return BigInt(t)}function h(e){if("0x"===e?.toLowerCase?.())return new Uint8Array;(0,a.assertIsHexString)(e);const t=(0,a.remove0x)(e).toLowerCase(),n=t.length%2==0?t:`0${t}`,r=new Uint8Array(n.length/2);for(let e=0;e<r.length;e++){const t=n.charCodeAt(2*e),s=n.charCodeAt(2*e+1),a=t-(t<o?i:c),u=s-(s<o?i:c);r[e]=16*a+u}return r}function f(e){(0,s.assert)("bigint"==typeof e,"Value must be a bigint."),(0,s.assert)(e>=BigInt(0),"Value must be a non-negative bigint.");return h(e.toString(16))}function g(e){(0,s.assert)("number"==typeof e,"Value must be a number."),(0,s.assert)(e>=0,"Value must be a non-negative number."),(0,s.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToBytes` instead.");return h(e.toString(16))}function y(e){return(0,s.assert)("string"==typeof e,"Value must be a string."),(new TextEncoder).encode(e)}function b(e){if("bigint"==typeof e)return f(e);if("number"==typeof e)return g(e);if("string"==typeof e)return e.startsWith("0x")?h(e):y(e);if(l(e))return e;throw new TypeError(`Unsupported value type: "${typeof e}".`)}n.isBytes=l,n.assertIsBytes=d,n.bytesToHex=m,n.bytesToBigInt=p,n.bytesToSignedBigInt=function(e){d(e);let t=BigInt(0);for(const n of e)t=(t<<BigInt(8))+BigInt(n);return BigInt.asIntN(8*e.length,t)},n.bytesToNumber=function(e){d(e);const t=p(e);return(0,s.assert)(t<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(t)},n.bytesToString=function(e){return d(e),(new TextDecoder).decode(e)},n.bytesToBase64=function(e){return d(e),r.base64.encode(e)},n.hexToBytes=h,n.bigIntToBytes=f,n.signedBigIntToBytes=function(e,t){(0,s.assert)("bigint"==typeof e,"Value must be a bigint."),(0,s.assert)("number"==typeof t,"Byte length must be a number."),(0,s.assert)(t>0,"Byte length must be greater than 0."),(0,s.assert)(function(e,t){(0,s.assert)(t>0);const n=e>>BigInt(31);return!((~e&n)+(e&~n)>>BigInt(8*t-1))}(e,t),"Byte length is too small to represent the given value.");let n=e;const r=new Uint8Array(t);for(let e=0;e<r.length;e++)r[e]=Number(BigInt.asUintN(8,n)),n>>=BigInt(8);return r.reverse()},n.numberToBytes=g,n.stringToBytes=y,n.base64ToBytes=function(e){return(0,s.assert)("string"==typeof e,"Value must be a string."),r.base64.decode(e)},n.valueToBytes=b,n.concatBytes=function(e){const t=new Array(e.length);let n=0;for(let r=0;r<e.length;r++){const s=b(e[r]);t[r]=s,n+=s.length}const r=new Uint8Array(n);for(let e=0,n=0;e<t.length;e++)r.set(t[e],n),n+=t[e].length;return r},n.createDataView=function(e){if(void 0!==t&&e instanceof t){const t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return new DataView(t)}return new DataView(e.buffer,e.byteOffset,e.byteLength)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/eth-sig-util/node_modules/@metamask/utils/dist/bytes.cjs"}],[2421,{"./superstruct.cjs":2436,"@metamask/superstruct":2797},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.toCaipAssetId=n.toCaipAssetType=n.toCaipAccountId=n.toCaipChainId=n.parseCaipAssetId=n.parseCaipAssetType=n.parseCaipAccountId=n.parseCaipChainId=n.isCaipAssetId=n.isCaipAssetType=n.isCaipTokenId=n.isCaipAssetReference=n.isCaipAssetNamespace=n.isCaipAccountAddress=n.isCaipAccountId=n.isCaipReference=n.isCaipNamespace=n.isCaipChainId=n.KnownCaipNamespace=n.CaipAssetTypeOrIdStruct=n.CaipAssetIdStruct=n.CaipAssetTypeStruct=n.CaipTokenIdStruct=n.CaipAssetReferenceStruct=n.CaipAssetNamespaceStruct=n.CaipAccountAddressStruct=n.CaipAccountIdStruct=n.CaipReferenceStruct=n.CaipNamespaceStruct=n.CaipChainIdStruct=n.CAIP_ASSET_ID_REGEX=n.CAIP_ASSET_TYPE_REGEX=n.CAIP_TOKEN_ID_REGEX=n.CAIP_ASSET_REFERENCE_REGEX=n.CAIP_ASSET_NAMESPACE_REGEX=n.CAIP_ACCOUNT_ADDRESS_REGEX=n.CAIP_ACCOUNT_ID_REGEX=n.CAIP_REFERENCE_REGEX=n.CAIP_NAMESPACE_REGEX=n.CAIP_CHAIN_ID_REGEX=void 0;const r=e("@metamask/superstruct"),s=e("./superstruct.cjs");n.CAIP_CHAIN_ID_REGEX=/^(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})$/u,n.CAIP_NAMESPACE_REGEX=/^[-a-z0-9]{3,8}$/u,n.CAIP_REFERENCE_REGEX=/^[-_a-zA-Z0-9]{1,32}$/u,n.CAIP_ACCOUNT_ID_REGEX=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})):(?<accountAddress>[-.%a-zA-Z0-9]{1,128})$/u,n.CAIP_ACCOUNT_ADDRESS_REGEX=/^[-.%a-zA-Z0-9]{1,128}$/u,n.CAIP_ASSET_NAMESPACE_REGEX=/^[-a-z0-9]{3,8}$/u,n.CAIP_ASSET_REFERENCE_REGEX=/^[-.%a-zA-Z0-9]{1,128}$/u,n.CAIP_TOKEN_ID_REGEX=/^[-.%a-zA-Z0-9]{1,78}$/u,n.CAIP_ASSET_TYPE_REGEX=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})$/u,n.CAIP_ASSET_ID_REGEX=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})\/(?<tokenId>[-.%a-zA-Z0-9]{1,78})$/u;function a(e){return(0,r.is)(e,n.CaipNamespaceStruct)}function i(e){return(0,r.is)(e,n.CaipReferenceStruct)}function o(e){return(0,r.is)(e,n.CaipAccountAddressStruct)}function c(e){return(0,r.is)(e,n.CaipAssetNamespaceStruct)}function u(e){return(0,r.is)(e,n.CaipAssetReferenceStruct)}function l(e){return(0,r.is)(e,n.CaipTokenIdStruct)}n.CaipChainIdStruct=(0,s.definePattern)("CaipChainId",n.CAIP_CHAIN_ID_REGEX),n.CaipNamespaceStruct=(0,s.definePattern)("CaipNamespace",n.CAIP_NAMESPACE_REGEX),n.CaipReferenceStruct=(0,s.definePattern)("CaipReference",n.CAIP_REFERENCE_REGEX),n.CaipAccountIdStruct=(0,s.definePattern)("CaipAccountId",n.CAIP_ACCOUNT_ID_REGEX),n.CaipAccountAddressStruct=(0,s.definePattern)("CaipAccountAddress",n.CAIP_ACCOUNT_ADDRESS_REGEX),n.CaipAssetNamespaceStruct=(0,s.definePattern)("CaipAssetNamespace",n.CAIP_ASSET_NAMESPACE_REGEX),n.CaipAssetReferenceStruct=(0,s.definePattern)("CaipAssetReference",n.CAIP_ASSET_REFERENCE_REGEX),n.CaipTokenIdStruct=(0,s.definePattern)("CaipTokenId",n.CAIP_TOKEN_ID_REGEX),n.CaipAssetTypeStruct=(0,s.definePattern)("CaipAssetType",n.CAIP_ASSET_TYPE_REGEX),n.CaipAssetIdStruct=(0,s.definePattern)("CaipAssetId",n.CAIP_ASSET_ID_REGEX),n.CaipAssetTypeOrIdStruct=(0,s.definePattern)("CaipAssetTypeOrId",/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})(\/(?<tokenId>[-.%a-zA-Z0-9]{1,78}))?$/u),function(e){e.Bip122="bip122",e.Solana="solana",e.Eip155="eip155",e.Wallet="wallet"}(n.KnownCaipNamespace||(n.KnownCaipNamespace={})),n.isCaipChainId=function(e){return(0,r.is)(e,n.CaipChainIdStruct)},n.isCaipNamespace=a,n.isCaipReference=i,n.isCaipAccountId=function(e){return(0,r.is)(e,n.CaipAccountIdStruct)},n.isCaipAccountAddress=o,n.isCaipAssetNamespace=c,n.isCaipAssetReference=u,n.isCaipTokenId=l,n.isCaipAssetType=function(e){return(0,r.is)(e,n.CaipAssetTypeStruct)},n.isCaipAssetId=function(e){return(0,r.is)(e,n.CaipAssetIdStruct)},n.parseCaipChainId=function(e){const t=n.CAIP_CHAIN_ID_REGEX.exec(e);if(!t?.groups)throw new Error("Invalid CAIP chain ID.");return{namespace:t.groups.namespace,reference:t.groups.reference}},n.parseCaipAccountId=function(e){const t=n.CAIP_ACCOUNT_ID_REGEX.exec(e);if(!t?.groups)throw new Error("Invalid CAIP account ID.");return{address:t.groups.accountAddress,chainId:t.groups.chainId,chain:{namespace:t.groups.namespace,reference:t.groups.reference}}},n.parseCaipAssetType=function(e){const t=n.CAIP_ASSET_TYPE_REGEX.exec(e);if(!t?.groups)throw new Error("Invalid CAIP asset type.");return{assetNamespace:t.groups.assetNamespace,assetReference:t.groups.assetReference,chainId:t.groups.chainId,chain:{namespace:t.groups.namespace,reference:t.groups.reference}}},n.parseCaipAssetId=function(e){const t=n.CAIP_ASSET_ID_REGEX.exec(e);if(!t?.groups)throw new Error("Invalid CAIP asset ID.");return{assetNamespace:t.groups.assetNamespace,assetReference:t.groups.assetReference,tokenId:t.groups.tokenId,chainId:t.groups.chainId,chain:{namespace:t.groups.namespace,reference:t.groups.reference}}},n.toCaipChainId=function(e,t){if(!a(e))throw new Error(`Invalid "namespace", must match: ${n.CAIP_NAMESPACE_REGEX.toString()}`);if(!i(t))throw new Error(`Invalid "reference", must match: ${n.CAIP_REFERENCE_REGEX.toString()}`);return`${e}:${t}`},n.toCaipAccountId=function(e,t,r){if(!a(e))throw new Error(`Invalid "namespace", must match: ${n.CAIP_NAMESPACE_REGEX.toString()}`);if(!i(t))throw new Error(`Invalid "reference", must match: ${n.CAIP_REFERENCE_REGEX.toString()}`);if(!o(r))throw new Error(`Invalid "accountAddress", must match: ${n.CAIP_ACCOUNT_ADDRESS_REGEX.toString()}`);return`${e}:${t}:${r}`},n.toCaipAssetType=function(e,t,r,s){if(!a(e))throw new Error(`Invalid "namespace", must match: ${n.CAIP_NAMESPACE_REGEX.toString()}`);if(!i(t))throw new Error(`Invalid "reference", must match: ${n.CAIP_REFERENCE_REGEX.toString()}`);if(!c(r))throw new Error(`Invalid "assetNamespace", must match: ${n.CAIP_ASSET_NAMESPACE_REGEX.toString()}`);if(!u(s))throw new Error(`Invalid "assetReference", must match: ${n.CAIP_ASSET_REFERENCE_REGEX.toString()}`);return`${e}:${t}/${r}:${s}`},n.toCaipAssetId=function(e,t,r,s,o){if(!a(e))throw new Error(`Invalid "namespace", must match: ${n.CAIP_NAMESPACE_REGEX.toString()}`);if(!i(t))throw new Error(`Invalid "reference", must match: ${n.CAIP_REFERENCE_REGEX.toString()}`);if(!c(r))throw new Error(`Invalid "assetNamespace", must match: ${n.CAIP_ASSET_NAMESPACE_REGEX.toString()}`);if(!u(s))throw new Error(`Invalid "assetReference", must match: ${n.CAIP_ASSET_REFERENCE_REGEX.toString()}`);if(!l(o))throw new Error(`Invalid "tokenId", must match: ${n.CAIP_TOKEN_ID_REGEX.toString()}`);return`${e}:${t}/${r}:${s}/${o}`}}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/eth-sig-util/node_modules/@metamask/utils/dist/caip-types.cjs"}],[2422,{"./base64.cjs":2419,"@metamask/superstruct":2797},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ChecksumStruct=void 0;const r=e("@metamask/superstruct"),s=e("./base64.cjs");n.ChecksumStruct=(0,r.size)((0,s.base64)((0,r.string)(),{paddingRequired:!0}),44,44)}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/eth-sig-util/node_modules/@metamask/utils/dist/checksum.cjs"}],[2423,{"./assert.cjs":2418,"./bytes.cjs":2420,"./hex.cjs":2427,"@metamask/superstruct":2797},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createHex=n.createBytes=n.createBigInt=n.createNumber=void 0;const r=e("@metamask/superstruct"),s=e("./assert.cjs"),a=e("./bytes.cjs"),i=e("./hex.cjs"),o=(0,r.union)([(0,r.number)(),(0,r.bigint)(),(0,r.string)(),i.StrictHexStruct]),c=(0,r.coerce)((0,r.number)(),o,Number),u=(0,r.coerce)((0,r.bigint)(),o,BigInt),l=((0,r.union)([i.StrictHexStruct,(0,r.instance)(Uint8Array)]),(0,r.coerce)((0,r.instance)(Uint8Array),(0,r.union)([i.StrictHexStruct]),a.hexToBytes)),d=(0,r.coerce)(i.StrictHexStruct,(0,r.instance)(Uint8Array),a.bytesToHex);n.createNumber=function(e){try{const t=(0,r.create)(e,c);return(0,s.assert)(Number.isFinite(t),`Expected a number-like value, got "${e}".`),t}catch(t){if(t instanceof r.StructError)throw new Error(`Expected a number-like value, got "${e}".`);throw t}},n.createBigInt=function(e){try{return(0,r.create)(e,u)}catch(e){if(e instanceof r.StructError)throw new Error(`Expected a number-like value, got "${String(e.value)}".`);throw e}},n.createBytes=function(e){if("string"==typeof e&&"0x"===e.toLowerCase())return new Uint8Array;try{return(0,r.create)(e,l)}catch(e){if(e instanceof r.StructError)throw new Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}},n.createHex=function(e){if(e instanceof Uint8Array&&0===e.length||"string"==typeof e&&"0x"===e.toLowerCase())return"0x";try{return(0,r.create)(e,d)}catch(e){if(e instanceof r.StructError)throw new Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}}}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/eth-sig-util/node_modules/@metamask/utils/dist/coercers.cjs"}],[2424,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,s,a=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},i=this&&this.__classPrivateFieldSet||function(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n};Object.defineProperty(n,"__esModule",{value:!0}),n.FrozenSet=n.FrozenMap=void 0;class o{get size(){return a(this,r,"f").size}[(r=new WeakMap,Symbol.iterator)](){return a(this,r,"f")[Symbol.iterator]()}constructor(e){r.set(this,void 0),i(this,r,new Map(e),"f"),Object.freeze(this)}entries(){return a(this,r,"f").entries()}forEach(e,t){return a(this,r,"f").forEach(((n,r,s)=>e.call(t,n,r,this)))}get(e){return a(this,r,"f").get(e)}has(e){return a(this,r,"f").has(e)}keys(){return a(this,r,"f").keys()}values(){return a(this,r,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map((([e,t])=>`${String(e)} => ${String(t)}`)).join(", ")} `:""}}`}}n.FrozenMap=o;class c{get size(){return a(this,s,"f").size}[(s=new WeakMap,Symbol.iterator)](){return a(this,s,"f")[Symbol.iterator]()}constructor(e){s.set(this,void 0),i(this,s,new Set(e),"f"),Object.freeze(this)}entries(){return a(this,s,"f").entries()}forEach(e,t){return a(this,s,"f").forEach(((n,r,s)=>e.call(t,n,r,this)))}has(e){return a(this,s,"f").has(e)}keys(){return a(this,s,"f").keys()}values(){return a(this,s,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map((e=>String(e))).join(", ")} `:""}}`}}n.FrozenSet=c,Object.freeze(o),Object.freeze(o.prototype),Object.freeze(c),Object.freeze(c.prototype)}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/eth-sig-util/node_modules/@metamask/utils/dist/collections.cjs"}],[2425,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/eth-sig-util/node_modules/@metamask/utils/dist/encryption-types.cjs"}],[2426,{"./misc.cjs":2432,"pony-cause":4935},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.wrapError=n.getErrorMessage=n.isErrorWithStack=n.isErrorWithMessage=n.isErrorWithCode=void 0;const r=e("pony-cause"),s=e("./misc.cjs");function a(e){return"object"==typeof e&&null!==e&&"code"in e}function i(e){return"object"==typeof e&&null!==e&&"message"in e}n.isErrorWithCode=a,n.isErrorWithMessage=i,n.isErrorWithStack=function(e){return"object"==typeof e&&null!==e&&"stack"in e},n.getErrorMessage=function(e){return i(e)&&"string"==typeof e.message?e.message:(0,s.isNullOrUndefined)(e)?"":String(e)},n.wrapError=function(e,t){if((n=e)instanceof Error||(0,s.isObject)(n)&&"Error"===n.constructor.name){let n;return n=2===Error.length?new Error(t,{cause:e}):new r.ErrorWithCause(t,{cause:e}),a(e)&&(n.code=e.code),n}var n;return t.length>0?new Error(`${String(e)}: ${t}`):new Error(String(e))}}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/eth-sig-util/node_modules/@metamask/utils/dist/errors.cjs"}],[2427,{"./assert.cjs":2418,"./bytes.cjs":2420,"@metamask/superstruct":2797,"@noble/hashes/sha3":2931},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.remove0x=n.add0x=n.isValidChecksumAddress=n.getChecksumAddress=n.isValidHexAddress=n.assertIsStrictHexString=n.assertIsHexString=n.isStrictHexString=n.isHexString=n.HexChecksumAddressStruct=n.HexAddressStruct=n.StrictHexStruct=n.HexStruct=void 0;const r=e("@metamask/superstruct"),s=e("@noble/hashes/sha3"),a=e("./assert.cjs"),i=e("./bytes.cjs");function o(e){return(0,r.is)(e,n.HexStruct)}function c(e){return(0,r.is)(e,n.StrictHexStruct)}function u(e){(0,a.assert)((0,r.is)(e,n.HexChecksumAddressStruct),"Invalid hex address.");const t=d(e.toLowerCase()),o=d((0,i.bytesToHex)((0,s.keccak_256)(t)));return`0x${t.split("").map(((e,t)=>{const n=o[t];return(0,a.assert)((0,r.is)(n,(0,r.string)()),"Hash shorter than address."),parseInt(n,16)>7?e.toUpperCase():e})).join("")}`}function l(e){return!!(0,r.is)(e,n.HexChecksumAddressStruct)&&u(e)===e}function d(e){return e.startsWith("0x")||e.startsWith("0X")?e.substring(2):e}n.HexStruct=(0,r.pattern)((0,r.string)(),/^(?:0x)?[0-9a-f]+$/iu),n.StrictHexStruct=(0,r.pattern)((0,r.string)(),/^0x[0-9a-f]+$/iu),n.HexAddressStruct=(0,r.pattern)((0,r.string)(),/^0x[0-9a-f]{40}$/u),n.HexChecksumAddressStruct=(0,r.pattern)((0,r.string)(),/^0x[0-9a-fA-F]{40}$/u),n.isHexString=o,n.isStrictHexString=c,n.assertIsHexString=function(e){(0,a.assert)(o(e),"Value must be a hexadecimal string.")},n.assertIsStrictHexString=function(e){(0,a.assert)(c(e),'Value must be a hexadecimal string, starting with "0x".')},n.isValidHexAddress=function(e){return(0,r.is)(e,n.HexAddressStruct)||l(e)},n.getChecksumAddress=u,n.isValidChecksumAddress=l,n.add0x=function(e){return e.startsWith("0x")?e:e.startsWith("0X")?`0x${e.substring(2)}`:`0x${e}`},n.remove0x=d}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/eth-sig-util/node_modules/@metamask/utils/dist/hex.cjs"}],[2428,{"./assert.cjs":2418,"./base64.cjs":2419,"./bytes.cjs":2420,"./caip-types.cjs":2421,"./checksum.cjs":2422,"./coercers.cjs":2423,"./collections.cjs":2424,"./encryption-types.cjs":2425,"./errors.cjs":2426,"./hex.cjs":2427,"./json.cjs":2429,"./keyring.cjs":2430,"./logging.cjs":2431,"./misc.cjs":2432,"./number.cjs":2433,"./opaque.cjs":2434,"./promise.cjs":2435,"./superstruct.cjs":2436,"./time.cjs":2437,"./transaction-types.cjs":2438,"./versions.cjs":2439},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./assert.cjs"),n),s(e("./base64.cjs"),n),s(e("./bytes.cjs"),n),s(e("./caip-types.cjs"),n),s(e("./checksum.cjs"),n),s(e("./coercers.cjs"),n),s(e("./collections.cjs"),n),s(e("./encryption-types.cjs"),n),s(e("./errors.cjs"),n),s(e("./hex.cjs"),n),s(e("./json.cjs"),n),s(e("./keyring.cjs"),n),s(e("./logging.cjs"),n),s(e("./misc.cjs"),n),s(e("./number.cjs"),n),s(e("./opaque.cjs"),n),s(e("./promise.cjs"),n),s(e("./superstruct.cjs"),n),s(e("./time.cjs"),n),s(e("./transaction-types.cjs"),n),s(e("./versions.cjs"),n)}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/eth-sig-util/node_modules/@metamask/utils/dist/index.cjs"}],[2429,{"./assert.cjs":2418,"./misc.cjs":2432,"@metamask/superstruct":2797},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getJsonRpcIdValidator=n.assertIsJsonRpcError=n.isJsonRpcError=n.assertIsJsonRpcFailure=n.isJsonRpcFailure=n.assertIsJsonRpcSuccess=n.isJsonRpcSuccess=n.assertIsJsonRpcResponse=n.isJsonRpcResponse=n.assertIsPendingJsonRpcResponse=n.isPendingJsonRpcResponse=n.JsonRpcResponseStruct=n.JsonRpcFailureStruct=n.JsonRpcSuccessStruct=n.PendingJsonRpcResponseStruct=n.assertIsJsonRpcRequest=n.isJsonRpcRequest=n.assertIsJsonRpcNotification=n.isJsonRpcNotification=n.JsonRpcNotificationStruct=n.JsonRpcRequestStruct=n.JsonRpcParamsStruct=n.JsonRpcErrorStruct=n.JsonRpcIdStruct=n.JsonRpcVersionStruct=n.jsonrpc2=n.getJsonSize=n.getSafeJson=n.isValidJson=n.JsonStruct=n.UnsafeJsonStruct=n.exactOptional=n.object=void 0;const r=e("@metamask/superstruct"),s=e("./assert.cjs"),a=e("./misc.cjs");function i({path:e,branch:t}){const n=e[e.length-1];return(0,a.hasProperty)(t[t.length-2],n)}function o(e){return new r.Struct({...e,type:`optional ${e.type}`,validator:(t,n)=>!i(n)||e.validator(t,n),refiner:(t,n)=>!i(n)||e.refiner(t,n)})}function c(e){if(null===e||"boolean"==typeof e||"string"==typeof e)return!0;if("number"==typeof e&&Number.isFinite(e))return!0;if("object"==typeof e){let t=!0;if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(!c(e[n])){t=!1;break}return t}const n=Object.entries(e);for(let e=0;e<n.length;e++)if("string"!=typeof n[e][0]||!c(n[e][1])){t=!1;break}return t}return!1}function u(e){return(0,r.create)(e,n.JsonStruct)}n.object=e=>(0,r.object)(e),n.exactOptional=o,n.UnsafeJsonStruct=(0,r.define)("JSON",(e=>c(e))),n.JsonStruct=(0,r.coerce)(n.UnsafeJsonStruct,(0,r.refine)((0,r.any)(),"JSON",(e=>(0,r.is)(e,n.UnsafeJsonStruct))),(e=>JSON.parse(JSON.stringify(e,((e,t)=>"__proto__"===e||"constructor"===e?undefined:t))))),n.isValidJson=function(e){try{return u(e),!0}catch{return!1}},n.getSafeJson=u,n.getJsonSize=function(e){(0,s.assertStruct)(e,n.JsonStruct,"Invalid JSON value");const t=JSON.stringify(e);return(new TextEncoder).encode(t).byteLength},n.jsonrpc2="2.0",n.JsonRpcVersionStruct=(0,r.literal)(n.jsonrpc2),n.JsonRpcIdStruct=(0,r.nullable)((0,r.union)([(0,r.number)(),(0,r.string)()])),n.JsonRpcErrorStruct=(0,n.object)({code:(0,r.integer)(),message:(0,r.string)(),data:o(n.JsonStruct),stack:o((0,r.string)())}),n.JsonRpcParamsStruct=(0,r.union)([(0,r.record)((0,r.string)(),n.JsonStruct),(0,r.array)(n.JsonStruct)]),n.JsonRpcRequestStruct=(0,n.object)({id:n.JsonRpcIdStruct,jsonrpc:n.JsonRpcVersionStruct,method:(0,r.string)(),params:o(n.JsonRpcParamsStruct)}),n.JsonRpcNotificationStruct=(0,n.object)({jsonrpc:n.JsonRpcVersionStruct,method:(0,r.string)(),params:o(n.JsonRpcParamsStruct)}),n.isJsonRpcNotification=function(e){return(0,r.is)(e,n.JsonRpcNotificationStruct)},n.assertIsJsonRpcNotification=function(e,t){(0,s.assertStruct)(e,n.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",t)},n.isJsonRpcRequest=function(e){return(0,r.is)(e,n.JsonRpcRequestStruct)},n.assertIsJsonRpcRequest=function(e,t){(0,s.assertStruct)(e,n.JsonRpcRequestStruct,"Invalid JSON-RPC request",t)},n.PendingJsonRpcResponseStruct=(0,r.object)({id:n.JsonRpcIdStruct,jsonrpc:n.JsonRpcVersionStruct,result:(0,r.optional)((0,r.unknown)()),error:(0,r.optional)(n.JsonRpcErrorStruct)}),n.JsonRpcSuccessStruct=(0,n.object)({id:n.JsonRpcIdStruct,jsonrpc:n.JsonRpcVersionStruct,result:n.JsonStruct}),n.JsonRpcFailureStruct=(0,n.object)({id:n.JsonRpcIdStruct,jsonrpc:n.JsonRpcVersionStruct,error:n.JsonRpcErrorStruct}),n.JsonRpcResponseStruct=(0,r.union)([n.JsonRpcSuccessStruct,n.JsonRpcFailureStruct]),n.isPendingJsonRpcResponse=function(e){return(0,r.is)(e,n.PendingJsonRpcResponseStruct)},n.assertIsPendingJsonRpcResponse=function(e,t){(0,s.assertStruct)(e,n.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",t)},n.isJsonRpcResponse=function(e){return(0,r.is)(e,n.JsonRpcResponseStruct)},n.assertIsJsonRpcResponse=function(e,t){(0,s.assertStruct)(e,n.JsonRpcResponseStruct,"Invalid JSON-RPC response",t)},n.isJsonRpcSuccess=function(e){return(0,r.is)(e,n.JsonRpcSuccessStruct)},n.assertIsJsonRpcSuccess=function(e,t){(0,s.assertStruct)(e,n.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",t)},n.isJsonRpcFailure=function(e){return(0,r.is)(e,n.JsonRpcFailureStruct)},n.assertIsJsonRpcFailure=function(e,t){(0,s.assertStruct)(e,n.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",t)},n.isJsonRpcError=function(e){return(0,r.is)(e,n.JsonRpcErrorStruct)},n.assertIsJsonRpcError=function(e,t){(0,s.assertStruct)(e,n.JsonRpcErrorStruct,"Invalid JSON-RPC error",t)},n.getJsonRpcIdValidator=function(e){const{permitEmptyString:t,permitFractions:n,permitNull:r}={permitEmptyString:!0,permitFractions:!1,permitNull:!0,...e};return e=>Boolean("number"==typeof e&&(n||Number.isInteger(e))||"string"==typeof e&&(t||e.length>0)||r&&null===e)}}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/eth-sig-util/node_modules/@metamask/utils/dist/json.cjs"}],[2430,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/eth-sig-util/node_modules/@metamask/utils/dist/keyring.cjs"}],[2431,{debug:4094},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.createModuleLogger=n.createProjectLogger=void 0;const s=(0,r(e("debug")).default)("metamask");n.createProjectLogger=function(e){return s.extend(e)},n.createModuleLogger=function(e,t){return e.extend(t)}}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/eth-sig-util/node_modules/@metamask/utils/dist/logging.cjs"}],[2432,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.calculateNumberSize=n.calculateStringSize=n.isASCII=n.isPlainObject=n.ESCAPE_CHARACTERS_REGEXP=n.JsonSize=n.getKnownPropertyNames=n.hasProperty=n.isObject=n.isNullOrUndefined=n.isNonEmptyArray=void 0,n.isNonEmptyArray=function(e){return Array.isArray(e)&&e.length>0},n.isNullOrUndefined=function(e){return null===e||e===undefined},n.isObject=function(e){return Boolean(e)&&"object"==typeof e&&!Array.isArray(e)};function r(e){return e.charCodeAt(0)<=127}n.hasProperty=(e,t)=>Object.hasOwnProperty.call(e,t),n.getKnownPropertyNames=function(e){return Object.getOwnPropertyNames(e)},function(e){e[e.Null=4]="Null",e[e.Comma=1]="Comma",e[e.Wrapper=1]="Wrapper",e[e.True=4]="True",e[e.False=5]="False",e[e.Quote=1]="Quote",e[e.Colon=1]="Colon",e[e.Date=24]="Date"}(n.JsonSize||(n.JsonSize={})),n.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu,n.isPlainObject=function(e){if("object"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}},n.isASCII=r,n.calculateStringSize=function(e){return e.split("").reduce(((e,t)=>r(t)?e+1:e+2),0)+(e.match(n.ESCAPE_CHARACTERS_REGEXP)??[]).length},n.calculateNumberSize=function(e){return e.toString().length}}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/eth-sig-util/node_modules/@metamask/utils/dist/misc.cjs"}],[2433,{"./assert.cjs":2418,"./hex.cjs":2427},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.hexToBigInt=n.hexToNumber=n.bigIntToHex=n.numberToHex=void 0;const r=e("./assert.cjs"),s=e("./hex.cjs");n.numberToHex=e=>((0,r.assert)("number"==typeof e,"Value must be a number."),(0,r.assert)(e>=0,"Value must be a non-negative number."),(0,r.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,s.add0x)(e.toString(16)));n.bigIntToHex=e=>((0,r.assert)("bigint"==typeof e,"Value must be a bigint."),(0,r.assert)(e>=0,"Value must be a non-negative bigint."),(0,s.add0x)(e.toString(16)));n.hexToNumber=e=>{(0,s.assertIsHexString)(e);const t=parseInt(e,16);return(0,r.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `hexToBigInt` instead."),t};n.hexToBigInt=e=>((0,s.assertIsHexString)(e),BigInt((0,s.add0x)(e)))}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/eth-sig-util/node_modules/@metamask/utils/dist/number.cjs"}],[2434,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/eth-sig-util/node_modules/@metamask/utils/dist/opaque.cjs"}],[2435,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createDeferredPromise=void 0,n.createDeferredPromise=function({suppressUnhandledRejection:e=!1}={}){let t,n;const r=new Promise(((e,r)=>{t=e,n=r}));return e&&r.catch((e=>{})),{promise:r,resolve:t,reject:n}}}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/eth-sig-util/node_modules/@metamask/utils/dist/promise.cjs"}],[2436,{"@metamask/superstruct":2797},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.definePattern=void 0;const r=e("@metamask/superstruct");n.definePattern=function(e,t){return(0,r.define)(e,(e=>"string"==typeof e&&t.test(e)))}}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/eth-sig-util/node_modules/@metamask/utils/dist/superstruct.cjs"}],[2437,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.timeSince=n.inMilliseconds=n.Duration=void 0,function(e){e[e.Millisecond=1]="Millisecond",e[e.Second=1e3]="Second",e[e.Minute=6e4]="Minute",e[e.Hour=36e5]="Hour",e[e.Day=864e5]="Day",e[e.Week=6048e5]="Week",e[e.Year=31536e6]="Year"}(n.Duration||(n.Duration={}));const r=(e,t)=>{if(!(e=>Number.isInteger(e)&&e>=0)(e))throw new Error(`"${t}" must be a non-negative integer. Received: "${e}".`)};n.inMilliseconds=function(e,t){return r(e,"count"),e*t},n.timeSince=function(e){return r(e,"timestamp"),Date.now()-e}}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/eth-sig-util/node_modules/@metamask/utils/dist/time.cjs"}],[2438,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/eth-sig-util/node_modules/@metamask/utils/dist/transaction-types.cjs"}],[2439,{"./assert.cjs":2418,"@metamask/superstruct":2797,semver:5479},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.satisfiesVersionRange=n.gtRange=n.gtVersion=n.assertIsSemVerRange=n.assertIsSemVerVersion=n.isValidSemVerRange=n.isValidSemVerVersion=n.VersionRangeStruct=n.VersionStruct=void 0;const r=e("@metamask/superstruct"),s=e("semver"),a=e("./assert.cjs");n.VersionStruct=(0,r.refine)((0,r.string)(),"Version",(e=>null!==(0,s.valid)(e)||`Expected SemVer version, got "${e}"`)),n.VersionRangeStruct=(0,r.refine)((0,r.string)(),"Version range",(e=>null!==(0,s.validRange)(e)||`Expected SemVer range, got "${e}"`)),n.isValidSemVerVersion=function(e){return(0,r.is)(e,n.VersionStruct)},n.isValidSemVerRange=function(e){return(0,r.is)(e,n.VersionRangeStruct)},n.assertIsSemVerVersion=function(e){(0,a.assertStruct)(e,n.VersionStruct)},n.assertIsSemVerRange=function(e){(0,a.assertStruct)(e,n.VersionRangeStruct)},n.gtVersion=function(e,t){return(0,s.gt)(e,t)},n.gtRange=function(e,t){return(0,s.gtr)(e,t)},n.satisfiesVersionRange=function(e,t){return(0,s.satisfies)(e,t,{includePrerelease:!0})}}}},{package:"@metamask/signature-controller>@metamask/eth-sig-util>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/eth-sig-util/node_modules/@metamask/utils/dist/versions.cjs"}],[2440,{"./errors.cjs":2448,"@metamask/superstruct":2797},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.assertExhaustive=n.assertStruct=n.assert=n.AssertionError=void 0;const r=e("@metamask/superstruct"),s=e("./errors.cjs");function a(e,t){return n=e,Boolean("string"==typeof n?.prototype?.constructor?.name)?new e({message:t}):e({message:t});var n}class i extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}n.AssertionError=i,n.assert=function(e,t="Assertion failed.",n=i){if(!e){if(t instanceof Error)throw t;throw a(n,t)}},n.assertStruct=function(e,t,n="Assertion failed",o=i){try{(0,r.assert)(e,t)}catch(e){throw a(o,`${n}: ${function(e){return(0,s.getErrorMessage)(e).replace(/\.$/u,"")}(e)}.`)}},n.assertExhaustive=function(e){throw new Error("Invalid branch reached. Should be detected during compilation.")}}}},{package:"@metamask/signature-controller>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/utils/dist/assert.cjs"}],[2441,{"./assert.cjs":2440,"@metamask/superstruct":2797},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.base64=void 0;const r=e("@metamask/superstruct"),s=e("./assert.cjs");n.base64=(e,t={})=>{const n=t.paddingRequired??!1,a=t.characterSet??"base64";let i,o;return"base64"===a?i=String.raw`[A-Za-z0-9+\/]`:((0,s.assert)("base64url"===a),i=String.raw`[-_A-Za-z0-9]`),o=n?new RegExp(`^(?:${i}{4})*(?:${i}{3}=|${i}{2}==)?$`,"u"):new RegExp(`^(?:${i}{4})*(?:${i}{2,3}|${i}{3}=|${i}{2}==)?$`,"u"),(0,r.pattern)(e,o)}}}},{package:"@metamask/signature-controller>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/utils/dist/base64.cjs"}],[2442,{"./assert.cjs":2440,"./hex.cjs":2449,"@scure/base":2951,buffer:3941},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.createDataView=n.concatBytes=n.valueToBytes=n.base64ToBytes=n.stringToBytes=n.numberToBytes=n.signedBigIntToBytes=n.bigIntToBytes=n.hexToBytes=n.bytesToBase64=n.bytesToString=n.bytesToNumber=n.bytesToSignedBigInt=n.bytesToBigInt=n.bytesToHex=n.assertIsBytes=n.isBytes=void 0;const r=e("@scure/base"),s=e("./assert.cjs"),a=e("./hex.cjs"),i=48,o=58,c=87;const u=function(){const e=[];return()=>{if(0===e.length)for(let t=0;t<256;t++)e.push(t.toString(16).padStart(2,"0"));return e}}();function l(e){return e instanceof Uint8Array}function d(e){(0,s.assert)(l(e),"Value must be a Uint8Array.")}function m(e){if(d(e),0===e.length)return"0x";const t=u(),n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=t[e[r]];return(0,a.add0x)(n.join(""))}function p(e){d(e);const t=m(e);return BigInt(t)}function h(e){if("0x"===e?.toLowerCase?.())return new Uint8Array;(0,a.assertIsHexString)(e);const t=(0,a.remove0x)(e).toLowerCase(),n=t.length%2==0?t:`0${t}`,r=new Uint8Array(n.length/2);for(let e=0;e<r.length;e++){const t=n.charCodeAt(2*e),s=n.charCodeAt(2*e+1),a=t-(t<o?i:c),u=s-(s<o?i:c);r[e]=16*a+u}return r}function f(e){(0,s.assert)("bigint"==typeof e,"Value must be a bigint."),(0,s.assert)(e>=BigInt(0),"Value must be a non-negative bigint.");return h(e.toString(16))}function g(e){(0,s.assert)("number"==typeof e,"Value must be a number."),(0,s.assert)(e>=0,"Value must be a non-negative number."),(0,s.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToBytes` instead.");return h(e.toString(16))}function y(e){return(0,s.assert)("string"==typeof e,"Value must be a string."),(new TextEncoder).encode(e)}function b(e){if("bigint"==typeof e)return f(e);if("number"==typeof e)return g(e);if("string"==typeof e)return e.startsWith("0x")?h(e):y(e);if(l(e))return e;throw new TypeError(`Unsupported value type: "${typeof e}".`)}n.isBytes=l,n.assertIsBytes=d,n.bytesToHex=m,n.bytesToBigInt=p,n.bytesToSignedBigInt=function(e){d(e);let t=BigInt(0);for(const n of e)t=(t<<BigInt(8))+BigInt(n);return BigInt.asIntN(8*e.length,t)},n.bytesToNumber=function(e){d(e);const t=p(e);return(0,s.assert)(t<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(t)},n.bytesToString=function(e){return d(e),(new TextDecoder).decode(e)},n.bytesToBase64=function(e){return d(e),r.base64.encode(e)},n.hexToBytes=h,n.bigIntToBytes=f,n.signedBigIntToBytes=function(e,t){(0,s.assert)("bigint"==typeof e,"Value must be a bigint."),(0,s.assert)("number"==typeof t,"Byte length must be a number."),(0,s.assert)(t>0,"Byte length must be greater than 0."),(0,s.assert)(function(e,t){(0,s.assert)(t>0);const n=e>>BigInt(31);return!((~e&n)+(e&~n)>>BigInt(8*t-1))}(e,t),"Byte length is too small to represent the given value.");let n=e;const r=new Uint8Array(t);for(let e=0;e<r.length;e++)r[e]=Number(BigInt.asUintN(8,n)),n>>=BigInt(8);return r.reverse()},n.numberToBytes=g,n.stringToBytes=y,n.base64ToBytes=function(e){return(0,s.assert)("string"==typeof e,"Value must be a string."),r.base64.decode(e)},n.valueToBytes=b,n.concatBytes=function(e){const t=new Array(e.length);let n=0;for(let r=0;r<e.length;r++){const s=b(e[r]);t[r]=s,n+=s.length}const r=new Uint8Array(n);for(let e=0,n=0;e<t.length;e++)r.set(t[e],n),n+=t[e].length;return r},n.createDataView=function(e){if(void 0!==t&&e instanceof t){const t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return new DataView(t)}return new DataView(e.buffer,e.byteOffset,e.byteLength)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/signature-controller>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/utils/dist/bytes.cjs"}],[2443,{"@metamask/superstruct":2797},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.toCaipChainId=n.parseCaipAccountId=n.parseCaipChainId=n.isCaipAssetId=n.isCaipAssetType=n.isCaipAccountAddress=n.isCaipAccountId=n.isCaipReference=n.isCaipNamespace=n.isCaipChainId=n.KnownCaipNamespace=n.CaipAssetIdStruct=n.CaipAssetTypeStruct=n.CaipAccountAddressStruct=n.CaipAccountIdStruct=n.CaipReferenceStruct=n.CaipNamespaceStruct=n.CaipChainIdStruct=n.CAIP_ASSET_ID_REGEX=n.CAIP_ASSET_TYPE_REGEX=n.CAIP_ACCOUNT_ADDRESS_REGEX=n.CAIP_ACCOUNT_ID_REGEX=n.CAIP_REFERENCE_REGEX=n.CAIP_NAMESPACE_REGEX=n.CAIP_CHAIN_ID_REGEX=void 0;const r=e("@metamask/superstruct");function s(e){return(0,r.is)(e,n.CaipNamespaceStruct)}function a(e){return(0,r.is)(e,n.CaipReferenceStruct)}n.CAIP_CHAIN_ID_REGEX=/^(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})$/u,n.CAIP_NAMESPACE_REGEX=/^[-a-z0-9]{3,8}$/u,n.CAIP_REFERENCE_REGEX=/^[-_a-zA-Z0-9]{1,32}$/u,n.CAIP_ACCOUNT_ID_REGEX=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})):(?<accountAddress>[-.%a-zA-Z0-9]{1,128})$/u,n.CAIP_ACCOUNT_ADDRESS_REGEX=/^[-.%a-zA-Z0-9]{1,128}$/u,n.CAIP_ASSET_TYPE_REGEX=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})$/u,n.CAIP_ASSET_ID_REGEX=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})\/(?<tokenId>[-.%a-zA-Z0-9]{1,78})$/u,n.CaipChainIdStruct=(0,r.pattern)((0,r.string)(),n.CAIP_CHAIN_ID_REGEX),n.CaipNamespaceStruct=(0,r.pattern)((0,r.string)(),n.CAIP_NAMESPACE_REGEX),n.CaipReferenceStruct=(0,r.pattern)((0,r.string)(),n.CAIP_REFERENCE_REGEX),n.CaipAccountIdStruct=(0,r.pattern)((0,r.string)(),n.CAIP_ACCOUNT_ID_REGEX),n.CaipAccountAddressStruct=(0,r.pattern)((0,r.string)(),n.CAIP_ACCOUNT_ADDRESS_REGEX),n.CaipAssetTypeStruct=(0,r.pattern)((0,r.string)(),n.CAIP_ASSET_TYPE_REGEX),n.CaipAssetIdStruct=(0,r.pattern)((0,r.string)(),n.CAIP_ASSET_ID_REGEX),function(e){e.Bip122="bip122",e.Solana="solana",e.Eip155="eip155",e.Wallet="wallet"}(n.KnownCaipNamespace||(n.KnownCaipNamespace={})),n.isCaipChainId=function(e){return(0,r.is)(e,n.CaipChainIdStruct)},n.isCaipNamespace=s,n.isCaipReference=a,n.isCaipAccountId=function(e){return(0,r.is)(e,n.CaipAccountIdStruct)},n.isCaipAccountAddress=function(e){return(0,r.is)(e,n.CaipAccountAddressStruct)},n.isCaipAssetType=function(e){return(0,r.is)(e,n.CaipAssetTypeStruct)},n.isCaipAssetId=function(e){return(0,r.is)(e,n.CaipAssetIdStruct)},n.parseCaipChainId=function(e){const t=n.CAIP_CHAIN_ID_REGEX.exec(e);if(!t?.groups)throw new Error("Invalid CAIP chain ID.");return{namespace:t.groups.namespace,reference:t.groups.reference}},n.parseCaipAccountId=function(e){const t=n.CAIP_ACCOUNT_ID_REGEX.exec(e);if(!t?.groups)throw new Error("Invalid CAIP account ID.");return{address:t.groups.accountAddress,chainId:t.groups.chainId,chain:{namespace:t.groups.namespace,reference:t.groups.reference}}},n.toCaipChainId=function(e,t){if(!s(e))throw new Error(`Invalid "namespace", must match: ${n.CAIP_NAMESPACE_REGEX.toString()}`);if(!a(t))throw new Error(`Invalid "reference", must match: ${n.CAIP_REFERENCE_REGEX.toString()}`);return`${e}:${t}`}}}},{package:"@metamask/signature-controller>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/utils/dist/caip-types.cjs"}],[2444,{"./base64.cjs":2441,"@metamask/superstruct":2797},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ChecksumStruct=void 0;const r=e("@metamask/superstruct"),s=e("./base64.cjs");n.ChecksumStruct=(0,r.size)((0,s.base64)((0,r.string)(),{paddingRequired:!0}),44,44)}}},{package:"@metamask/signature-controller>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/utils/dist/checksum.cjs"}],[2445,{"./assert.cjs":2440,"./bytes.cjs":2442,"./hex.cjs":2449,"@metamask/superstruct":2797},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createHex=n.createBytes=n.createBigInt=n.createNumber=void 0;const r=e("@metamask/superstruct"),s=e("./assert.cjs"),a=e("./bytes.cjs"),i=e("./hex.cjs"),o=(0,r.union)([(0,r.number)(),(0,r.bigint)(),(0,r.string)(),i.StrictHexStruct]),c=(0,r.coerce)((0,r.number)(),o,Number),u=(0,r.coerce)((0,r.bigint)(),o,BigInt),l=((0,r.union)([i.StrictHexStruct,(0,r.instance)(Uint8Array)]),(0,r.coerce)((0,r.instance)(Uint8Array),(0,r.union)([i.StrictHexStruct]),a.hexToBytes)),d=(0,r.coerce)(i.StrictHexStruct,(0,r.instance)(Uint8Array),a.bytesToHex);n.createNumber=function(e){try{const t=(0,r.create)(e,c);return(0,s.assert)(Number.isFinite(t),`Expected a number-like value, got "${e}".`),t}catch(t){if(t instanceof r.StructError)throw new Error(`Expected a number-like value, got "${e}".`);throw t}},n.createBigInt=function(e){try{return(0,r.create)(e,u)}catch(e){if(e instanceof r.StructError)throw new Error(`Expected a number-like value, got "${String(e.value)}".`);throw e}},n.createBytes=function(e){if("string"==typeof e&&"0x"===e.toLowerCase())return new Uint8Array;try{return(0,r.create)(e,l)}catch(e){if(e instanceof r.StructError)throw new Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}},n.createHex=function(e){if(e instanceof Uint8Array&&0===e.length||"string"==typeof e&&"0x"===e.toLowerCase())return"0x";try{return(0,r.create)(e,d)}catch(e){if(e instanceof r.StructError)throw new Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}}}}},{package:"@metamask/signature-controller>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/utils/dist/coercers.cjs"}],[2446,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,s,a=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},i=this&&this.__classPrivateFieldSet||function(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n};Object.defineProperty(n,"__esModule",{value:!0}),n.FrozenSet=n.FrozenMap=void 0;class o{get size(){return a(this,r,"f").size}[(r=new WeakMap,Symbol.iterator)](){return a(this,r,"f")[Symbol.iterator]()}constructor(e){r.set(this,void 0),i(this,r,new Map(e),"f"),Object.freeze(this)}entries(){return a(this,r,"f").entries()}forEach(e,t){return a(this,r,"f").forEach(((n,r,s)=>e.call(t,n,r,this)))}get(e){return a(this,r,"f").get(e)}has(e){return a(this,r,"f").has(e)}keys(){return a(this,r,"f").keys()}values(){return a(this,r,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map((([e,t])=>`${String(e)} => ${String(t)}`)).join(", ")} `:""}}`}}n.FrozenMap=o;class c{get size(){return a(this,s,"f").size}[(s=new WeakMap,Symbol.iterator)](){return a(this,s,"f")[Symbol.iterator]()}constructor(e){s.set(this,void 0),i(this,s,new Set(e),"f"),Object.freeze(this)}entries(){return a(this,s,"f").entries()}forEach(e,t){return a(this,s,"f").forEach(((n,r,s)=>e.call(t,n,r,this)))}has(e){return a(this,s,"f").has(e)}keys(){return a(this,s,"f").keys()}values(){return a(this,s,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map((e=>String(e))).join(", ")} `:""}}`}}n.FrozenSet=c,Object.freeze(o),Object.freeze(o.prototype),Object.freeze(c),Object.freeze(c.prototype)}}},{package:"@metamask/signature-controller>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/utils/dist/collections.cjs"}],[2447,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/signature-controller>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/utils/dist/encryption-types.cjs"}],[2448,{"./misc.cjs":2454,"pony-cause":4935},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.wrapError=n.getErrorMessage=n.isErrorWithStack=n.isErrorWithMessage=n.isErrorWithCode=void 0;const r=e("pony-cause"),s=e("./misc.cjs");function a(e){return"object"==typeof e&&null!==e&&"code"in e}function i(e){return"object"==typeof e&&null!==e&&"message"in e}n.isErrorWithCode=a,n.isErrorWithMessage=i,n.isErrorWithStack=function(e){return"object"==typeof e&&null!==e&&"stack"in e},n.getErrorMessage=function(e){return i(e)&&"string"==typeof e.message?e.message:(0,s.isNullOrUndefined)(e)?"":String(e)},n.wrapError=function(e,t){if((n=e)instanceof Error||(0,s.isObject)(n)&&"Error"===n.constructor.name){let n;return n=2===Error.length?new Error(t,{cause:e}):new r.ErrorWithCause(t,{cause:e}),a(e)&&(n.code=e.code),n}var n;return t.length>0?new Error(`${String(e)}: ${t}`):new Error(String(e))}}}},{package:"@metamask/signature-controller>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/utils/dist/errors.cjs"}],[2449,{"./assert.cjs":2440,"./bytes.cjs":2442,"@metamask/superstruct":2797,"@noble/hashes/sha3":2931},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.remove0x=n.add0x=n.isValidChecksumAddress=n.getChecksumAddress=n.isValidHexAddress=n.assertIsStrictHexString=n.assertIsHexString=n.isStrictHexString=n.isHexString=n.HexChecksumAddressStruct=n.HexAddressStruct=n.StrictHexStruct=n.HexStruct=void 0;const r=e("@metamask/superstruct"),s=e("@noble/hashes/sha3"),a=e("./assert.cjs"),i=e("./bytes.cjs");function o(e){return(0,r.is)(e,n.HexStruct)}function c(e){return(0,r.is)(e,n.StrictHexStruct)}function u(e){(0,a.assert)((0,r.is)(e,n.HexChecksumAddressStruct),"Invalid hex address.");const t=d(e.toLowerCase()),o=d((0,i.bytesToHex)((0,s.keccak_256)(t)));return`0x${t.split("").map(((e,t)=>{const n=o[t];return(0,a.assert)((0,r.is)(n,(0,r.string)()),"Hash shorter than address."),parseInt(n,16)>7?e.toUpperCase():e})).join("")}`}function l(e){return!!(0,r.is)(e,n.HexChecksumAddressStruct)&&u(e)===e}function d(e){return e.startsWith("0x")||e.startsWith("0X")?e.substring(2):e}n.HexStruct=(0,r.pattern)((0,r.string)(),/^(?:0x)?[0-9a-f]+$/iu),n.StrictHexStruct=(0,r.pattern)((0,r.string)(),/^0x[0-9a-f]+$/iu),n.HexAddressStruct=(0,r.pattern)((0,r.string)(),/^0x[0-9a-f]{40}$/u),n.HexChecksumAddressStruct=(0,r.pattern)((0,r.string)(),/^0x[0-9a-fA-F]{40}$/u),n.isHexString=o,n.isStrictHexString=c,n.assertIsHexString=function(e){(0,a.assert)(o(e),"Value must be a hexadecimal string.")},n.assertIsStrictHexString=function(e){(0,a.assert)(c(e),'Value must be a hexadecimal string, starting with "0x".')},n.isValidHexAddress=function(e){return(0,r.is)(e,n.HexAddressStruct)||l(e)},n.getChecksumAddress=u,n.isValidChecksumAddress=l,n.add0x=function(e){return e.startsWith("0x")?e:e.startsWith("0X")?`0x${e.substring(2)}`:`0x${e}`},n.remove0x=d}}},{package:"@metamask/signature-controller>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/utils/dist/hex.cjs"}],[2450,{"./assert.cjs":2440,"./base64.cjs":2441,"./bytes.cjs":2442,"./caip-types.cjs":2443,"./checksum.cjs":2444,"./coercers.cjs":2445,"./collections.cjs":2446,"./encryption-types.cjs":2447,"./errors.cjs":2448,"./hex.cjs":2449,"./json.cjs":2451,"./keyring.cjs":2452,"./logging.cjs":2453,"./misc.cjs":2454,"./number.cjs":2455,"./opaque.cjs":2456,"./promise.cjs":2457,"./time.cjs":2458,"./transaction-types.cjs":2459,"./versions.cjs":2460},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./assert.cjs"),n),s(e("./base64.cjs"),n),s(e("./bytes.cjs"),n),s(e("./caip-types.cjs"),n),s(e("./checksum.cjs"),n),s(e("./coercers.cjs"),n),s(e("./collections.cjs"),n),s(e("./encryption-types.cjs"),n),s(e("./errors.cjs"),n),s(e("./hex.cjs"),n),s(e("./json.cjs"),n),s(e("./keyring.cjs"),n),s(e("./logging.cjs"),n),s(e("./misc.cjs"),n),s(e("./number.cjs"),n),s(e("./opaque.cjs"),n),s(e("./promise.cjs"),n),s(e("./time.cjs"),n),s(e("./transaction-types.cjs"),n),s(e("./versions.cjs"),n)}}},{package:"@metamask/signature-controller>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/utils/dist/index.cjs"}],[2451,{"./assert.cjs":2440,"./misc.cjs":2454,"@metamask/superstruct":2797},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getJsonRpcIdValidator=n.assertIsJsonRpcError=n.isJsonRpcError=n.assertIsJsonRpcFailure=n.isJsonRpcFailure=n.assertIsJsonRpcSuccess=n.isJsonRpcSuccess=n.assertIsJsonRpcResponse=n.isJsonRpcResponse=n.assertIsPendingJsonRpcResponse=n.isPendingJsonRpcResponse=n.JsonRpcResponseStruct=n.JsonRpcFailureStruct=n.JsonRpcSuccessStruct=n.PendingJsonRpcResponseStruct=n.assertIsJsonRpcRequest=n.isJsonRpcRequest=n.assertIsJsonRpcNotification=n.isJsonRpcNotification=n.JsonRpcNotificationStruct=n.JsonRpcRequestStruct=n.JsonRpcParamsStruct=n.JsonRpcErrorStruct=n.JsonRpcIdStruct=n.JsonRpcVersionStruct=n.jsonrpc2=n.getJsonSize=n.getSafeJson=n.isValidJson=n.JsonStruct=n.UnsafeJsonStruct=n.exactOptional=n.object=void 0;const r=e("@metamask/superstruct"),s=e("./assert.cjs"),a=e("./misc.cjs");function i({path:e,branch:t}){const n=e[e.length-1];return(0,a.hasProperty)(t[t.length-2],n)}function o(e){return new r.Struct({...e,type:`optional ${e.type}`,validator:(t,n)=>!i(n)||e.validator(t,n),refiner:(t,n)=>!i(n)||e.refiner(t,n)})}function c(e){if(null===e||"boolean"==typeof e||"string"==typeof e)return!0;if("number"==typeof e&&Number.isFinite(e))return!0;if("object"==typeof e){let t=!0;if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(!c(e[n])){t=!1;break}return t}const n=Object.entries(e);for(let e=0;e<n.length;e++)if("string"!=typeof n[e][0]||!c(n[e][1])){t=!1;break}return t}return!1}function u(e){return(0,r.create)(e,n.JsonStruct)}n.object=e=>(0,r.object)(e),n.exactOptional=o,n.UnsafeJsonStruct=(0,r.define)("JSON",(e=>c(e))),n.JsonStruct=(0,r.coerce)(n.UnsafeJsonStruct,(0,r.any)(),(e=>((0,s.assertStruct)(e,n.UnsafeJsonStruct),JSON.parse(JSON.stringify(e,((e,t)=>"__proto__"===e||"constructor"===e?undefined:t)))))),n.isValidJson=function(e){try{return u(e),!0}catch{return!1}},n.getSafeJson=u,n.getJsonSize=function(e){(0,s.assertStruct)(e,n.JsonStruct,"Invalid JSON value");const t=JSON.stringify(e);return(new TextEncoder).encode(t).byteLength},n.jsonrpc2="2.0",n.JsonRpcVersionStruct=(0,r.literal)(n.jsonrpc2),n.JsonRpcIdStruct=(0,r.nullable)((0,r.union)([(0,r.number)(),(0,r.string)()])),n.JsonRpcErrorStruct=(0,n.object)({code:(0,r.integer)(),message:(0,r.string)(),data:o(n.JsonStruct),stack:o((0,r.string)())}),n.JsonRpcParamsStruct=(0,r.union)([(0,r.record)((0,r.string)(),n.JsonStruct),(0,r.array)(n.JsonStruct)]),n.JsonRpcRequestStruct=(0,n.object)({id:n.JsonRpcIdStruct,jsonrpc:n.JsonRpcVersionStruct,method:(0,r.string)(),params:o(n.JsonRpcParamsStruct)}),n.JsonRpcNotificationStruct=(0,n.object)({jsonrpc:n.JsonRpcVersionStruct,method:(0,r.string)(),params:o(n.JsonRpcParamsStruct)}),n.isJsonRpcNotification=function(e){return(0,r.is)(e,n.JsonRpcNotificationStruct)},n.assertIsJsonRpcNotification=function(e,t){(0,s.assertStruct)(e,n.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",t)},n.isJsonRpcRequest=function(e){return(0,r.is)(e,n.JsonRpcRequestStruct)},n.assertIsJsonRpcRequest=function(e,t){(0,s.assertStruct)(e,n.JsonRpcRequestStruct,"Invalid JSON-RPC request",t)},n.PendingJsonRpcResponseStruct=(0,r.object)({id:n.JsonRpcIdStruct,jsonrpc:n.JsonRpcVersionStruct,result:(0,r.optional)((0,r.unknown)()),error:(0,r.optional)(n.JsonRpcErrorStruct)}),n.JsonRpcSuccessStruct=(0,n.object)({id:n.JsonRpcIdStruct,jsonrpc:n.JsonRpcVersionStruct,result:n.JsonStruct}),n.JsonRpcFailureStruct=(0,n.object)({id:n.JsonRpcIdStruct,jsonrpc:n.JsonRpcVersionStruct,error:n.JsonRpcErrorStruct}),n.JsonRpcResponseStruct=(0,r.union)([n.JsonRpcSuccessStruct,n.JsonRpcFailureStruct]),n.isPendingJsonRpcResponse=function(e){return(0,r.is)(e,n.PendingJsonRpcResponseStruct)},n.assertIsPendingJsonRpcResponse=function(e,t){(0,s.assertStruct)(e,n.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",t)},n.isJsonRpcResponse=function(e){return(0,r.is)(e,n.JsonRpcResponseStruct)},n.assertIsJsonRpcResponse=function(e,t){(0,s.assertStruct)(e,n.JsonRpcResponseStruct,"Invalid JSON-RPC response",t)},n.isJsonRpcSuccess=function(e){return(0,r.is)(e,n.JsonRpcSuccessStruct)},n.assertIsJsonRpcSuccess=function(e,t){(0,s.assertStruct)(e,n.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",t)},n.isJsonRpcFailure=function(e){return(0,r.is)(e,n.JsonRpcFailureStruct)},n.assertIsJsonRpcFailure=function(e,t){(0,s.assertStruct)(e,n.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",t)},n.isJsonRpcError=function(e){return(0,r.is)(e,n.JsonRpcErrorStruct)},n.assertIsJsonRpcError=function(e,t){(0,s.assertStruct)(e,n.JsonRpcErrorStruct,"Invalid JSON-RPC error",t)},n.getJsonRpcIdValidator=function(e){const{permitEmptyString:t,permitFractions:n,permitNull:r}={permitEmptyString:!0,permitFractions:!1,permitNull:!0,...e};return e=>Boolean("number"==typeof e&&(n||Number.isInteger(e))||"string"==typeof e&&(t||e.length>0)||r&&null===e)}}}},{package:"@metamask/signature-controller>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/utils/dist/json.cjs"}],[2452,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/signature-controller>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/utils/dist/keyring.cjs"}],[2453,{debug:4094},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.createModuleLogger=n.createProjectLogger=void 0;const s=(0,r(e("debug")).default)("metamask");n.createProjectLogger=function(e){return s.extend(e)},n.createModuleLogger=function(e,t){return e.extend(t)}}}},{package:"@metamask/signature-controller>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/utils/dist/logging.cjs"}],[2454,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.calculateNumberSize=n.calculateStringSize=n.isASCII=n.isPlainObject=n.ESCAPE_CHARACTERS_REGEXP=n.JsonSize=n.getKnownPropertyNames=n.hasProperty=n.isObject=n.isNullOrUndefined=n.isNonEmptyArray=void 0,n.isNonEmptyArray=function(e){return Array.isArray(e)&&e.length>0},n.isNullOrUndefined=function(e){return null===e||e===undefined},n.isObject=function(e){return Boolean(e)&&"object"==typeof e&&!Array.isArray(e)};function r(e){return e.charCodeAt(0)<=127}n.hasProperty=(e,t)=>Object.hasOwnProperty.call(e,t),n.getKnownPropertyNames=function(e){return Object.getOwnPropertyNames(e)},function(e){e[e.Null=4]="Null",e[e.Comma=1]="Comma",e[e.Wrapper=1]="Wrapper",e[e.True=4]="True",e[e.False=5]="False",e[e.Quote=1]="Quote",e[e.Colon=1]="Colon",e[e.Date=24]="Date"}(n.JsonSize||(n.JsonSize={})),n.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu,n.isPlainObject=function(e){if("object"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}},n.isASCII=r,n.calculateStringSize=function(e){return e.split("").reduce(((e,t)=>r(t)?e+1:e+2),0)+(e.match(n.ESCAPE_CHARACTERS_REGEXP)??[]).length},n.calculateNumberSize=function(e){return e.toString().length}}}},{package:"@metamask/signature-controller>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/utils/dist/misc.cjs"}],[2455,{"./assert.cjs":2440,"./hex.cjs":2449},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.hexToBigInt=n.hexToNumber=n.bigIntToHex=n.numberToHex=void 0;const r=e("./assert.cjs"),s=e("./hex.cjs");n.numberToHex=e=>((0,r.assert)("number"==typeof e,"Value must be a number."),(0,r.assert)(e>=0,"Value must be a non-negative number."),(0,r.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,s.add0x)(e.toString(16)));n.bigIntToHex=e=>((0,r.assert)("bigint"==typeof e,"Value must be a bigint."),(0,r.assert)(e>=0,"Value must be a non-negative bigint."),(0,s.add0x)(e.toString(16)));n.hexToNumber=e=>{(0,s.assertIsHexString)(e);const t=parseInt(e,16);return(0,r.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `hexToBigInt` instead."),t};n.hexToBigInt=e=>((0,s.assertIsHexString)(e),BigInt((0,s.add0x)(e)))}}},{package:"@metamask/signature-controller>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/utils/dist/number.cjs"}],[2456,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/signature-controller>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/utils/dist/opaque.cjs"}],[2457,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createDeferredPromise=void 0,n.createDeferredPromise=function({suppressUnhandledRejection:e=!1}={}){let t,n;const r=new Promise(((e,r)=>{t=e,n=r}));return e&&r.catch((e=>{})),{promise:r,resolve:t,reject:n}}}}},{package:"@metamask/signature-controller>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/utils/dist/promise.cjs"}],[2458,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.timeSince=n.inMilliseconds=n.Duration=void 0,function(e){e[e.Millisecond=1]="Millisecond",e[e.Second=1e3]="Second",e[e.Minute=6e4]="Minute",e[e.Hour=36e5]="Hour",e[e.Day=864e5]="Day",e[e.Week=6048e5]="Week",e[e.Year=31536e6]="Year"}(n.Duration||(n.Duration={}));const r=(e,t)=>{if(!(e=>Number.isInteger(e)&&e>=0)(e))throw new Error(`"${t}" must be a non-negative integer. Received: "${e}".`)};n.inMilliseconds=function(e,t){return r(e,"count"),e*t},n.timeSince=function(e){return r(e,"timestamp"),Date.now()-e}}}},{package:"@metamask/signature-controller>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/utils/dist/time.cjs"}],[2459,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/signature-controller>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/utils/dist/transaction-types.cjs"}],[2460,{"./assert.cjs":2440,"@metamask/superstruct":2797,semver:5479},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.satisfiesVersionRange=n.gtRange=n.gtVersion=n.assertIsSemVerRange=n.assertIsSemVerVersion=n.isValidSemVerRange=n.isValidSemVerVersion=n.VersionRangeStruct=n.VersionStruct=void 0;const r=e("@metamask/superstruct"),s=e("semver"),a=e("./assert.cjs");n.VersionStruct=(0,r.refine)((0,r.string)(),"Version",(e=>null!==(0,s.valid)(e)||`Expected SemVer version, got "${e}"`)),n.VersionRangeStruct=(0,r.refine)((0,r.string)(),"Version range",(e=>null!==(0,s.validRange)(e)||`Expected SemVer range, got "${e}"`)),n.isValidSemVerVersion=function(e){return(0,r.is)(e,n.VersionStruct)},n.isValidSemVerRange=function(e){return(0,r.is)(e,n.VersionRangeStruct)},n.assertIsSemVerVersion=function(e){(0,a.assertStruct)(e,n.VersionStruct)},n.assertIsSemVerRange=function(e){(0,a.assertStruct)(e,n.VersionRangeStruct)},n.gtVersion=function(e,t){return(0,s.gt)(e,t)},n.gtRange=function(e,t){return(0,s.gtr)(e,t)},n.satisfiesVersionRange=function(e,t){return(0,s.satisfies)(e,t,{includePrerelease:!0})}}}},{package:"@metamask/signature-controller>@metamask/utils",file:"node_modules/@metamask/signature-controller/node_modules/@metamask/utils/dist/versions.cjs"}],[2461,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports={0:{index:"0",hex:"0x80000000",symbol:"BTC",name:"Bitcoin"},1:{index:"1",hex:"0x80000001",symbol:"",name:"Testnet (all coins)"},2:{index:"2",hex:"0x80000002",symbol:"LTC",name:"Litecoin"},3:{index:"3",hex:"0x80000003",symbol:"DOGE",name:"Dogecoin"},4:{index:"4",hex:"0x80000004",symbol:"RDD",name:"Reddcoin"},5:{index:"5",hex:"0x80000005",symbol:"DASH",name:"Dash"},6:{index:"6",hex:"0x80000006",symbol:"PPC",name:"Peercoin"},7:{index:"7",hex:"0x80000007",symbol:"NMC",name:"Namecoin"},8:{index:"8",hex:"0x80000008",symbol:"FTC",name:"Feathercoin"},9:{index:"9",hex:"0x80000009",symbol:"XCP",name:"Counterparty"},10:{index:"10",hex:"0x8000000a",symbol:"BLK",name:"Blackcoin"},11:{index:"11",hex:"0x8000000b",symbol:"NSR",name:"NuShares"},12:{index:"12",hex:"0x8000000c",symbol:"NBT",name:"NuBits"},13:{index:"13",hex:"0x8000000d",symbol:"MZC",name:"Mazacoin"},14:{index:"14",hex:"0x8000000e",symbol:"VIA",name:"Viacoin"},15:{index:"15",hex:"0x8000000f",symbol:"XCH",name:"ClearingHouse"},16:{index:"16",hex:"0x80000010",symbol:"RBY",name:"Rubycoin"},17:{index:"17",hex:"0x80000011",symbol:"GRS",name:"Groestlcoin"},18:{index:"18",hex:"0x80000012",symbol:"DGC",name:"Digitalcoin"},19:{index:"19",hex:"0x80000013",symbol:"CCN",name:"Cannacoin"},20:{index:"20",hex:"0x80000014",symbol:"DGB",name:"DigiByte"},21:{index:"21",hex:"0x80000015",symbol:"",name:"Open Assets"},22:{index:"22",hex:"0x80000016",symbol:"MONA",name:"Monacoin"},23:{index:"23",hex:"0x80000017",symbol:"CLAM",name:"Clams"},24:{index:"24",hex:"0x80000018",symbol:"XPM",name:"Primecoin"},25:{index:"25",hex:"0x80000019",symbol:"NEOS",name:"Neoscoin"},26:{index:"26",hex:"0x8000001a",symbol:"JBS",name:"Jumbucks"},27:{index:"27",hex:"0x8000001b",symbol:"ZRC",name:"ziftrCOIN"},28:{index:"28",hex:"0x8000001c",symbol:"VTC",name:"Vertcoin"},29:{index:"29",hex:"0x8000001d",symbol:"NXT",name:"NXT"},30:{index:"30",hex:"0x8000001e",symbol:"BURST",name:"Burst"},31:{index:"31",hex:"0x8000001f",symbol:"MUE",name:"MonetaryUnit"},32:{index:"32",hex:"0x80000020",symbol:"ZOOM",name:"Zoom"},33:{index:"33",hex:"0x80000021",symbol:"VASH",name:"Virtual Cash"},34:{index:"34",hex:"0x80000022",symbol:"CDN",name:"Canada eCoin"},35:{index:"35",hex:"0x80000023",symbol:"SDC",name:"ShadowCash"},36:{index:"36",hex:"0x80000024",symbol:"PKB",name:"ParkByte"},37:{index:"37",hex:"0x80000025",symbol:"PND",name:"Pandacoin"},38:{index:"38",hex:"0x80000026",symbol:"START",name:"StartCOIN"},39:{index:"39",hex:"0x80000027",symbol:"MOIN",name:"MOIN"},40:{index:"40",hex:"0x80000028",symbol:"EXP",name:"Expanse"},41:{index:"41",hex:"0x80000029",symbol:"EMC2",name:"Einsteinium"},42:{index:"42",hex:"0x8000002a",symbol:"DCR",name:"Decred"},43:{index:"43",hex:"0x8000002b",symbol:"XEM",name:"NEM"},44:{index:"44",hex:"0x8000002c",symbol:"PART",name:"Particl"},45:{index:"45",hex:"0x8000002d",symbol:"ARG",name:"Argentum (dead)"},46:{index:"46",hex:"0x8000002e",symbol:"",name:"Libertas"},47:{index:"47",hex:"0x8000002f",symbol:"",name:"Posw coin"},48:{index:"48",hex:"0x80000030",symbol:"SHR",name:"Shreeji"},49:{index:"49",hex:"0x80000031",symbol:"GCR",name:"Global Currency Reserve (GCRcoin)"},50:{index:"50",hex:"0x80000032",symbol:"NVC",name:"Novacoin"},51:{index:"51",hex:"0x80000033",symbol:"AC",name:"Asiacoin"},52:{index:"52",hex:"0x80000034",symbol:"BTCD",name:"BitcoinDark"},53:{index:"53",hex:"0x80000035",symbol:"DOPE",name:"Dopecoin"},54:{index:"54",hex:"0x80000036",symbol:"TPC",name:"Templecoin"},55:{index:"55",hex:"0x80000037",symbol:"AIB",name:"AIB"},56:{index:"56",hex:"0x80000038",symbol:"EDRC",name:"EDRCoin"},57:{index:"57",hex:"0x80000039",symbol:"SYS",name:"Syscoin"},58:{index:"58",hex:"0x8000003a",symbol:"SLR",name:"Solarcoin"},59:{index:"59",hex:"0x8000003b",symbol:"SMLY",name:"Smileycoin"},60:{index:"60",hex:"0x8000003c",symbol:"ETH",name:"Ethereum"},61:{index:"61",hex:"0x8000003d",symbol:"ETC",name:"Ether Classic"},62:{index:"62",hex:"0x8000003e",symbol:"PSB",name:"Pesobit"},63:{index:"63",hex:"0x8000003f",symbol:"LDCN",name:"Landcoin (dead)"},64:{index:"64",hex:"0x80000040",symbol:"",name:"Open Chain"},65:{index:"65",hex:"0x80000041",symbol:"XBC",name:"Bitcoinplus"},66:{index:"66",hex:"0x80000042",symbol:"IOP",name:"Internet of People"},67:{index:"67",hex:"0x80000043",symbol:"NXS",name:"Nexus"},68:{index:"68",hex:"0x80000044",symbol:"INSN",name:"InsaneCoin"},69:{index:"69",hex:"0x80000045",symbol:"OK",name:"OKCash"},70:{index:"70",hex:"0x80000046",symbol:"BRIT",name:"BritCoin"},71:{index:"71",hex:"0x80000047",symbol:"CMP",name:"Compcoin"},72:{index:"72",hex:"0x80000048",symbol:"CRW",name:"Crown"},73:{index:"73",hex:"0x80000049",symbol:"BELA",name:"BelaCoin"},74:{index:"74",hex:"0x8000004a",symbol:"ICX",name:"ICON"},75:{index:"75",hex:"0x8000004b",symbol:"FJC",name:"FujiCoin"},76:{index:"76",hex:"0x8000004c",symbol:"MIX",name:"MIX"},77:{index:"77",hex:"0x8000004d",symbol:"XVG",name:"Verge Currency"},78:{index:"78",hex:"0x8000004e",symbol:"EFL",name:"Electronic Gulden"},79:{index:"79",hex:"0x8000004f",symbol:"CLUB",name:"ClubCoin"},80:{index:"80",hex:"0x80000050",symbol:"RICHX",name:"RichCoin"},81:{index:"81",hex:"0x80000051",symbol:"POT",name:"Potcoin"},82:{index:"82",hex:"0x80000052",symbol:"QRK",name:"Quarkcoin"},83:{index:"83",hex:"0x80000053",symbol:"TRC",name:"Terracoin"},84:{index:"84",hex:"0x80000054",symbol:"GRC",name:"Gridcoin"},85:{index:"85",hex:"0x80000055",symbol:"AUR",name:"Auroracoin"},86:{index:"86",hex:"0x80000056",symbol:"IXC",name:"IXCoin"},87:{index:"87",hex:"0x80000057",symbol:"NLG",name:"Gulden"},88:{index:"88",hex:"0x80000058",symbol:"BITB",name:"BitBean"},89:{index:"89",hex:"0x80000059",symbol:"BTA",name:"Bata"},90:{index:"90",hex:"0x8000005a",symbol:"XMY",name:"Myriadcoin"},91:{index:"91",hex:"0x8000005b",symbol:"BSD",name:"BitSend"},92:{index:"92",hex:"0x8000005c",symbol:"UNO",name:"Unobtanium"},93:{index:"93",hex:"0x8000005d",symbol:"MTR",name:"MasterTrader"},94:{index:"94",hex:"0x8000005e",symbol:"GB",name:"GoldBlocks"},95:{index:"95",hex:"0x8000005f",symbol:"SHM",name:"Saham"},96:{index:"96",hex:"0x80000060",symbol:"CRX",name:"Chronos"},97:{index:"97",hex:"0x80000061",symbol:"BIQ",name:"Ubiquoin"},98:{index:"98",hex:"0x80000062",symbol:"EVO",name:"Evotion"},99:{index:"99",hex:"0x80000063",symbol:"STO",name:"SaveTheOcean"},100:{index:"100",hex:"0x80000064",symbol:"BIGUP",name:"BigUp"},101:{index:"101",hex:"0x80000065",symbol:"GAME",name:"GameCredits"},102:{index:"102",hex:"0x80000066",symbol:"DLC",name:"Dollarcoins"},103:{index:"103",hex:"0x80000067",symbol:"ZYD",name:"Zayedcoin"},104:{index:"104",hex:"0x80000068",symbol:"DBIC",name:"Dubaicoin"},105:{index:"105",hex:"0x80000069",symbol:"STRAT",name:"Stratis"},106:{index:"106",hex:"0x8000006a",symbol:"SH",name:"Shilling"},107:{index:"107",hex:"0x8000006b",symbol:"MARS",name:"MarsCoin"},108:{index:"108",hex:"0x8000006c",symbol:"UBQ",name:"Ubiq"},109:{index:"109",hex:"0x8000006d",symbol:"PTC",name:"Pesetacoin"},110:{index:"110",hex:"0x8000006e",symbol:"NRO",name:"Neurocoin"},111:{index:"111",hex:"0x8000006f",symbol:"ARK",name:"ARK"},112:{index:"112",hex:"0x80000070",symbol:"USC",name:"UltimateSecureCashMain"},113:{index:"113",hex:"0x80000071",symbol:"THC",name:"Hempcoin"},114:{index:"114",hex:"0x80000072",symbol:"LINX",name:"Linx"},115:{index:"115",hex:"0x80000073",symbol:"ECN",name:"Ecoin"},116:{index:"116",hex:"0x80000074",symbol:"DNR",name:"Denarius"},117:{index:"117",hex:"0x80000075",symbol:"PINK",name:"Pinkcoin"},118:{index:"118",hex:"0x80000076",symbol:"ATOM",name:"Atom"},119:{index:"119",hex:"0x80000077",symbol:"PIVX",name:"Pivx"},120:{index:"120",hex:"0x80000078",symbol:"FLASH",name:"Flashcoin"},121:{index:"121",hex:"0x80000079",symbol:"ZEN",name:"Zencash"},122:{index:"122",hex:"0x8000007a",symbol:"PUT",name:"Putincoin"},123:{index:"123",hex:"0x8000007b",symbol:"ZNY",name:"BitZeny"},124:{index:"124",hex:"0x8000007c",symbol:"UNIFY",name:"Unify"},125:{index:"125",hex:"0x8000007d",symbol:"XST",name:"StealthCoin"},126:{index:"126",hex:"0x8000007e",symbol:"BRK",name:"Breakout Coin"},127:{index:"127",hex:"0x8000007f",symbol:"VC",name:"Vcash"},128:{index:"128",hex:"0x80000080",symbol:"XMR",name:"Monero"},129:{index:"129",hex:"0x80000081",symbol:"VOX",name:"Voxels"},130:{index:"130",hex:"0x80000082",symbol:"NAV",name:"NavCoin"},131:{index:"131",hex:"0x80000083",symbol:"FCT",name:"Factom Factoids"},132:{index:"132",hex:"0x80000084",symbol:"EC",name:"Factom Entry Credits"},133:{index:"133",hex:"0x80000085",symbol:"ZEC",name:"Zcash"},134:{index:"134",hex:"0x80000086",symbol:"LSK",name:"Lisk"},135:{index:"135",hex:"0x80000087",symbol:"STEEM",name:"Steem"},136:{index:"136",hex:"0x80000088",symbol:"XZC",name:"ZCoin"},137:{index:"137",hex:"0x80000089",symbol:"RBTC",name:"Rootstock"},138:{index:"138",hex:"0x8000008a",symbol:"",name:"Giftblock"},139:{index:"139",hex:"0x8000008b",symbol:"RPT",name:"RealPointCoin"},140:{index:"140",hex:"0x8000008c",symbol:"LBC",name:"LBRY Credits"},141:{index:"141",hex:"0x8000008d",symbol:"KMD",name:"Komodo"},142:{index:"142",hex:"0x8000008e",symbol:"BSQ",name:"bisq Token"},143:{index:"143",hex:"0x8000008f",symbol:"RIC",name:"Riecoin"},144:{index:"144",hex:"0x80000090",symbol:"XRP",name:"XRP"},145:{index:"145",hex:"0x80000091",symbol:"BCH",name:"Bitcoin Cash"},146:{index:"146",hex:"0x80000092",symbol:"NEBL",name:"Neblio"},147:{index:"147",hex:"0x80000093",symbol:"ZCL",name:"ZClassic"},148:{index:"148",hex:"0x80000094",symbol:"XLM",name:"Stellar Lumens"},149:{index:"149",hex:"0x80000095",symbol:"NLC2",name:"NoLimitCoin2"},150:{index:"150",hex:"0x80000096",symbol:"WHL",name:"WhaleCoin"},151:{index:"151",hex:"0x80000097",symbol:"ERC",name:"EuropeCoin"},152:{index:"152",hex:"0x80000098",symbol:"DMD",name:"Diamond"},153:{index:"153",hex:"0x80000099",symbol:"BTM",name:"Bytom"},154:{index:"154",hex:"0x8000009a",symbol:"BIO",name:"Biocoin"},155:{index:"155",hex:"0x8000009b",symbol:"XWCC",name:"Whitecoin Classic"},156:{index:"156",hex:"0x8000009c",symbol:"BTG",name:"Bitcoin Gold"},157:{index:"157",hex:"0x8000009d",symbol:"BTC2X",name:"Bitcoin 2x"},158:{index:"158",hex:"0x8000009e",symbol:"SSN",name:"SuperSkynet"},159:{index:"159",hex:"0x8000009f",symbol:"TOA",name:"TOACoin"},160:{index:"160",hex:"0x800000a0",symbol:"BTX",name:"Bitcore"},161:{index:"161",hex:"0x800000a1",symbol:"ACC",name:"Adcoin"},162:{index:"162",hex:"0x800000a2",symbol:"BCO",name:"Bridgecoin"},163:{index:"163",hex:"0x800000a3",symbol:"ELLA",name:"Ellaism"},164:{index:"164",hex:"0x800000a4",symbol:"PIRL",name:"Pirl"},165:{index:"165",hex:"0x800000a5",symbol:"XNO",name:"Nano"},166:{index:"166",hex:"0x800000a6",symbol:"VIVO",name:"Vivo"},167:{index:"167",hex:"0x800000a7",symbol:"FRST",name:"Firstcoin"},168:{index:"168",hex:"0x800000a8",symbol:"HNC",name:"Helleniccoin"},169:{index:"169",hex:"0x800000a9",symbol:"BUZZ",name:"BUZZ"},170:{index:"170",hex:"0x800000aa",symbol:"MBRS",name:"Ember"},171:{index:"171",hex:"0x800000ab",symbol:"HC",name:"Hcash"},172:{index:"172",hex:"0x800000ac",symbol:"HTML",name:"HTMLCOIN"},173:{index:"173",hex:"0x800000ad",symbol:"ODN",name:"Obsidian"},174:{index:"174",hex:"0x800000ae",symbol:"ONX",name:"OnixCoin"},175:{index:"175",hex:"0x800000af",symbol:"RVN",name:"Ravencoin"},176:{index:"176",hex:"0x800000b0",symbol:"GBX",name:"GoByte"},177:{index:"177",hex:"0x800000b1",symbol:"BTCZ",name:"BitcoinZ"},178:{index:"178",hex:"0x800000b2",symbol:"POA",name:"Poa"},179:{index:"179",hex:"0x800000b3",symbol:"NYC",name:"NewYorkCoin"},180:{index:"180",hex:"0x800000b4",symbol:"MXT",name:"MarteXcoin"},181:{index:"181",hex:"0x800000b5",symbol:"WC",name:"Wincoin"},182:{index:"182",hex:"0x800000b6",symbol:"MNX",name:"Minexcoin"},183:{index:"183",hex:"0x800000b7",symbol:"BTCP",name:"Bitcoin Private"},184:{index:"184",hex:"0x800000b8",symbol:"MUSIC",name:"Musicoin"},185:{index:"185",hex:"0x800000b9",symbol:"BCA",name:"Bitcoin Atom"},186:{index:"186",hex:"0x800000ba",symbol:"CRAVE",name:"Crave"},187:{index:"187",hex:"0x800000bb",symbol:"STAK",name:"STRAKS"},188:{index:"188",hex:"0x800000bc",symbol:"WBTC",name:"World Bitcoin"},189:{index:"189",hex:"0x800000bd",symbol:"LCH",name:"LiteCash"},190:{index:"190",hex:"0x800000be",symbol:"EXCL",name:"ExclusiveCoin"},191:{index:"191",hex:"0x800000bf",symbol:"",name:"Lynx"},192:{index:"192",hex:"0x800000c0",symbol:"LCC",name:"LitecoinCash"},193:{index:"193",hex:"0x800000c1",symbol:"XFE",name:"Feirm"},194:{index:"194",hex:"0x800000c2",symbol:"EOS",name:"EOS"},195:{index:"195",hex:"0x800000c3",symbol:"TRX",name:"Tron"},196:{index:"196",hex:"0x800000c4",symbol:"KOBO",name:"Kobocoin"},197:{index:"197",hex:"0x800000c5",symbol:"HUSH",name:"HUSH"},198:{index:"198",hex:"0x800000c6",symbol:"BAN",name:"Banano"},199:{index:"199",hex:"0x800000c7",symbol:"ETF",name:"ETF"},200:{index:"200",hex:"0x800000c8",symbol:"OMNI",name:"Omni"},201:{index:"201",hex:"0x800000c9",symbol:"BIFI",name:"BitcoinFile"},202:{index:"202",hex:"0x800000ca",symbol:"UFO",name:"Uniform Fiscal Object"},203:{index:"203",hex:"0x800000cb",symbol:"CNMC",name:"Cryptonodes"},204:{index:"204",hex:"0x800000cc",symbol:"BCN",name:"Bytecoin"},205:{index:"205",hex:"0x800000cd",symbol:"RIN",name:"Ringo"},206:{index:"206",hex:"0x800000ce",symbol:"ATP",name:"Alaya"},207:{index:"207",hex:"0x800000cf",symbol:"EVT",name:"everiToken"},208:{index:"208",hex:"0x800000d0",symbol:"ATN",name:"ATN"},209:{index:"209",hex:"0x800000d1",symbol:"BIS",name:"Bismuth"},210:{index:"210",hex:"0x800000d2",symbol:"NEET",name:"NEETCOIN"},211:{index:"211",hex:"0x800000d3",symbol:"BOPO",name:"BopoChain"},212:{index:"212",hex:"0x800000d4",symbol:"OOT",name:"Utrum"},213:{index:"213",hex:"0x800000d5",symbol:"ALIAS",name:"Alias"},214:{index:"214",hex:"0x800000d6",symbol:"MONK",name:"Monkey Project"},215:{index:"215",hex:"0x800000d7",symbol:"BOXY",name:"BoxyCoin"},216:{index:"216",hex:"0x800000d8",symbol:"FLO",name:"Flo"},217:{index:"217",hex:"0x800000d9",symbol:"MEC",name:"Megacoin"},218:{index:"218",hex:"0x800000da",symbol:"BTDX",name:"BitCloud"},219:{index:"219",hex:"0x800000db",symbol:"XAX",name:"Artax"},220:{index:"220",hex:"0x800000dc",symbol:"ANON",name:"ANON"},221:{index:"221",hex:"0x800000dd",symbol:"LTZ",name:"LitecoinZ"},222:{index:"222",hex:"0x800000de",symbol:"BITG",name:"Bitcoin Green"},223:{index:"223",hex:"0x800000df",symbol:"ICP",name:"Internet Computer (DFINITY)"},224:{index:"224",hex:"0x800000e0",symbol:"SMART",name:"Smartcash"},225:{index:"225",hex:"0x800000e1",symbol:"XUEZ",name:"XUEZ"},226:{index:"226",hex:"0x800000e2",symbol:"HLM",name:"Helium"},227:{index:"227",hex:"0x800000e3",symbol:"WEB",name:"Webchain"},228:{index:"228",hex:"0x800000e4",symbol:"ACM",name:"Actinium"},229:{index:"229",hex:"0x800000e5",symbol:"NOS",name:"NOS Stable Coins"},230:{index:"230",hex:"0x800000e6",symbol:"BITC",name:"BitCash"},231:{index:"231",hex:"0x800000e7",symbol:"HTH",name:"Help The Homeless Coin"},232:{index:"232",hex:"0x800000e8",symbol:"TZC",name:"Trezarcoin"},233:{index:"233",hex:"0x800000e9",symbol:"VAR",name:"Varda"},234:{index:"234",hex:"0x800000ea",symbol:"IOV",name:"IOV"},235:{index:"235",hex:"0x800000eb",symbol:"FIO",name:"FIO"},236:{index:"236",hex:"0x800000ec",symbol:"BSV",name:"BitcoinSV"},237:{index:"237",hex:"0x800000ed",symbol:"DXN",name:"DEXON"},238:{index:"238",hex:"0x800000ee",symbol:"QRL",name:"Quantum Resistant Ledger"},239:{index:"239",hex:"0x800000ef",symbol:"PCX",name:"ChainX"},240:{index:"240",hex:"0x800000f0",symbol:"LOKI",name:"Loki"},241:{index:"241",hex:"0x800000f1",symbol:"",name:"Imagewallet"},242:{index:"242",hex:"0x800000f2",symbol:"NIM",name:"Nimiq"},243:{index:"243",hex:"0x800000f3",symbol:"SOV",name:"Sovereign Coin"},244:{index:"244",hex:"0x800000f4",symbol:"JCT",name:"Jibital Coin"},245:{index:"245",hex:"0x800000f5",symbol:"SLP",name:"Simple Ledger Protocol"},246:{index:"246",hex:"0x800000f6",symbol:"EWT",name:"Energy Web"},247:{index:"247",hex:"0x800000f7",symbol:"UC",name:"Ulord"},248:{index:"248",hex:"0x800000f8",symbol:"EXOS",name:"EXOS"},249:{index:"249",hex:"0x800000f9",symbol:"ECA",name:"Electra"},250:{index:"250",hex:"0x800000fa",symbol:"SOOM",name:"Soom"},251:{index:"251",hex:"0x800000fb",symbol:"XRD",name:"Redstone"},252:{index:"252",hex:"0x800000fc",symbol:"FREE",name:"FreeCoin"},253:{index:"253",hex:"0x800000fd",symbol:"NPW",name:"NewPowerCoin"},254:{index:"254",hex:"0x800000fe",symbol:"BST",name:"BlockStamp"},255:{index:"255",hex:"0x800000ff",symbol:"",name:"SmartHoldem"},256:{index:"256",hex:"0x80000100",symbol:"NANO",name:"Bitcoin Nano"},257:{index:"257",hex:"0x80000101",symbol:"BTCC",name:"Bitcoin Core"},258:{index:"258",hex:"0x80000102",symbol:"",name:"Zen Protocol"},259:{index:"259",hex:"0x80000103",symbol:"ZEST",name:"Zest"},260:{index:"260",hex:"0x80000104",symbol:"ABT",name:"ArcBlock"},261:{index:"261",hex:"0x80000105",symbol:"PION",name:"Pion"},262:{index:"262",hex:"0x80000106",symbol:"DT3",name:"DreamTeam3"},263:{index:"263",hex:"0x80000107",symbol:"ZBUX",name:"Zbux"},264:{index:"264",hex:"0x80000108",symbol:"KPL",name:"Kepler"},265:{index:"265",hex:"0x80000109",symbol:"TPAY",name:"TokenPay"},266:{index:"266",hex:"0x8000010a",symbol:"ZILLA",name:"ChainZilla"},267:{index:"267",hex:"0x8000010b",symbol:"ANK",name:"Anker"},268:{index:"268",hex:"0x8000010c",symbol:"BCC",name:"BCChain"},269:{index:"269",hex:"0x8000010d",symbol:"HPB",name:"HPB"},270:{index:"270",hex:"0x8000010e",symbol:"ONE",name:"ONE"},271:{index:"271",hex:"0x8000010f",symbol:"SBC",name:"SBC"},272:{index:"272",hex:"0x80000110",symbol:"IPC",name:"IPChain"},273:{index:"273",hex:"0x80000111",symbol:"DMTC",name:"Dominantchain"},274:{index:"274",hex:"0x80000112",symbol:"OGC",name:"Onegram"},275:{index:"275",hex:"0x80000113",symbol:"SHIT",name:"Shitcoin"},276:{index:"276",hex:"0x80000114",symbol:"ANDES",name:"Andescoin"},277:{index:"277",hex:"0x80000115",symbol:"AREPA",name:"Arepacoin"},278:{index:"278",hex:"0x80000116",symbol:"BOLI",name:"Bolivarcoin"},279:{index:"279",hex:"0x80000117",symbol:"RIL",name:"Rilcoin"},280:{index:"280",hex:"0x80000118",symbol:"HTR",name:"Hathor Network"},281:{index:"281",hex:"0x80000119",symbol:"ACME",name:"Accumulate"},282:{index:"282",hex:"0x8000011a",symbol:"BRAVO",name:"BRAVO"},283:{index:"283",hex:"0x8000011b",symbol:"ALGO",name:"Algorand"},284:{index:"284",hex:"0x8000011c",symbol:"BZX",name:"Bitcoinzero"},285:{index:"285",hex:"0x8000011d",symbol:"GXX",name:"GravityCoin"},286:{index:"286",hex:"0x8000011e",symbol:"HEAT",name:"HEAT"},287:{index:"287",hex:"0x8000011f",symbol:"XDN",name:"DigitalNote"},288:{index:"288",hex:"0x80000120",symbol:"FSN",name:"FUSION"},289:{index:"289",hex:"0x80000121",symbol:"CPC",name:"Capricoin"},290:{index:"290",hex:"0x80000122",symbol:"BOLD",name:"Bold"},291:{index:"291",hex:"0x80000123",symbol:"IOST",name:"IOST"},292:{index:"292",hex:"0x80000124",symbol:"TKEY",name:"Tkeycoin"},293:{index:"293",hex:"0x80000125",symbol:"USE",name:"Usechain"},294:{index:"294",hex:"0x80000126",symbol:"BCZ",name:"BitcoinCZ"},295:{index:"295",hex:"0x80000127",symbol:"IOC",name:"Iocoin"},296:{index:"296",hex:"0x80000128",symbol:"ASF",name:"Asofe"},297:{index:"297",hex:"0x80000129",symbol:"MASS",name:"MASS"},298:{index:"298",hex:"0x8000012a",symbol:"FAIR",name:"FairCoin"},299:{index:"299",hex:"0x8000012b",symbol:"NUKO",name:"Nekonium"},300:{index:"300",hex:"0x8000012c",symbol:"GNX",name:"Genaro Network"},301:{index:"301",hex:"0x8000012d",symbol:"DIVI",name:"Divi Project"},302:{index:"302",hex:"0x8000012e",symbol:"CMT",name:"Community"},303:{index:"303",hex:"0x8000012f",symbol:"EUNO",name:"EUNO"},304:{index:"304",hex:"0x80000130",symbol:"IOTX",name:"IoTeX"},305:{index:"305",hex:"0x80000131",symbol:"ONION",name:"DeepOnion"},306:{index:"306",hex:"0x80000132",symbol:"8BIT",name:"8Bit"},307:{index:"307",hex:"0x80000133",symbol:"ATC",name:"AToken Coin"},308:{index:"308",hex:"0x80000134",symbol:"BTS",name:"Bitshares"},309:{index:"309",hex:"0x80000135",symbol:"CKB",name:"Nervos CKB"},310:{index:"310",hex:"0x80000136",symbol:"UGAS",name:"Ultrain"},311:{index:"311",hex:"0x80000137",symbol:"ADS",name:"Adshares"},312:{index:"312",hex:"0x80000138",symbol:"ARA",name:"Aura"},313:{index:"313",hex:"0x80000139",symbol:"ZIL",name:"Zilliqa"},314:{index:"314",hex:"0x8000013a",symbol:"MOAC",name:"MOAC"},315:{index:"315",hex:"0x8000013b",symbol:"SWTC",name:"SWTC"},316:{index:"316",hex:"0x8000013c",symbol:"VNSC",name:"vnscoin"},317:{index:"317",hex:"0x8000013d",symbol:"PLUG",name:"Pl^g"},318:{index:"318",hex:"0x8000013e",symbol:"MAN",name:"Matrix AI Network"},319:{index:"319",hex:"0x8000013f",symbol:"ECC",name:"ECCoin"},320:{index:"320",hex:"0x80000140",symbol:"RPD",name:"Rapids"},321:{index:"321",hex:"0x80000141",symbol:"RAP",name:"Rapture"},322:{index:"322",hex:"0x80000142",symbol:"GARD",name:"Hashgard"},323:{index:"323",hex:"0x80000143",symbol:"ZER",name:"Zero"},324:{index:"324",hex:"0x80000144",symbol:"EBST",name:"eBoost"},325:{index:"325",hex:"0x80000145",symbol:"SHARD",name:"Shard"},326:{index:"326",hex:"0x80000146",symbol:"MRX",name:"Metrix Coin"},327:{index:"327",hex:"0x80000147",symbol:"CMM",name:"Commercium"},328:{index:"328",hex:"0x80000148",symbol:"BLOCK",name:"Blocknet"},329:{index:"329",hex:"0x80000149",symbol:"AUDAX",name:"AUDAX"},330:{index:"330",hex:"0x8000014a",symbol:"LUNA",name:"Terra"},331:{index:"331",hex:"0x8000014b",symbol:"ZPM",name:"zPrime"},332:{index:"332",hex:"0x8000014c",symbol:"KUVA",name:"Kuva Utility Note"},333:{index:"333",hex:"0x8000014d",symbol:"MEM",name:"MemCoin"},334:{index:"334",hex:"0x8000014e",symbol:"CS",name:"Credits"},335:{index:"335",hex:"0x8000014f",symbol:"SWIFT",name:"SwiftCash"},336:{index:"336",hex:"0x80000150",symbol:"FIX",name:"FIX"},337:{index:"337",hex:"0x80000151",symbol:"CPC",name:"CPChain"},338:{index:"338",hex:"0x80000152",symbol:"VGO",name:"VirtualGoodsToken"},339:{index:"339",hex:"0x80000153",symbol:"DVT",name:"DeVault"},340:{index:"340",hex:"0x80000154",symbol:"N8V",name:"N8VCoin"},341:{index:"341",hex:"0x80000155",symbol:"MTNS",name:"OmotenashiCoin"},342:{index:"342",hex:"0x80000156",symbol:"BLAST",name:"BLAST"},343:{index:"343",hex:"0x80000157",symbol:"DCT",name:"DECENT"},344:{index:"344",hex:"0x80000158",symbol:"AUX",name:"Auxilium"},345:{index:"345",hex:"0x80000159",symbol:"USDP",name:"USDP"},346:{index:"346",hex:"0x8000015a",symbol:"HTDF",name:"HTDF"},347:{index:"347",hex:"0x8000015b",symbol:"YEC",name:"Ycash"},348:{index:"348",hex:"0x8000015c",symbol:"QLC",name:"QLC Chain"},349:{index:"349",hex:"0x8000015d",symbol:"TEA",name:"Icetea Blockchain"},350:{index:"350",hex:"0x8000015e",symbol:"ARW",name:"ArrowChain"},351:{index:"351",hex:"0x8000015f",symbol:"MDM",name:"Medium"},352:{index:"352",hex:"0x80000160",symbol:"CYB",name:"Cybex"},353:{index:"353",hex:"0x80000161",symbol:"LTO",name:"LTO Network"},354:{index:"354",hex:"0x80000162",symbol:"DOT",name:"Polkadot"},355:{index:"355",hex:"0x80000163",symbol:"AEON",name:"Aeon"},356:{index:"356",hex:"0x80000164",symbol:"RES",name:"Resistance"},357:{index:"357",hex:"0x80000165",symbol:"AYA",name:"Aryacoin"},358:{index:"358",hex:"0x80000166",symbol:"DAPS",name:"Dapscoin"},359:{index:"359",hex:"0x80000167",symbol:"CSC",name:"CasinoCoin"},360:{index:"360",hex:"0x80000168",symbol:"VSYS",name:"V Systems"},361:{index:"361",hex:"0x80000169",symbol:"NOLLAR",name:"Nollar"},362:{index:"362",hex:"0x8000016a",symbol:"XNOS",name:"NOS"},363:{index:"363",hex:"0x8000016b",symbol:"CPU",name:"CPUchain"},364:{index:"364",hex:"0x8000016c",symbol:"LAMB",name:"Lambda Storage Chain"},365:{index:"365",hex:"0x8000016d",symbol:"VCT",name:"ValueCyber"},366:{index:"366",hex:"0x8000016e",symbol:"CZR",name:"Canonchain"},367:{index:"367",hex:"0x8000016f",symbol:"ABBC",name:"ABBC"},368:{index:"368",hex:"0x80000170",symbol:"HET",name:"HET"},369:{index:"369",hex:"0x80000171",symbol:"XAS",name:"Asch"},370:{index:"370",hex:"0x80000172",symbol:"VDL",name:"Vidulum"},371:{index:"371",hex:"0x80000173",symbol:"MED",name:"MediBloc"},372:{index:"372",hex:"0x80000174",symbol:"ZVC",name:"ZVChain"},373:{index:"373",hex:"0x80000175",symbol:"VESTX",name:"Vestx"},374:{index:"374",hex:"0x80000176",symbol:"DBT",name:"DarkBit"},375:{index:"375",hex:"0x80000177",symbol:"SEOS",name:"SuperEOS"},376:{index:"376",hex:"0x80000178",symbol:"MXW",name:"Maxonrow"},377:{index:"377",hex:"0x80000179",symbol:"ZNZ",name:"ZENZO"},378:{index:"378",hex:"0x8000017a",symbol:"XCX",name:"XChain"},379:{index:"379",hex:"0x8000017b",symbol:"SOX",name:"SonicX"},380:{index:"380",hex:"0x8000017c",symbol:"NYZO",name:"Nyzo"},381:{index:"381",hex:"0x8000017d",symbol:"ULC",name:"ULCoin"},382:{index:"382",hex:"0x8000017e",symbol:"RYO",name:"Ryo Currency"},383:{index:"383",hex:"0x8000017f",symbol:"KAL",name:"Kaleidochain"},384:{index:"384",hex:"0x80000180",symbol:"XSN",name:"Stakenet"},385:{index:"385",hex:"0x80000181",symbol:"DOGEC",name:"DogeCash"},386:{index:"386",hex:"0x80000182",symbol:"BMV",name:"Bitcoin Matteo's Vision"},387:{index:"387",hex:"0x80000183",symbol:"QBC",name:"Quebecoin"},388:{index:"388",hex:"0x80000184",symbol:"IMG",name:"ImageCoin"},389:{index:"389",hex:"0x80000185",symbol:"QOS",name:"QOS"},390:{index:"390",hex:"0x80000186",symbol:"PKT",name:"PKT"},391:{index:"391",hex:"0x80000187",symbol:"LHD",name:"LitecoinHD"},392:{index:"392",hex:"0x80000188",symbol:"CENNZ",name:"CENNZnet"},393:{index:"393",hex:"0x80000189",symbol:"HSN",name:"Hyper Speed Network"},394:{index:"394",hex:"0x8000018a",symbol:"CRO",name:"Crypto Chain"},395:{index:"395",hex:"0x8000018b",symbol:"UMBRU",name:"Umbru"},396:{index:"396",hex:"0x8000018c",symbol:"EVER",name:"Everscale"},397:{index:"397",hex:"0x8000018d",symbol:"NEAR",name:"NEAR Protocol"},398:{index:"398",hex:"0x8000018e",symbol:"XPC",name:"XPChain"},399:{index:"399",hex:"0x8000018f",symbol:"ZOC",name:"01coin"},400:{index:"400",hex:"0x80000190",symbol:"NIX",name:"NIX"},401:{index:"401",hex:"0x80000191",symbol:"UC",name:"Utopiacoin"},402:{index:"402",hex:"0x80000192",symbol:"GALI",name:"Galilel"},403:{index:"403",hex:"0x80000193",symbol:"OLT",name:"Oneledger"},404:{index:"404",hex:"0x80000194",symbol:"XBI",name:"XBI"},405:{index:"405",hex:"0x80000195",symbol:"DONU",name:"DONU"},406:{index:"406",hex:"0x80000196",symbol:"EARTHS",name:"Earths"},407:{index:"407",hex:"0x80000197",symbol:"HDD",name:"HDDCash"},408:{index:"408",hex:"0x80000198",symbol:"SUGAR",name:"Sugarchain"},409:{index:"409",hex:"0x80000199",symbol:"AILE",name:"AileCoin"},410:{index:"410",hex:"0x8000019a",symbol:"TENT",name:"TENT"},411:{index:"411",hex:"0x8000019b",symbol:"TAN",name:"Tangerine Network"},412:{index:"412",hex:"0x8000019c",symbol:"AIN",name:"AIN"},413:{index:"413",hex:"0x8000019d",symbol:"MSR",name:"Masari"},414:{index:"414",hex:"0x8000019e",symbol:"SUMO",name:"Sumokoin"},415:{index:"415",hex:"0x8000019f",symbol:"ETN",name:"Electroneum"},416:{index:"416",hex:"0x800001a0",symbol:"BYTZ",name:"BYTZ"},417:{index:"417",hex:"0x800001a1",symbol:"WOW",name:"Wownero"},418:{index:"418",hex:"0x800001a2",symbol:"XTNC",name:"XtendCash"},419:{index:"419",hex:"0x800001a3",symbol:"LTHN",name:"Lethean"},420:{index:"420",hex:"0x800001a4",symbol:"NODE",name:"NodeHost"},421:{index:"421",hex:"0x800001a5",symbol:"AGM",name:"Argoneum"},422:{index:"422",hex:"0x800001a6",symbol:"CCX",name:"Conceal Network"},423:{index:"423",hex:"0x800001a7",symbol:"TNET",name:"Title Network"},424:{index:"424",hex:"0x800001a8",symbol:"TELOS",name:"TelosCoin"},425:{index:"425",hex:"0x800001a9",symbol:"AION",name:"Aion"},426:{index:"426",hex:"0x800001aa",symbol:"BC",name:"Bitcoin Confidential"},427:{index:"427",hex:"0x800001ab",symbol:"KTV",name:"KmushiCoin"},428:{index:"428",hex:"0x800001ac",symbol:"ZCR",name:"ZCore"},429:{index:"429",hex:"0x800001ad",symbol:"ERG",name:"Ergo"},430:{index:"430",hex:"0x800001ae",symbol:"PESO",name:"Criptopeso"},431:{index:"431",hex:"0x800001af",symbol:"BTC2",name:"Bitcoin 2"},432:{index:"432",hex:"0x800001b0",symbol:"XRPHD",name:"XRPHD"},433:{index:"433",hex:"0x800001b1",symbol:"WE",name:"WE Coin"},434:{index:"434",hex:"0x800001b2",symbol:"KSM",name:"Kusama"},435:{index:"435",hex:"0x800001b3",symbol:"PCN",name:"Peepcoin"},436:{index:"436",hex:"0x800001b4",symbol:"NCH",name:"NetCloth"},437:{index:"437",hex:"0x800001b5",symbol:"ICU",name:"CHIPO"},438:{index:"438",hex:"0x800001b6",symbol:"FNSA",name:"FINSCHIA"},439:{index:"439",hex:"0x800001b7",symbol:"DTP",name:"DeVault Token Protocol"},440:{index:"440",hex:"0x800001b8",symbol:"BTCR",name:"Bitcoin Royale"},441:{index:"441",hex:"0x800001b9",symbol:"AERGO",name:"AERGO"},442:{index:"442",hex:"0x800001ba",symbol:"XTH",name:"Dothereum"},443:{index:"443",hex:"0x800001bb",symbol:"LV",name:"Lava"},444:{index:"444",hex:"0x800001bc",symbol:"PHR",name:"Phore"},445:{index:"445",hex:"0x800001bd",symbol:"VITAE",name:"Vitae"},446:{index:"446",hex:"0x800001be",symbol:"COCOS",name:"Cocos-BCX"},447:{index:"447",hex:"0x800001bf",symbol:"DIN",name:"Dinero"},448:{index:"448",hex:"0x800001c0",symbol:"SPL",name:"Simplicity"},449:{index:"449",hex:"0x800001c1",symbol:"YCE",name:"MYCE"},450:{index:"450",hex:"0x800001c2",symbol:"XLR",name:"Solaris"},451:{index:"451",hex:"0x800001c3",symbol:"KTS",name:"Klimatas"},452:{index:"452",hex:"0x800001c4",symbol:"DGLD",name:"DGLD"},453:{index:"453",hex:"0x800001c5",symbol:"XNS",name:"Insolar"},454:{index:"454",hex:"0x800001c6",symbol:"EM",name:"EMPOW"},455:{index:"455",hex:"0x800001c7",symbol:"SHN",name:"ShineBlocks"},456:{index:"456",hex:"0x800001c8",symbol:"SEELE",name:"Seele"},457:{index:"457",hex:"0x800001c9",symbol:"AE",name:"æternity"},458:{index:"458",hex:"0x800001ca",symbol:"ODX",name:"ObsidianX"},459:{index:"459",hex:"0x800001cb",symbol:"KAVA",name:"Kava"},460:{index:"460",hex:"0x800001cc",symbol:"GLEEC",name:"GLEEC"},461:{index:"461",hex:"0x800001cd",symbol:"FIL",name:"Filecoin"},462:{index:"462",hex:"0x800001ce",symbol:"RUTA",name:"Rutanio"},463:{index:"463",hex:"0x800001cf",symbol:"CSDT",name:"CSDT"},464:{index:"464",hex:"0x800001d0",symbol:"ETI",name:"EtherInc"},465:{index:"465",hex:"0x800001d1",symbol:"ZSLP",name:"Zclassic Simple Ledger Protocol"},466:{index:"466",hex:"0x800001d2",symbol:"ERE",name:"EtherCore"},467:{index:"467",hex:"0x800001d3",symbol:"DX",name:"DxChain Token"},468:{index:"468",hex:"0x800001d4",symbol:"CPS",name:"Capricoin+"},469:{index:"469",hex:"0x800001d5",symbol:"BTH",name:"Bithereum"},470:{index:"470",hex:"0x800001d6",symbol:"MESG",name:"MESG"},471:{index:"471",hex:"0x800001d7",symbol:"FIMK",name:"FIMK"},472:{index:"472",hex:"0x800001d8",symbol:"AR",name:"Arweave"},473:{index:"473",hex:"0x800001d9",symbol:"OGO",name:"Origo"},474:{index:"474",hex:"0x800001da",symbol:"ROSE",name:"Oasis Network"},475:{index:"475",hex:"0x800001db",symbol:"BARE",name:"BARE Network"},476:{index:"476",hex:"0x800001dc",symbol:"GLEEC",name:"GleecBTC"},477:{index:"477",hex:"0x800001dd",symbol:"CLR",name:"Color Coin"},478:{index:"478",hex:"0x800001de",symbol:"RNG",name:"Ring"},479:{index:"479",hex:"0x800001df",symbol:"OLO",name:"Tool Global"},480:{index:"480",hex:"0x800001e0",symbol:"PEXA",name:"Pexa"},481:{index:"481",hex:"0x800001e1",symbol:"MOON",name:"Mooncoin"},482:{index:"482",hex:"0x800001e2",symbol:"OCEAN",name:"Ocean Protocol"},483:{index:"483",hex:"0x800001e3",symbol:"BNT",name:"Bluzelle Native"},484:{index:"484",hex:"0x800001e4",symbol:"AMO",name:"AMO Blockchain"},485:{index:"485",hex:"0x800001e5",symbol:"FCH",name:"FreeCash"},486:{index:"486",hex:"0x800001e6",symbol:"LAT",name:"PlatON"},487:{index:"487",hex:"0x800001e7",symbol:"COIN",name:"Bitcoin Bank"},488:{index:"488",hex:"0x800001e8",symbol:"VEO",name:"Amoveo"},489:{index:"489",hex:"0x800001e9",symbol:"CCA",name:"Counos Coin"},490:{index:"490",hex:"0x800001ea",symbol:"GFN",name:"Graphene"},491:{index:"491",hex:"0x800001eb",symbol:"BIP",name:"Minter Network"},492:{index:"492",hex:"0x800001ec",symbol:"KPG",name:"Kunpeng Network"},493:{index:"493",hex:"0x800001ed",symbol:"FIN",name:"FINL Chain"},494:{index:"494",hex:"0x800001ee",symbol:"BAND",name:"Band"},495:{index:"495",hex:"0x800001ef",symbol:"DROP",name:"Dropil"},496:{index:"496",hex:"0x800001f0",symbol:"BHT",name:"Bluehelix Chain"},497:{index:"497",hex:"0x800001f1",symbol:"LYRA",name:"Scrypta"},498:{index:"498",hex:"0x800001f2",symbol:"CS",name:"Credits"},499:{index:"499",hex:"0x800001f3",symbol:"RUPX",name:"Rupaya"},500:{index:"500",hex:"0x800001f4",symbol:"THETA",name:"Theta"},501:{index:"501",hex:"0x800001f5",symbol:"SOL",name:"Solana"},502:{index:"502",hex:"0x800001f6",symbol:"THT",name:"ThoughtAI"},503:{index:"503",hex:"0x800001f7",symbol:"CFX",name:"Conflux"},504:{index:"504",hex:"0x800001f8",symbol:"KUMA",name:"Kumacoin"},505:{index:"505",hex:"0x800001f9",symbol:"HASH",name:"Provenance"},506:{index:"506",hex:"0x800001fa",symbol:"CSPR",name:"Casper"},507:{index:"507",hex:"0x800001fb",symbol:"EARTH",name:"EARTH"},508:{index:"508",hex:"0x800001fc",symbol:"EGLD",name:"MultiversX"},509:{index:"509",hex:"0x800001fd",symbol:"CHI",name:"Xaya"},510:{index:"510",hex:"0x800001fe",symbol:"KOTO",name:"Koto"},511:{index:"511",hex:"0x800001ff",symbol:"OTC",name:"θ"},512:{index:"512",hex:"0x80000200",symbol:"RXD",name:"Radiant"},513:{index:"513",hex:"0x80000201",symbol:"SEELEN",name:"Seele-N"},514:{index:"514",hex:"0x80000202",symbol:"AETH",name:"AETH"},515:{index:"515",hex:"0x80000203",symbol:"DNA",name:"Idena"},516:{index:"516",hex:"0x80000204",symbol:"VEE",name:"Virtual Economy Era"},517:{index:"517",hex:"0x80000205",symbol:"SIERRA",name:"SierraCoin"},518:{index:"518",hex:"0x80000206",symbol:"LET",name:"Linkeye"},519:{index:"519",hex:"0x80000207",symbol:"BSC",name:"Bitcoin Smart Contract"},520:{index:"520",hex:"0x80000208",symbol:"BTCV",name:"BitcoinVIP"},521:{index:"521",hex:"0x80000209",symbol:"ABA",name:"Dabacus"},522:{index:"522",hex:"0x8000020a",symbol:"SCC",name:"StakeCubeCoin"},523:{index:"523",hex:"0x8000020b",symbol:"EDG",name:"Edgeware"},524:{index:"524",hex:"0x8000020c",symbol:"AMS",name:"AmsterdamCoin"},525:{index:"525",hex:"0x8000020d",symbol:"GOSS",name:"GOSSIP Coin"},526:{index:"526",hex:"0x8000020e",symbol:"BU",name:"BUMO"},527:{index:"527",hex:"0x8000020f",symbol:"GRAM",name:"GRAM"},528:{index:"528",hex:"0x80000210",symbol:"YAP",name:"Yapstone"},529:{index:"529",hex:"0x80000211",symbol:"SCRT",name:"Secret Network"},530:{index:"530",hex:"0x80000212",symbol:"NOVO",name:"Novo"},531:{index:"531",hex:"0x80000213",symbol:"GHOST",name:"Ghost"},532:{index:"532",hex:"0x80000214",symbol:"HST",name:"HST"},533:{index:"533",hex:"0x80000215",symbol:"PRJ",name:"ProjectCoin"},534:{index:"534",hex:"0x80000216",symbol:"YOU",name:"YOUChain"},535:{index:"535",hex:"0x80000217",symbol:"XHV",name:"Haven Protocol"},536:{index:"536",hex:"0x80000218",symbol:"BYND",name:"Beyondcoin"},537:{index:"537",hex:"0x80000219",symbol:"JOYS",name:"Joys Digital"},538:{index:"538",hex:"0x8000021a",symbol:"VAL",name:"Valorbit"},539:{index:"539",hex:"0x8000021b",symbol:"FLOW",name:"Flow"},540:{index:"540",hex:"0x8000021c",symbol:"SMESH",name:"Spacemesh Coin"},541:{index:"541",hex:"0x8000021d",symbol:"SCDO",name:"SCDO"},542:{index:"542",hex:"0x8000021e",symbol:"IQS",name:"IQ-Cash"},543:{index:"543",hex:"0x8000021f",symbol:"BIND",name:"Compendia"},544:{index:"544",hex:"0x80000220",symbol:"COINEVO",name:"Coinevo"},545:{index:"545",hex:"0x80000221",symbol:"SCRIBE",name:"Scribe"},546:{index:"546",hex:"0x80000222",symbol:"HYN",name:"Hyperion"},547:{index:"547",hex:"0x80000223",symbol:"BHP",name:"BHP"},548:{index:"548",hex:"0x80000224",symbol:"BBC",name:"BigBang Core"},549:{index:"549",hex:"0x80000225",symbol:"MKF",name:"MarketFinance"},550:{index:"550",hex:"0x80000226",symbol:"XDC",name:"XinFin"},551:{index:"551",hex:"0x80000227",symbol:"STR",name:"Straightedge"},552:{index:"552",hex:"0x80000228",symbol:"SUM",name:"Sumcoin"},553:{index:"553",hex:"0x80000229",symbol:"HBC",name:"HuobiChain"},555:{index:"555",hex:"0x8000022b",symbol:"BCS",name:"Bitcoin Smart"},556:{index:"556",hex:"0x8000022c",symbol:"KTS",name:"Kratos"},557:{index:"557",hex:"0x8000022d",symbol:"LKR",name:"Lkrcoin"},558:{index:"558",hex:"0x8000022e",symbol:"TAO",name:"Tao"},559:{index:"559",hex:"0x8000022f",symbol:"XWC",name:"Whitecoin"},560:{index:"560",hex:"0x80000230",symbol:"DEAL",name:"DEAL"},561:{index:"561",hex:"0x80000231",symbol:"NTY",name:"Nexty"},562:{index:"562",hex:"0x80000232",symbol:"TOP",name:"TOP NetWork"},564:{index:"564",hex:"0x80000234",symbol:"AG",name:"Agoric"},565:{index:"565",hex:"0x80000235",symbol:"CICO",name:"Coinicles"},566:{index:"566",hex:"0x80000236",symbol:"IRIS",name:"Irisnet"},567:{index:"567",hex:"0x80000237",symbol:"NCG",name:"Nine Chronicles"},568:{index:"568",hex:"0x80000238",symbol:"LRG",name:"Large Coin"},569:{index:"569",hex:"0x80000239",symbol:"SERO",name:"Super Zero Protocol"},570:{index:"570",hex:"0x8000023a",symbol:"BDX",name:"Beldex"},571:{index:"571",hex:"0x8000023b",symbol:"CCXX",name:"Counos X"},572:{index:"572",hex:"0x8000023c",symbol:"SLS",name:"Saluscoin"},573:{index:"573",hex:"0x8000023d",symbol:"SRM",name:"Serum"},575:{index:"575",hex:"0x8000023f",symbol:"VIVT",name:"VIDT Datalink"},576:{index:"576",hex:"0x80000240",symbol:"BPS",name:"BitcoinPoS"},577:{index:"577",hex:"0x80000241",symbol:"NKN",name:"NKN"},578:{index:"578",hex:"0x80000242",symbol:"ICL",name:"ILCOIN"},579:{index:"579",hex:"0x80000243",symbol:"BONO",name:"Bonorum"},580:{index:"580",hex:"0x80000244",symbol:"PLC",name:"PLATINCOIN"},581:{index:"581",hex:"0x80000245",symbol:"DUN",name:"Dune"},582:{index:"582",hex:"0x80000246",symbol:"DMCH",name:"Darmacash"},583:{index:"583",hex:"0x80000247",symbol:"CTC",name:"Creditcoin"},584:{index:"584",hex:"0x80000248",symbol:"KELP",name:"Haidai Network"},585:{index:"585",hex:"0x80000249",symbol:"GBCR",name:"GoldBCR"},586:{index:"586",hex:"0x8000024a",symbol:"XDAG",name:"XDAG"},587:{index:"587",hex:"0x8000024b",symbol:"PRV",name:"Incognito Privacy"},588:{index:"588",hex:"0x8000024c",symbol:"SCAP",name:"SafeCapital"},589:{index:"589",hex:"0x8000024d",symbol:"TFUEL",name:"Theta Fuel"},590:{index:"590",hex:"0x8000024e",symbol:"GTM",name:"Gentarium"},591:{index:"591",hex:"0x8000024f",symbol:"RNL",name:"RentalChain"},592:{index:"592",hex:"0x80000250",symbol:"GRIN",name:"Grin"},593:{index:"593",hex:"0x80000251",symbol:"MWC",name:"MimbleWimbleCoin"},594:{index:"594",hex:"0x80000252",symbol:"DOCK",name:"Dock"},595:{index:"595",hex:"0x80000253",symbol:"POLYX",name:"Polymesh"},596:{index:"596",hex:"0x80000254",symbol:"DIVER",name:"Divergenti"},597:{index:"597",hex:"0x80000255",symbol:"XEP",name:"Electra Protocol"},598:{index:"598",hex:"0x80000256",symbol:"APN",name:"Apron"},599:{index:"599",hex:"0x80000257",symbol:"TFC",name:"Turbo File Coin"},600:{index:"600",hex:"0x80000258",symbol:"UTE",name:"Unit-e"},601:{index:"601",hex:"0x80000259",symbol:"MTC",name:"Metacoin"},602:{index:"602",hex:"0x8000025a",symbol:"NC",name:"NobodyCash"},603:{index:"603",hex:"0x8000025b",symbol:"XINY",name:"Xinyuehu"},604:{index:"604",hex:"0x8000025c",symbol:"DYN",name:"Dynamo"},605:{index:"605",hex:"0x8000025d",symbol:"BUFS",name:"Buffer"},606:{index:"606",hex:"0x8000025e",symbol:"STOS",name:"Stratos"},607:{index:"607",hex:"0x8000025f",symbol:"TON",name:"TON"},608:{index:"608",hex:"0x80000260",symbol:"TAFT",name:"TAFT"},609:{index:"609",hex:"0x80000261",symbol:"HYDRA",name:"HYDRA"},610:{index:"610",hex:"0x80000262",symbol:"NOR",name:"Noir"},611:{index:"611",hex:"0x80000263",symbol:"",name:"Manta Network Private Asset"},612:{index:"612",hex:"0x80000264",symbol:"",name:"Calamari Network Private Asset"},613:{index:"613",hex:"0x80000265",symbol:"WCN",name:"Widecoin"},614:{index:"614",hex:"0x80000266",symbol:"OPT",name:"Optimistic Ethereum"},615:{index:"615",hex:"0x80000267",symbol:"PSWAP",name:"PolkaSwap"},616:{index:"616",hex:"0x80000268",symbol:"VAL",name:"Validator"},617:{index:"617",hex:"0x80000269",symbol:"XOR",name:"Sora"},618:{index:"618",hex:"0x8000026a",symbol:"SSP",name:"SmartShare"},619:{index:"619",hex:"0x8000026b",symbol:"DEI",name:"DeimosX"},621:{index:"621",hex:"0x8000026d",symbol:"ZERO",name:"Singularity"},622:{index:"622",hex:"0x8000026e",symbol:"ALPHA",name:"AlphaDAO"},623:{index:"623",hex:"0x8000026f",symbol:"BDECO",name:"BDCashProtocol Ecosystem"},624:{index:"624",hex:"0x80000270",symbol:"NOBL",name:"Nobility"},625:{index:"625",hex:"0x80000271",symbol:"EAST",name:"Eastcoin"},626:{index:"626",hex:"0x80000272",symbol:"KDA",name:"Kadena"},627:{index:"627",hex:"0x80000273",symbol:"SOUL",name:"Phantasma"},628:{index:"628",hex:"0x80000274",symbol:"LORE",name:"Gitopia"},629:{index:"629",hex:"0x80000275",symbol:"FNR",name:"Fincor"},630:{index:"630",hex:"0x80000276",symbol:"NEXUS",name:"Nexus"},631:{index:"631",hex:"0x80000277",symbol:"QTZ",name:"Quartz"},632:{index:"632",hex:"0x80000278",symbol:"MAS",name:"Massa"},633:{index:"633",hex:"0x80000279",symbol:"CALL",name:"Callchain"},634:{index:"634",hex:"0x8000027a",symbol:"VAL",name:"Validity"},635:{index:"635",hex:"0x8000027b",symbol:"POKT",name:"Pocket Network"},636:{index:"636",hex:"0x8000027c",symbol:"EMIT",name:"EMIT"},637:{index:"637",hex:"0x8000027d",symbol:"APTOS",name:"Aptos"},638:{index:"638",hex:"0x8000027e",symbol:"ADON",name:"ADON"},639:{index:"639",hex:"0x8000027f",symbol:"BTSG",name:"BitSong"},640:{index:"640",hex:"0x80000280",symbol:"LFC",name:"Leofcoin"},641:{index:"641",hex:"0x80000281",symbol:"KCS",name:"KuCoin Shares"},642:{index:"642",hex:"0x80000282",symbol:"KCC",name:"KuCoin Community Chain"},643:{index:"643",hex:"0x80000283",symbol:"AZERO",name:"Aleph Zero"},644:{index:"644",hex:"0x80000284",symbol:"TREE",name:"Tree"},645:{index:"645",hex:"0x80000285",symbol:"LX",name:"Lynx"},646:{index:"646",hex:"0x80000286",symbol:"XLN",name:"Lunarium"},647:{index:"647",hex:"0x80000287",symbol:"CIC",name:"CIC Chain"},648:{index:"648",hex:"0x80000288",symbol:"ZRB",name:"Zarb"},650:{index:"650",hex:"0x8000028a",symbol:"UCO",name:"Archethic"},651:{index:"651",hex:"0x8000028b",symbol:"SFX",name:"Safex Cash"},652:{index:"652",hex:"0x8000028c",symbol:"SFT",name:"Safex Token"},653:{index:"653",hex:"0x8000028d",symbol:"WSFX",name:"Wrapped Safex Cash"},654:{index:"654",hex:"0x8000028e",symbol:"USDG",name:"US Digital Gold"},655:{index:"655",hex:"0x8000028f",symbol:"WMP",name:"WAMP"},656:{index:"656",hex:"0x80000290",symbol:"EKTA",name:"Ekta"},657:{index:"657",hex:"0x80000291",symbol:"YDA",name:"YadaCoin"},658:{index:"658",hex:"0x80000292",symbol:"WHIVE",name:"Whive"},659:{index:"659",hex:"0x80000293",symbol:"KOIN",name:"Koinos"},660:{index:"660",hex:"0x80000294",symbol:"PIRATE",name:"PirateCash"},661:{index:"661",hex:"0x80000295",symbol:"UNQ",name:"Unique"},662:{index:"662",hex:"0x80000296",symbol:"ULM",name:"UltonSmartchain"},663:{index:"663",hex:"0x80000297",symbol:"SFRX",name:"EtherGem Sapphire"},664:{index:"664",hex:"0x80000298",symbol:"BSTY",name:"GlobalBoost-Y"},665:{index:"665",hex:"0x80000299",symbol:"IMP",name:"Impact Protocol"},666:{index:"666",hex:"0x8000029a",symbol:"ACT",name:"Achain"},667:{index:"667",hex:"0x8000029b",symbol:"PRKL",name:"Perkle"},668:{index:"668",hex:"0x8000029c",symbol:"SSC",name:"SelfSell"},669:{index:"669",hex:"0x8000029d",symbol:"GC",name:"GateChain"},670:{index:"670",hex:"0x8000029e",symbol:"PLGR",name:"Pledger"},671:{index:"671",hex:"0x8000029f",symbol:"MPLGR",name:"Pledger"},672:{index:"672",hex:"0x800002a0",symbol:"KNOX",name:"Knox"},673:{index:"673",hex:"0x800002a1",symbol:"ZED",name:"ZED"},674:{index:"674",hex:"0x800002a2",symbol:"CNDL",name:"Candle"},675:{index:"675",hex:"0x800002a3",symbol:"WLKR",name:"Walker Crypto Innovation Index"},676:{index:"676",hex:"0x800002a4",symbol:"WLKRR",name:"Walker"},677:{index:"677",hex:"0x800002a5",symbol:"YUNGE",name:"Yunge"},678:{index:"678",hex:"0x800002a6",symbol:"Voken",name:"Voken"},679:{index:"679",hex:"0x800002a7",symbol:"APL",name:"Apollo"},680:{index:"680",hex:"0x800002a8",symbol:"Evrynet",name:"Evrynet"},681:{index:"681",hex:"0x800002a9",symbol:"NENG",name:"Nengcoin"},682:{index:"682",hex:"0x800002aa",symbol:"CHTA",name:"Cheetahcoin"},683:{index:"683",hex:"0x800002ab",symbol:"ALEO",name:"Aleo Network"},684:{index:"684",hex:"0x800002ac",symbol:"HMS",name:"Hemis"},685:{index:"685",hex:"0x800002ad",symbol:"OAS",name:"Oasys"},686:{index:"686",hex:"0x800002ae",symbol:"KAR",name:"Karura Network"},687:{index:"687",hex:"0x800002af",symbol:"FLON",name:"FullOn Network"},688:{index:"688",hex:"0x800002b0",symbol:"CET",name:"CoinEx Chain"},689:{index:"689",hex:"0x800002b1",symbol:"XLINK",name:"XLink Chain"},690:{index:"690",hex:"0x800002b2",symbol:"KLV",name:"KleverChain"},694:{index:"694",hex:"0x800002b6",symbol:"VTBC",name:"VTB Community"},696:{index:"696",hex:"0x800002b8",symbol:"LUM",name:"Lumos"},698:{index:"698",hex:"0x800002ba",symbol:"VEIL",name:"Veil"},699:{index:"699",hex:"0x800002bb",symbol:"GTB",name:"GotaBit"},700:{index:"700",hex:"0x800002bc",symbol:"XDAI",name:"xDai"},701:{index:"701",hex:"0x800002bd",symbol:"COM",name:"Commercio"},702:{index:"702",hex:"0x800002be",symbol:"CCC",name:"Commercio Cash Credit"},703:{index:"703",hex:"0x800002bf",symbol:"SNR",name:"Sonr"},704:{index:"704",hex:"0x800002c0",symbol:"RAQ",name:"Ra Quantum"},705:{index:"705",hex:"0x800002c1",symbol:"PEG",name:"Pegasus Token"},706:{index:"706",hex:"0x800002c2",symbol:"LKG",name:"Lionking"},707:{index:"707",hex:"0x800002c3",symbol:"MCOIN",name:"Moneta Coin"},709:{index:"709",hex:"0x800002c5",symbol:"AVAIL",name:"Avail"},710:{index:"710",hex:"0x800002c6",symbol:"FURY",name:"Highbury"},711:{index:"711",hex:"0x800002c7",symbol:"CHC",name:"Chaincoin"},712:{index:"712",hex:"0x800002c8",symbol:"SERF",name:"Serfnet"},713:{index:"713",hex:"0x800002c9",symbol:"XTL",name:"Katal Chain"},714:{index:"714",hex:"0x800002ca",symbol:"BNB",name:"Binance"},715:{index:"715",hex:"0x800002cb",symbol:"SIN",name:"Sinovate"},716:{index:"716",hex:"0x800002cc",symbol:"DLN",name:"Delion"},717:{index:"717",hex:"0x800002cd",symbol:"BONTE",name:"Bontecoin"},718:{index:"718",hex:"0x800002ce",symbol:"PEER",name:"Peer"},719:{index:"719",hex:"0x800002cf",symbol:"ZET",name:"Zetacoin"},720:{index:"720",hex:"0x800002d0",symbol:"ABY",name:"Artbyte"},721:{index:"721",hex:"0x800002d1",symbol:"PGX",name:"Mirai Chain"},722:{index:"722",hex:"0x800002d2",symbol:"IL8P",name:"InfiniLooP"},723:{index:"723",hex:"0x800002d3",symbol:"VOI",name:"Voi"},724:{index:"724",hex:"0x800002d4",symbol:"XVC",name:"Vanillacash"},725:{index:"725",hex:"0x800002d5",symbol:"MCX",name:"MultiCash"},727:{index:"727",hex:"0x800002d7",symbol:"BLU",name:"BluCrates"},728:{index:"728",hex:"0x800002d8",symbol:"BFC",name:"BFC"},730:{index:"730",hex:"0x800002da",symbol:"HEALIOS",name:"Tenacity"},731:{index:"731",hex:"0x800002db",symbol:"BMK",name:"Bitmark"},734:{index:"734",hex:"0x800002de",symbol:"DENTX",name:"DENTNet"},737:{index:"737",hex:"0x800002e1",symbol:"ATOP",name:"Financial Blockchain"},738:{index:"738",hex:"0x800002e2",symbol:"BTE",name:"Bitweb"},739:{index:"739",hex:"0x800002e3",symbol:"DPC",name:"Dpowcoin (DualPowCoin)"},747:{index:"747",hex:"0x800002eb",symbol:"CFG",name:"Centrifuge"},750:{index:"750",hex:"0x800002ee",symbol:"XPRT",name:"Persistence"},753:{index:"753",hex:"0x800002f1",symbol:"",name:"Age X25519 Encryption"},754:{index:"754",hex:"0x800002f2",symbol:"",name:"Age NIST Encryption"},757:{index:"757",hex:"0x800002f5",symbol:"HONEY",name:"HoneyWood"},765:{index:"765",hex:"0x800002fd",symbol:"TGN",name:"Tagion"},768:{index:"768",hex:"0x80000300",symbol:"BALLZ",name:"Ballzcoin"},770:{index:"770",hex:"0x80000302",symbol:"COSA",name:"Cosanta"},771:{index:"771",hex:"0x80000303",symbol:"BR",name:"BR"},773:{index:"773",hex:"0x80000305",symbol:"CSB",name:"CosmoBliss"},775:{index:"775",hex:"0x80000307",symbol:"PLSR",name:"Pulsar Coin"},776:{index:"776",hex:"0x80000308",symbol:"KEY",name:"Keymaker Coin"},777:{index:"777",hex:"0x80000309",symbol:"BTW",name:"Bitcoin World"},780:{index:"780",hex:"0x8000030c",symbol:"PLCUC",name:"PLC Ultima Classic"},781:{index:"781",hex:"0x8000030d",symbol:"PLCUX",name:"PLC Ultima X"},782:{index:"782",hex:"0x8000030e",symbol:"PLCU",name:"PLC Ultima"},783:{index:"783",hex:"0x8000030f",symbol:"SMARTBC",name:"SMART Blockchain"},784:{index:"784",hex:"0x80000310",symbol:"SUI",name:"Sui"},786:{index:"786",hex:"0x80000312",symbol:"UIDD",name:"UIDD"},787:{index:"787",hex:"0x80000313",symbol:"ACA",name:"Acala"},788:{index:"788",hex:"0x80000314",symbol:"BNC",name:"Bifrost"},789:{index:"789",hex:"0x80000315",symbol:"TAU",name:"Lamden"},794:{index:"794",hex:"0x8000031a",symbol:"INTR",name:"Interlay"},795:{index:"795",hex:"0x8000031b",symbol:"KINT",name:"Kintsugi"},799:{index:"799",hex:"0x8000031f",symbol:"PDEX",name:"Polkadex"},800:{index:"800",hex:"0x80000320",symbol:"BEET",name:"Beetle Coin"},801:{index:"801",hex:"0x80000321",symbol:"DST",name:"DSTRA"},802:{index:"802",hex:"0x80000322",symbol:"CY",name:"Cyberyen"},803:{index:"803",hex:"0x80000323",symbol:"RYME",name:"Ryme Network"},804:{index:"804",hex:"0x80000324",symbol:"ZKS",name:"zkSync"},805:{index:"805",hex:"0x80000325",symbol:"SCASH",name:"Scash"},808:{index:"808",hex:"0x80000328",symbol:"QVT",name:"Qvolta"},809:{index:"809",hex:"0x80000329",symbol:"SDN",name:"Shiden Network"},810:{index:"810",hex:"0x8000032a",symbol:"ASTR",name:"Astar Network"},813:{index:"813",hex:"0x8000032d",symbol:"MEER",name:"Qitmeer"},815:{index:"815",hex:"0x8000032f",symbol:"FACT",name:"ImFACT"},816:{index:"816",hex:"0x80000330",symbol:"FSC",name:"FSC"},818:{index:"818",hex:"0x80000332",symbol:"VET",name:"VeChain Token"},819:{index:"819",hex:"0x80000333",symbol:"REEF",name:"Reef"},820:{index:"820",hex:"0x80000334",symbol:"CLO",name:"Callisto"},822:{index:"822",hex:"0x80000336",symbol:"BDB",name:"BigchainDB"},824:{index:"824",hex:"0x80000338",symbol:"RBNT",name:"Redbelly Network"},827:{index:"827",hex:"0x8000033b",symbol:"ACE",name:"Endurance"},828:{index:"828",hex:"0x8000033c",symbol:"CCN",name:"ComputeCoin"},829:{index:"829",hex:"0x8000033d",symbol:"BBA",name:"BBACHAIN"},831:{index:"831",hex:"0x8000033f",symbol:"CRUZ",name:"cruzbit"},832:{index:"832",hex:"0x80000340",symbol:"SAPP",name:"Sapphire"},833:{index:"833",hex:"0x80000341",symbol:"777",name:"Jackpot"},834:{index:"834",hex:"0x80000342",symbol:"KYAN",name:"Kyanite"},835:{index:"835",hex:"0x80000343",symbol:"AZR",name:"Azzure"},836:{index:"836",hex:"0x80000344",symbol:"CFL",name:"CryptoFlow"},837:{index:"837",hex:"0x80000345",symbol:"DASHD",name:"Dash Diamond"},838:{index:"838",hex:"0x80000346",symbol:"TRTT",name:"Trittium"},839:{index:"839",hex:"0x80000347",symbol:"UCR",name:"Ultra Clear"},840:{index:"840",hex:"0x80000348",symbol:"PNY",name:"Peony"},841:{index:"841",hex:"0x80000349",symbol:"BECN",name:"Beacon"},842:{index:"842",hex:"0x8000034a",symbol:"MONK",name:"Monk"},843:{index:"843",hex:"0x8000034b",symbol:"SAGA",name:"CryptoSaga"},844:{index:"844",hex:"0x8000034c",symbol:"SUV",name:"Suvereno"},845:{index:"845",hex:"0x8000034d",symbol:"ESK",name:"EskaCoin"},846:{index:"846",hex:"0x8000034e",symbol:"OWO",name:"OneWorld Coin"},847:{index:"847",hex:"0x8000034f",symbol:"PEPS",name:"PEPS Coin"},848:{index:"848",hex:"0x80000350",symbol:"BIR",name:"Birake"},849:{index:"849",hex:"0x80000351",symbol:"MOBIC",name:"MobilityCoin"},850:{index:"850",hex:"0x80000352",symbol:"FLS",name:"Flits"},851:{index:"851",hex:"0x80000353",symbol:"FRECO",name:"Freco"},852:{index:"852",hex:"0x80000354",symbol:"DSM",name:"Desmos"},853:{index:"853",hex:"0x80000355",symbol:"PRCY",name:"PRCY Coin"},858:{index:"858",hex:"0x8000035a",symbol:"HVH",name:"HAVAH"},866:{index:"866",hex:"0x80000362",symbol:"MOB",name:"MobileCoin"},868:{index:"868",hex:"0x80000364",symbol:"IF",name:"Infinitefuture"},877:{index:"877",hex:"0x8000036d",symbol:"NAM",name:"Namada"},878:{index:"878",hex:"0x8000036e",symbol:"SCR",name:"Scorum Network"},880:{index:"880",hex:"0x80000370",symbol:"LUM",name:"Lum Network"},883:{index:"883",hex:"0x80000373",symbol:"ZBC",name:"ZooBC"},886:{index:"886",hex:"0x80000376",symbol:"ADF",name:"AD Token"},888:{index:"888",hex:"0x80000378",symbol:"NEO",name:"NEO"},889:{index:"889",hex:"0x80000379",symbol:"TOMO",name:"TOMO"},890:{index:"890",hex:"0x8000037a",symbol:"XSEL",name:"Seln"},896:{index:"896",hex:"0x80000380",symbol:"LKSC",name:"LKSCoin"},898:{index:"898",hex:"0x80000382",symbol:"AS",name:"Assetchain"},899:{index:"899",hex:"0x80000383",symbol:"XEC",name:"eCash"},900:{index:"900",hex:"0x80000384",symbol:"LMO",name:"Lumeneo"},901:{index:"901",hex:"0x80000385",symbol:"NXT",name:"NxtMeta"},904:{index:"904",hex:"0x80000388",symbol:"HNT",name:"Helium"},907:{index:"907",hex:"0x8000038b",symbol:"FIS",name:"StaFi"},909:{index:"909",hex:"0x8000038d",symbol:"SGE",name:"Saage"},911:{index:"911",hex:"0x8000038f",symbol:"GERT",name:"Gert"},913:{index:"913",hex:"0x80000391",symbol:"VARA",name:"Vara Network"},916:{index:"916",hex:"0x80000394",symbol:"META",name:"Metadium"},917:{index:"917",hex:"0x80000395",symbol:"FRA",name:"Findora"},919:{index:"919",hex:"0x80000397",symbol:"CCD",name:"Concordium"},921:{index:"921",hex:"0x80000399",symbol:"AVN",name:"Avian Network"},925:{index:"925",hex:"0x8000039d",symbol:"DIP",name:"Dipper Network"},928:{index:"928",hex:"0x800003a0",symbol:"GHM",name:"HermitMatrixNetwork"},931:{index:"931",hex:"0x800003a3",symbol:"RUNE",name:"THORChain (RUNE)"},938:{index:"938",hex:"0x800003aa",symbol:"MGO",name:"Mango Network"},939:{index:"939",hex:"0x800003ab",symbol:"AB",name:"Argot Protocol"},942:{index:"942",hex:"0x800003ae",symbol:"KCN",name:"Kylacoin"},943:{index:"943",hex:"0x800003af",symbol:"LCN",name:"Lyncoin"},945:{index:"945",hex:"0x800003b1",symbol:"UNLOCK",name:"Jasiri protocol"},955:{index:"955",hex:"0x800003bb",symbol:"LTP",name:"LifetionCoin"},958:{index:"958",hex:"0x800003be",symbol:"",name:"KickSoccer"},960:{index:"960",hex:"0x800003c0",symbol:"VKAX",name:"Vkax"},966:{index:"966",hex:"0x800003c6",symbol:"MATIC",name:"Matic"},968:{index:"968",hex:"0x800003c8",symbol:"UNW",name:"UNW"},969:{index:"969",hex:"0x800003c9",symbol:"QI",name:"Quai Network"},970:{index:"970",hex:"0x800003ca",symbol:"TWINS",name:"TWINS"},977:{index:"977",hex:"0x800003d1",symbol:"TLOS",name:"Telos"},981:{index:"981",hex:"0x800003d5",symbol:"TAFECO",name:"Taf ECO Chain"},985:{index:"985",hex:"0x800003d9",symbol:"AU",name:"Autonomy"},987:{index:"987",hex:"0x800003db",symbol:"VCG",name:"VipCoin"},988:{index:"988",hex:"0x800003dc",symbol:"XAZAB",name:"Xazab core"},989:{index:"989",hex:"0x800003dd",symbol:"AIOZ",name:"AIOZ"},990:{index:"990",hex:"0x800003de",symbol:"CORE",name:"Coreum"},991:{index:"991",hex:"0x800003df",symbol:"PEC",name:"Phoenix"},992:{index:"992",hex:"0x800003e0",symbol:"UNT",name:"Unit"},993:{index:"993",hex:"0x800003e1",symbol:"XRB",name:"X Currency"},994:{index:"994",hex:"0x800003e2",symbol:"QUAI",name:"Quai Network"},995:{index:"995",hex:"0x800003e3",symbol:"CAPS",name:"Ternoa"},996:{index:"996",hex:"0x800003e4",symbol:"OKT",name:"OKChain Token"},997:{index:"997",hex:"0x800003e5",symbol:"SUM",name:"Solidum"},998:{index:"998",hex:"0x800003e6",symbol:"LBTC",name:"Lightning Bitcoin"},999:{index:"999",hex:"0x800003e7",symbol:"BCD",name:"Bitcoin Diamond"},1e3:{index:"1000",hex:"0x800003e8",symbol:"BTN",name:"Bitcoin New"},1001:{index:"1001",hex:"0x800003e9",symbol:"TT",name:"ThunderCore"},1002:{index:"1002",hex:"0x800003ea",symbol:"BKT",name:"BanKitt"},1003:{index:"1003",hex:"0x800003eb",symbol:"NODL",name:"Nodle"},1004:{index:"1004",hex:"0x800003ec",symbol:"PCOIN",name:"PCOIN"},1005:{index:"1005",hex:"0x800003ed",symbol:"TAO",name:"Bittensor"},1006:{index:"1006",hex:"0x800003ee",symbol:"HSK",name:"HashKey Chain"},1007:{index:"1007",hex:"0x800003ef",symbol:"FTM",name:"Fantom"},1008:{index:"1008",hex:"0x800003f0",symbol:"RPG",name:"RPG"},1009:{index:"1009",hex:"0x800003f1",symbol:"LAKE",name:"iconLake"},1010:{index:"1010",hex:"0x800003f2",symbol:"HT",name:"Huobi ECO Chain"},1011:{index:"1011",hex:"0x800003f3",symbol:"ELV",name:"Eluvio"},1012:{index:"1012",hex:"0x800003f4",symbol:"JOC",name:"Japan Open Chain"},1013:{index:"1013",hex:"0x800003f5",symbol:"BIC",name:"Beincrypto"},1014:{index:"1014",hex:"0x800003f6",symbol:"JOY",name:"Joystream"},1015:{index:"1015",hex:"0x800003f7",symbol:"ZCX",name:"ZEN Exchange Token"},1020:{index:"1020",hex:"0x800003fc",symbol:"EVC",name:"Evrice"},1022:{index:"1022",hex:"0x800003fe",symbol:"XRD",name:"Radix DLT"},1023:{index:"1023",hex:"0x800003ff",symbol:"ONE",name:"HARMONY-ONE (Legacy)"},1024:{index:"1024",hex:"0x80000400",symbol:"ONT",name:"Ontology"},1025:{index:"1025",hex:"0x80000401",symbol:"CZZ",name:"Classzz"},1026:{index:"1026",hex:"0x80000402",symbol:"KEX",name:"Kira Exchange Token"},1027:{index:"1027",hex:"0x80000403",symbol:"MCM",name:"Mochimo"},1028:{index:"1028",hex:"0x80000404",symbol:"PLS",name:"Pulse Coin"},1032:{index:"1032",hex:"0x80000408",symbol:"BTCR",name:"BTCR"},1042:{index:"1042",hex:"0x80000412",symbol:"MFID",name:"Moonfish ID"},1111:{index:"1111",hex:"0x80000457",symbol:"BBC",name:"Big Bitcoin"},1116:{index:"1116",hex:"0x8000045c",symbol:"CORE",name:"Core"},1120:{index:"1120",hex:"0x80000460",symbol:"RISE",name:"RISE"},1122:{index:"1122",hex:"0x80000462",symbol:"CMT",name:"CyberMiles Token"},1128:{index:"1128",hex:"0x80000468",symbol:"ETSC",name:"Ethereum Social"},1129:{index:"1129",hex:"0x80000469",symbol:"DFI",name:"DeFiChain"},1130:{index:"1130",hex:"0x8000046a",symbol:"DFI",name:"DeFiChain EVM Network"},1137:{index:"1137",hex:"0x80000471",symbol:"$DAG",name:"Constellation Labs"},1145:{index:"1145",hex:"0x80000479",symbol:"CDY",name:"Bitcoin Candy"},1155:{index:"1155",hex:"0x80000483",symbol:"ENJ",name:"Enjin Coin"},1170:{index:"1170",hex:"0x80000492",symbol:"HOO",name:"Hoo Smart Chain"},1234:{index:"1234",hex:"0x800004d2",symbol:"ALPH",name:"Alephium"},1236:{index:"1236",hex:"0x800004d4",symbol:"",name:"Masca"},1237:{index:"1237",hex:"0x800004d5",symbol:"",name:"Nostr"},1280:{index:"1280",hex:"0x80000500",symbol:"",name:"Kudos Setler"},1284:{index:"1284",hex:"0x80000504",symbol:"GLMR",name:"Moonbeam"},1285:{index:"1285",hex:"0x80000505",symbol:"MOVR",name:"Moonriver"},1286:{index:"1286",hex:"0x80000506",symbol:"DSG",name:"Dessage Social Protocol"},1298:{index:"1298",hex:"0x80000512",symbol:"WPC",name:"Wpc"},1308:{index:"1308",hex:"0x8000051c",symbol:"WEI",name:"WEI"},1312:{index:"1312",hex:"0x80000520",symbol:"BITS",name:"Entropy"},1337:{index:"1337",hex:"0x80000539",symbol:"DFC",name:"Defcoin"},1338:{index:"1338",hex:"0x8000053a",symbol:"IRON",name:"Iron Fish"},1348:{index:"1348",hex:"0x80000544",symbol:"ISLM",name:"IslamicCoin"},1397:{index:"1397",hex:"0x80000575",symbol:"HYC",name:"Hycon"},1410:{index:"1410",hex:"0x80000582",symbol:"TENTSLP",name:"TENT Simple Ledger Protocol"},1510:{index:"1510",hex:"0x800005e6",symbol:"XSC",name:"XT Smart Chain"},1512:{index:"1512",hex:"0x800005e8",symbol:"AAC",name:"Double-A Chain"},1524:{index:"1524",hex:"0x800005f4",symbol:"",name:"Taler"},1533:{index:"1533",hex:"0x800005fd",symbol:"BEAM",name:"Beam"},1536:{index:"1536",hex:"0x80000600",symbol:"GAS",name:"BubiChain"},1540:{index:"1540",hex:"0x80000604",symbol:"ATHENA",name:"Athena"},1551:{index:"1551",hex:"0x8000060f",symbol:"SDK",name:"Sovereign SDK"},1555:{index:"1555",hex:"0x80000613",symbol:"APC",name:"Apc Chain"},1616:{index:"1616",hex:"0x80000650",symbol:"ELF",name:"AELF"},1618:{index:"1618",hex:"0x80000652",symbol:"AUDL",name:"AUDL"},1620:{index:"1620",hex:"0x80000654",symbol:"ATH",name:"Atheios"},1627:{index:"1627",hex:"0x8000065b",symbol:"LUME",name:"Lume Web"},1642:{index:"1642",hex:"0x8000066a",symbol:"NEW",name:"Newton"},1657:{index:"1657",hex:"0x80000679",symbol:"BTA",name:"Btachain"},1668:{index:"1668",hex:"0x80000684",symbol:"NEOX",name:"Neoxa"},1669:{index:"1669",hex:"0x80000685",symbol:"MEWC",name:"Meowcoin"},1688:{index:"1688",hex:"0x80000698",symbol:"BCX",name:"BitcoinX"},1729:{index:"1729",hex:"0x800006c1",symbol:"XTZ",name:"Tezos"},1776:{index:"1776",hex:"0x800006f0",symbol:"LBTC",name:"Liquid BTC"},1777:{index:"1777",hex:"0x800006f1",symbol:"BBP",name:"Biblepay"},1784:{index:"1784",hex:"0x800006f8",symbol:"JPYS",name:"JPY Stablecoin"},1789:{index:"1789",hex:"0x800006fd",symbol:"VEGA",name:"Vega Protocol"},1815:{index:"1815",hex:"0x80000717",symbol:"ADA",name:"Cardano"},1818:{index:"1818",hex:"0x8000071a",symbol:"CUBE",name:"Cube Chain Native Token"},1856:{index:"1856",hex:"0x80000743",symbol:"TES",name:"Teslacoin"},1888:{index:"1888",hex:"0x80000760",symbol:"ZTX",name:"Zetrix"},1899:{index:"1899",hex:"0x8000076b",symbol:"XEC",name:"eCash token"},1900:{index:"1900",hex:"0x8000076c",symbol:"XNA",name:"Neurai"},1901:{index:"1901",hex:"0x8000076d",symbol:"CLC",name:"Classica"},1907:{index:"1907",hex:"0x80000773",symbol:"BITCI",name:"Bitcicoin"},1919:{index:"1919",hex:"0x8000077f",symbol:"VIPS",name:"VIPSTARCOIN"},1926:{index:"1926",hex:"0x80000786",symbol:"CITY",name:"City Coin"},1951:{index:"1951",hex:"0x8000079f",symbol:"ESA",name:"Esa"},1952:{index:"1952",hex:"0x800007a0",symbol:"ESC",name:"EsaCoin"},1955:{index:"1955",hex:"0x800007a3",symbol:"XX",name:"xx coin"},1977:{index:"1977",hex:"0x800007b9",symbol:"XMX",name:"Xuma"},1984:{index:"1984",hex:"0x800007c0",symbol:"TRTL",name:"TurtleCoin"},1985:{index:"1985",hex:"0x800007c1",symbol:"SLRT",name:"Solarti Chain"},1986:{index:"1986",hex:"0x800007c2",symbol:"QTH",name:"Qing Tong Horizon"},1987:{index:"1987",hex:"0x800007c3",symbol:"EGEM",name:"EtherGem"},1988:{index:"1988",hex:"0x800007c4",symbol:"MIRA",name:"Mira Chain"},1989:{index:"1989",hex:"0x800007c5",symbol:"HODL",name:"HOdlcoin"},1990:{index:"1990",hex:"0x800007c6",symbol:"PHL",name:"Placeholders"},1991:{index:"1991",hex:"0x800007c7",symbol:"SC",name:"Sia"},1996:{index:"1996",hex:"0x800007cc",symbol:"MYT",name:"Mineyourtime"},1997:{index:"1997",hex:"0x800007cd",symbol:"POLIS",name:"Polis"},1998:{index:"1998",hex:"0x800007ce",symbol:"XMCC",name:"Monoeci"},1999:{index:"1999",hex:"0x800007cf",symbol:"COLX",name:"ColossusXT"},2e3:{index:"2000",hex:"0x800007d0",symbol:"GIN",name:"GinCoin"},2001:{index:"2001",hex:"0x800007d1",symbol:"MNP",name:"MNPCoin"},2002:{index:"2002",hex:"0x800007d2",symbol:"MLN",name:"Miraland"},2015:{index:"2015",hex:"0x800007df",symbol:"TEER",name:"Integritee"},2017:{index:"2017",hex:"0x800007e1",symbol:"KIN",name:"Kin"},2018:{index:"2018",hex:"0x800007e2",symbol:"EOSC",name:"EOSClassic"},2019:{index:"2019",hex:"0x800007e3",symbol:"GBT",name:"GoldBean Token"},2020:{index:"2020",hex:"0x800007e4",symbol:"PKC",name:"PKC"},2021:{index:"2021",hex:"0x800007e5",symbol:"SKT",name:"Sukhavati"},2022:{index:"2022",hex:"0x800007e6",symbol:"XHT",name:"Xinghuo Token"},2023:{index:"2023",hex:"0x800007e7",symbol:"COC",name:"Chat On Chain"},2024:{index:"2024",hex:"0x800007e8",symbol:"USBC",name:"Universal Ledger USBC"},2025:{index:"2025",hex:"0x800007e9",symbol:"ROCK",name:"Zenrock Labs"},2026:{index:"2026",hex:"0x800007ea",symbol:"ASTRON",name:"ASTRON Token"},2046:{index:"2046",hex:"0x800007fe",symbol:"ANY",name:"Any"},2048:{index:"2048",hex:"0x80000800",symbol:"MCASH",name:"MCashChain"},2049:{index:"2049",hex:"0x80000801",symbol:"TRUE",name:"TrueChain"},2050:{index:"2050",hex:"0x80000802",symbol:"MOVO",name:"Movo Smart Chain"},2086:{index:"2086",hex:"0x80000826",symbol:"KILT",name:"KILT Spiritnet"},2091:{index:"2091",hex:"0x8000082b",symbol:"FRQCY",name:"Frequency"},2109:{index:"2109",hex:"0x8000083d",symbol:"SAMA",name:"Exosama Network"},2112:{index:"2112",hex:"0x80000840",symbol:"IoTE",name:"IoTE"},2125:{index:"2125",hex:"0x8000084d",symbol:"BAY",name:"BitBay"},2137:{index:"2137",hex:"0x80000859",symbol:"XRG",name:"Ergon"},2199:{index:"2199",hex:"0x80000897",symbol:"SAMA",name:"Moonsama Network"},2221:{index:"2221",hex:"0x800008ad",symbol:"ASK",name:"ASK"},2222:{index:"2222",hex:"0x800008ae",symbol:"CWEB",name:"Coinweb"},2285:{index:"2285",hex:"0x800008ed",symbol:"",name:"Qiyi Chain"},2301:{index:"2301",hex:"0x800008fd",symbol:"QTUM",name:"QTUM"},2302:{index:"2302",hex:"0x800008fe",symbol:"ETP",name:"Metaverse"},2303:{index:"2303",hex:"0x800008ff",symbol:"GXC",name:"GXChain"},2304:{index:"2304",hex:"0x80000900",symbol:"CRP",name:"CranePay"},2305:{index:"2305",hex:"0x80000901",symbol:"ELA",name:"Elastos"},2338:{index:"2338",hex:"0x80000922",symbol:"SNOW",name:"Snowblossom"},2365:{index:"2365",hex:"0x8000093d",symbol:"XIN",name:"Mixin"},2500:{index:"2500",hex:"0x800009c4",symbol:"NEXI",name:"Nexi"},2570:{index:"2570",hex:"0x80000a0a",symbol:"AOA",name:"Aurora"},2686:{index:"2686",hex:"0x80000a7e",symbol:"AIPG",name:"AIPowerGrid"},2718:{index:"2718",hex:"0x80000a9e",symbol:"NAS",name:"Nebulas"},2809:{index:"2809",hex:"0x80000af9",symbol:"LAN",name:"Lanify"},2894:{index:"2894",hex:"0x80000b4e",symbol:"REOSC",name:"REOSC Ecosystem"},2941:{index:"2941",hex:"0x80000b7d",symbol:"BND",name:"Blocknode"},3e3:{index:"3000",hex:"0x80000bb8",symbol:"SM",name:"Stealth Message"},3003:{index:"3003",hex:"0x80000bbb",symbol:"LUX",name:"LUX"},3030:{index:"3030",hex:"0x80000bd6",symbol:"HBAR",name:"Hedera HBAR"},3077:{index:"3077",hex:"0x80000c05",symbol:"COS",name:"Contentos"},3276:{index:"3276",hex:"0x80000ccc",symbol:"CCC",name:"CodeChain"},3333:{index:"3333",hex:"0x80000d05",symbol:"SXP",name:"Solar"},3338:{index:"3338",hex:"0x80000d0a",symbol:"PEAQ",name:"peaq"},3344:{index:"3344",hex:"0x80000d10",symbol:"PLMC",name:"Polimec"},3377:{index:"3377",hex:"0x80000d31",symbol:"ROI",name:"ROIcoin"},3381:{index:"3381",hex:"0x80000d35",symbol:"DYN",name:"Dynamic"},3383:{index:"3383",hex:"0x80000d37",symbol:"SEQ",name:"Sequence"},3434:{index:"3434",hex:"0x80000d6a",symbol:"PEPE",name:"Pepecoin Core"},3501:{index:"3501",hex:"0x80000dad",symbol:"JFIN",name:"JFIN Coin"},3552:{index:"3552",hex:"0x80000de0",symbol:"DEO",name:"Destocoin"},3564:{index:"3564",hex:"0x80000dec",symbol:"DST",name:"DeStream"},3601:{index:"3601",hex:"0x80000e11",symbol:"CY",name:"Cybits"},3757:{index:"3757",hex:"0x80000ead",symbol:"MPC",name:"Partisia Blockchain"},3840:{index:"3840",hex:"0x80000f00",symbol:"RED",name:"ReDeFi RED"},4040:{index:"4040",hex:"0x80000fc8",symbol:"FC8",name:"FCH Network"},4096:{index:"4096",hex:"0x80001000",symbol:"YEE",name:"YeeCo"},4218:{index:"4218",hex:"0x8000107a",symbol:"IOTA",name:"IOTA"},4219:{index:"4219",hex:"0x8000107b",symbol:"SMR",name:"Shimmer"},4242:{index:"4242",hex:"0x80001092",symbol:"AXE",name:"Axe"},4343:{index:"4343",hex:"0x800010f7",symbol:"XYM",name:"Symbol"},4444:{index:"4444",hex:"0x8000115c",symbol:"C4E",name:"Chain4Energy"},4919:{index:"4919",hex:"0x80001337",symbol:"XVM",name:"Venidium"},4999:{index:"4999",hex:"0x80001387",symbol:"BXN",name:"BlackFort Exchange Network"},5e3:{index:"5000",hex:"0x80001388",symbol:"V12",name:"Vet The Vote"},5006:{index:"5006",hex:"0x8000138e",symbol:"SBC",name:"Senior Blockchain"},5248:{index:"5248",hex:"0x80001480",symbol:"FIC",name:"FIC"},5353:{index:"5353",hex:"0x800014e9",symbol:"HNS",name:"Handshake"},5404:{index:"5404",hex:"0x8000151c",symbol:"ISK",name:"ISKRA"},5467:{index:"5467",hex:"0x8000155b",symbol:"ALTME",name:"ALTME"},5555:{index:"5555",hex:"0x800015b3",symbol:"FUND",name:"Unification"},5757:{index:"5757",hex:"0x8000167d",symbol:"STX",name:"Stacks"},5895:{index:"5895",hex:"0x80001707",symbol:"VOW",name:"VowChain VOW"},5920:{index:"5920",hex:"0x80001720",symbol:"SLU",name:"SILUBIUM"},5995:{index:"5995",hex:"0x8000176B",symbol:"DUSK",name:"Dusk Network"},6060:{index:"6060",hex:"0x800017ac",symbol:"GO",name:"GoChain GO"},6144:{index:"6144",hex:"0x80001800",symbol:"DTS",name:"Datos"},6174:{index:"6174",hex:"0x8000181e",symbol:"MOI",name:"My Own Internet"},6278:{index:"6278",hex:"0x80001886",symbol:"STEAMX",name:"Rails Network Mainnet"},6532:{index:"6532",hex:"0x80001984",symbol:"UM",name:"Penumbra"},6599:{index:"6599",hex:"0x800019c7",symbol:"RSC",name:"Royal Sports City"},6666:{index:"6666",hex:"0x80001a0a",symbol:"BPA",name:"Bitcoin Pizza"},6688:{index:"6688",hex:"0x80001a20",symbol:"SAFE",name:"SAFE"},6779:{index:"6779",hex:"0x80001a7b",symbol:"COTI",name:"COTI"},6969:{index:"6969",hex:"0x80001b39",symbol:"ROGER",name:"TheHolyrogerCoin"},7e3:{index:"7000",hex:"0x80001b58",symbol:"ZETA",name:"ZetaChain"},7027:{index:"7027",hex:"0x80001b73",symbol:"ELLA",name:"Ella the heart"},7028:{index:"7028",hex:"0x80001b74",symbol:"AA",name:"Arthera"},7091:{index:"7091",hex:"0x80001bb3",symbol:"TOPL",name:"Topl"},7331:{index:"7331",hex:"0x80001ca3",symbol:"KLY",name:"KLYNTAR"},7341:{index:"7341",hex:"0x80001cad",symbol:"SHFT",name:"Shyft"},7518:{index:"7518",hex:"0x80001d5e",symbol:"MEV",name:"MEVerse"},7576:{index:"7576",hex:"0x80001d98",symbol:"ADIL",name:"ADIL Chain"},7777:{index:"7777",hex:"0x80001e61",symbol:"BTV",name:"Bitvote"},7779:{index:"7779",hex:"0x80001e63",symbol:"CPV",name:"Compverse"},8e3:{index:"8000",hex:"0x80001f40",symbol:"SKY",name:"Skycoin"},8017:{index:"8017",hex:"0x80001f51",symbol:"ISC",name:"iSunCoin"},8080:{index:"8080",hex:"0x80001f90",symbol:"",name:"DSRV"},8181:{index:"8181",hex:"0x80001ff5",symbol:"BOC",name:"BeOne Chain"},8192:{index:"8192",hex:"0x80002000",symbol:"PAC",name:"pacprotocol"},8217:{index:"8217",hex:"0x80002019",symbol:"KLAY",name:"KLAY"},8339:{index:"8339",hex:"0x80002093",symbol:"BTQ",name:"BitcoinQuark"},8444:{index:"8444",hex:"0x800020fc",symbol:"XCH",name:"Chia"},8453:{index:"8453",hex:"0x80002105",symbol:"",name:"Base"},8680:{index:"8680",hex:"0x800021e8",symbol:"PLMNT",name:"Planetmint"},8732:{index:"8732",hex:"0x8000221c",symbol:"BLN",name:"Bullions"},8866:{index:"8866",hex:"0x800022a2",symbol:"GGX",name:"Golden Gate"},8886:{index:"8886",hex:"0x800022b6",symbol:"GGXT",name:"Golden Gate Sydney"},8888:{index:"8888",hex:"0x800022b8",symbol:"SBTC",name:"Super Bitcoin"},8964:{index:"8964",hex:"0x80002304",symbol:"NULS",name:"NULS"},8997:{index:"8997",hex:"0x80002325",symbol:"BBC",name:"Babacoin"},8998:{index:"8998",hex:"0x80002326",symbol:"JGC",name:"JagoanCoin"},8999:{index:"8999",hex:"0x80002327",symbol:"BTP",name:"Bitcoin Pay"},9e3:{index:"9000",hex:"0x80002328",symbol:"AVAX",name:"Avalanche"},9001:{index:"9001",hex:"0x80002329",symbol:"ARB1",name:"Arbitrum"},9002:{index:"9002",hex:"0x8000232a",symbol:"BOBA",name:"Boba"},9003:{index:"9003",hex:"0x8000232b",symbol:"LOOP",name:"Loopring"},9004:{index:"9004",hex:"0x8000232c",symbol:"STRK",name:"StarkNet"},9005:{index:"9005",hex:"0x8000232d",symbol:"AVAXC",name:"Avalanche C-Chain"},9006:{index:"9006",hex:"0x8000232e",symbol:"BSC",name:"Binance Smart Chain"},9797:{index:"9797",hex:"0x80002645",symbol:"NRG",name:"Energi"},9888:{index:"9888",hex:"0x800026a0",symbol:"BTF",name:"Bitcoin Faith"},9999:{index:"9999",hex:"0x8000270f",symbol:"GOD",name:"Bitcoin God"},1e4:{index:"10000",hex:"0x80002710",symbol:"FO",name:"FIBOS"},10001:{index:"10001",hex:"0x80002711",symbol:"SPACE",name:"Space"},10111:{index:"10111",hex:"0x8000277f",symbol:"DHP",name:"dHealth"},10226:{index:"10226",hex:"0x800027f2",symbol:"RTM",name:"Raptoreum"},10242:{index:"10242",hex:"0x80002802",symbol:"AA",name:"Arthera"},10291:{index:"10291",hex:"0x80002833",symbol:"XRC",name:"XRhodium"},10507:{index:"10507",hex:"0x8000290b",symbol:"NUM",name:"Numbers Protocol"},10605:{index:"10605",hex:"0x8000296d",symbol:"XPI",name:"Lotus"},11111:{index:"11111",hex:"0x80002b67",symbol:"ESS",name:"Essentia One"},11742:{index:"11742",hex:"0x80002dde",symbol:"VARCH",name:"InvArch"},11743:{index:"11743",hex:"0x80002ddf",symbol:"TNKR",name:"Tinkernet"},12345:{index:"12345",hex:"0x80003039",symbol:"IPOS",name:"IPOS"},12586:{index:"12586",hex:"0x8000312a",symbol:"MINA",name:"Mina"},13107:{index:"13107",hex:"0x80003333",symbol:"BTY",name:"BitYuan"},13108:{index:"13108",hex:"0x80003334",symbol:"YCC",name:"Yuan Chain Coin"},13381:{index:"13381",hex:"0x80003445",symbol:"PHX",name:"Phoenix"},14001:{index:"14001",hex:"0x800036b1",symbol:"WAX",name:"Worldwide Asset Exchange"},15845:{index:"15845",hex:"0x80003de5",symbol:"SDGO",name:"SanDeGo"},16181:{index:"16181",hex:"0x80003f35",symbol:"XTX",name:"Totem Live Network"},16754:{index:"16754",hex:"0x80004172",symbol:"ARDR",name:"Ardor"},18e3:{index:"18000",hex:"0x80004650",symbol:"MTR",name:"Meter"},19165:{index:"19165",hex:"0x80004add",symbol:"SAFE",name:"Safecoin"},19167:{index:"19167",hex:"0x80004adf",symbol:"FLUX",name:"Flux"},19169:{index:"19169",hex:"0x80004ae1",symbol:"RITO",name:"Ritocoin"},19788:{index:"19788",hex:"0x80004d4c",symbol:"ML",name:"Mintlayer"},20036:{index:"20036",hex:"0x80004e44",symbol:"XND",name:"ndau"},21004:{index:"21004",hex:"0x8000520c",symbol:"C4EI",name:"c4ei"},21337:{index:"21337",hex:"0x80005359",symbol:"XAH",name:"Xahau"},21888:{index:"21888",hex:"0x80005580",symbol:"PAC",name:"Pactus"},22504:{index:"22504",hex:"0x800057e8",symbol:"PWR",name:"PWRcoin"},23e3:{index:"23000",hex:"0x800059d8",symbol:"EPIC",name:"Epic Cash"},25252:{index:"25252",hex:"0x800062a4",symbol:"BELL",name:"Bellcoin"},25718:{index:"25718",hex:"0x80006476",symbol:"CHX",name:"Own"},26417:{index:"26417",hex:"0x80006731",symbol:"G1",name:"Ğ1"},29223:{index:"29223",hex:"0x80007227",symbol:"NEXA",name:"Nexa"},31102:{index:"31102",hex:"0x8000797e",symbol:"ESN",name:"EtherSocial Network"},31337:{index:"31337",hex:"0x80007a69",symbol:"",name:"ThePower"},33416:{index:"33416",hex:"0x80008288",symbol:"TEO",name:"Trust Eth reOrigin"},33878:{index:"33878",hex:"0x80008456",symbol:"BTCS",name:"Bitcoin Stake"},34952:{index:"34952",hex:"0x80008888",symbol:"BTT",name:"ByteTrade"},37992:{index:"37992",hex:"0x80009468",symbol:"FXTC",name:"FixedTradeCoin"},39321:{index:"39321",hex:"0x80009999",symbol:"AMA",name:"Amabig"},42069:{index:"42069",hex:"0x8000a455",symbol:"FACT",name:"FACT0RN"},43028:{index:"43028",hex:"0x8000a814",symbol:"AXIV",name:"AXIV"},47803:{index:"47803",hex:"0x8000babb",symbol:"BAX",name:"BAX"},49262:{index:"49262",hex:"0x8000c06e",symbol:"EVE",name:"evan"},49344:{index:"49344",hex:"0x8000c0c0",symbol:"STASH",name:"STASH"},52752:{index:"52752",hex:"0x8000ce10",symbol:"CELO",name:"Celo"},54176:{index:"54176",hex:"0x8000d3a0",symbol:"OVER",name:"OverProtocol"},61616:{index:"61616",hex:"0x8000f0b0",symbol:"TH",name:"TianHe"},65536:{index:"65536",hex:"0x80010000",symbol:"KETH",name:"Krypton World"},69420:{index:"69420",hex:"0x80010f2c",symbol:"GRLC",name:"Garlicoin"},70007:{index:"70007",hex:"0x80011177",symbol:"GWL",name:"Gewel"},77777:{index:"77777",hex:"0x80012fd1",symbol:"ZYN",name:"Wethio"},83293:{index:"83293",hex:"0x8001455d",symbol:"QUBIC",name:"Qubic"},88888:{index:"88888",hex:"0x80015b38",symbol:"RYO",name:"c0ban"},99999:{index:"99999",hex:"0x8001869f",symbol:"WICC",name:"Waykichain"},100500:{index:"100500",hex:"0x80018894",symbol:"HOME",name:"HomeCoin"},101010:{index:"101010",hex:"0x80018a92",symbol:"STC",name:"Starcoin"},104109:{index:"104109",hex:"0x800196ad",symbol:"",name:"Seed Hypermedia"},105105:{index:"105105",hex:"0x80019a91",symbol:"STRAX",name:"Strax"},111111:{index:"111111",hex:"0x8001b207",symbol:"KAS",name:"Kaspa"},121337:{index:"121337",hex:"0x8001d9f9",symbol:"KLS",name:"Karlsen"},123456:{index:"123456",hex:"0x8001e240",symbol:"SPR",name:"Spectre"},130822:{index:"130822",hex:"0x8001ff06",symbol:"WBT",name:"WhiteBIT Coin"},161803:{index:"161803",hex:"0x8002780b",symbol:"APTA",name:"Bloqs4Good"},200625:{index:"200625",hex:"0x80030fb1",symbol:"AKA",name:"Akroma"},200901:{index:"200901",hex:"0x800310c5",symbol:"BTR",name:"Bitlayer"},224433:{index:"224433",hex:"0x80036cb1",symbol:"CONET",name:"CONET Holesky Network"},246529:{index:"246529",hex:"0x8003c301",symbol:"ATS",name:"ARTIS sigma1"},261131:{index:"261131",hex:"0x8003fc0b",symbol:"ZAMA",name:"Zama"},314159:{index:"314159",hex:"0x8004cb2f",symbol:"PI",name:"Pi Network"},333332:{index:"333332",hex:"0x80051614",symbol:"VALUE",name:"Value Chain"},333333:{index:"333333",hex:"0x80051615",symbol:"3333",name:"Pi Value Consensus"},424242:{index:"424242",hex:"0x80067932",symbol:"X42",name:"x42"},534352:{index:"534352",hex:"0x80082750",symbol:"SCR",name:"Scroll"},666666:{index:"666666",hex:"0x800a2c2a",symbol:"VITE",name:"Vite"},696365:{index:"696365",hex:"0x800b3206",symbol:"ICE",name:"Ice Network"},888888:{index:"888888",hex:"0x800d9038",symbol:"SEA",name:"Second Exchange Alliance"},999999:{index:"999999",hex:"0x800c9061",symbol:"WTC",name:"WaltonChain"},1048576:{index:"1048576",hex:"0x80100000",symbol:"AMAX",name:"Armonia Meta Chain"},1171337:{index:"1171337",hex:"0x8011df89",symbol:"ILT",name:"iOlite"},1313114:{index:"1313114",hex:"0x8014095a",symbol:"ETHO",name:"Etho Protocol"},1313500:{index:"1313500",hex:"0x80140adc",symbol:"XERO",name:"Xerom"},1712144:{index:"1712144",hex:"0x801a2010",symbol:"LAX",name:"LAPO"},3924011:{index:"3924011",hex:"0x803be02b",symbol:"EPK",name:"EPIK Protocol"},4741444:{index:"4741444",hex:"0x80485944",symbol:"HYD",name:"Hydra Token"},5249353:{index:"5249353",hex:"0x80501949",symbol:"BCO",name:"BitcoinOre"},5249354:{index:"5249354",hex:"0x8050194a",symbol:"BHD",name:"BitcoinHD"},5264462:{index:"5264462",hex:"0x8050544e",symbol:"PTN",name:"PalletOne"},5655640:{index:"5655640",hex:"0x80564c58",symbol:"VLX",name:"Velas"},5718350:{index:"5718350",hex:"0x8057414e",symbol:"WAN",name:"Wanchain"},5741564:{index:"5741564",hex:"0x80579bfc",symbol:"WAVES",name:"Waves"},5741565:{index:"5741565",hex:"0x80579bfd",symbol:"WEST",name:"Waves Enterprise"},6382179:{index:"6382179",hex:"0x80616263",symbol:"ABC",name:"Abcmint"},6517357:{index:"6517357",hex:"0x8063726d",symbol:"CRM",name:"Creamcoin"},7171666:{index:"7171666",hex:"0x806d6e52",symbol:"BROCK",name:"Bitrock"},7562605:{index:"7562605",hex:"0x8073656d",symbol:"SEM",name:"Semux"},7567736:{index:"7567736",hex:"0x80737978",symbol:"ION",name:"ION"},7777777:{index:"7777777",hex:"0x8076adf1",symbol:"FCT",name:"FirmaChain"},7825266:{index:"7825266",hex:"0x80776772",symbol:"WGR",name:"WGR"},7825267:{index:"7825267",hex:"0x80776773",symbol:"OBSR",name:"OBServer"},8163271:{index:"8163271",hex:"0x807c8fc7",symbol:"AFS",name:"ANFS"},11259375:{index:"11259375",hex:"0x80abcdef",symbol:"LBR",name:"0L"},15118976:{index:"15118976",hex:"0x80e6b280",symbol:"XDS",name:"XDS"},20230101:{index:"20230101",hex:"0x8134afd5",symbol:"ROH",name:"Rooch"},20240430:{index:"20240430",hex:"0x8134d82e",symbol:"NLK",name:"NuLinkCoin"},61717561:{index:"61717561",hex:"0x83adbc39",symbol:"AQUA",name:"Aquachain"},77777777:{index:"77777777",hex:"0x84a2cb71",symbol:"AZT",name:"Aztecoin"},88888888:{index:"88888888",hex:"0x854c5638",symbol:"HATCH",name:"Hatch"},91927009:{index:"91927009",hex:"0x857ab1e1",symbol:"kUSD",name:"kUSD"},99999996:{index:"99999996",hex:"0x85f5e0fc",symbol:"GENS",name:"GENS"},99999997:{index:"99999997",hex:"0x85f5e0fd",symbol:"EQ",name:"EQ"},99999998:{index:"99999998",hex:"0x85f5e0fe",symbol:"FLUID",name:"Fluid Chains"},99999999:{index:"99999999",hex:"0x85f5e0ff",symbol:"QKC",name:"QuarkChain"},608589380:{index:"608589380",hex:"0xa4465644",symbol:"FVDC",name:"ForumCoin"},1179993420:{index:"1179993420",hex:"0xc655454c",symbol:"",name:"Fuel"},1179993421:{index:"1179993421",hex:"0xc655454d",symbol:"TTNC",name:"TakeTitan"},1179993431:{index:"1179993431",hex:"0xc6554557",symbol:"MTGBP",name:"MTGBP"},1179993441:{index:"1179993441",hex:"0xc6554561",symbol:"QFS",name:"Qfs"},1179993451:{index:"1179993451",hex:"0xc655456b",symbol:"RWA",name:"Asset Chain"}}}}},{package:"@metamask/snaps-utils>@metamask/slip44",file:"node_modules/@metamask/slip44/slip44.json"}],[2465,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,s;Object.defineProperty(n,"__esModule",{value:!0}),n.cancellationReasonToStatusMap=n.ClientId=n.SmartTransactionStatuses=n.SmartTransactionCancellationReason=n.SmartTransactionMinedTx=n.APIType=void 0,function(e){e[e.GET_FEES=0]="GET_FEES",e[e.ESTIMATE_GAS=1]="ESTIMATE_GAS",e[e.SUBMIT_TRANSACTIONS=2]="SUBMIT_TRANSACTIONS",e[e.CANCEL=3]="CANCEL",e[e.BATCH_STATUS=4]="BATCH_STATUS",e[e.LIVENESS=5]="LIVENESS"}(n.APIType||(n.APIType={})),function(e){e.NOT_MINED="not_mined",e.SUCCESS="success",e.CANCELLED="cancelled",e.REVERTED="reverted",e.UNKNOWN="unknown"}(n.SmartTransactionMinedTx||(n.SmartTransactionMinedTx={})),function(e){e.WOULD_REVERT="would_revert",e.TOO_CHEAP="too_cheap",e.DEADLINE_MISSED="deadline_missed",e.INVALID_NONCE="invalid_nonce",e.USER_CANCELLED="user_cancelled",e.NOT_CANCELLED="not_cancelled"}(r=n.SmartTransactionCancellationReason||(n.SmartTransactionCancellationReason={})),function(e){e.PENDING="pending",e.SUCCESS="success",e.REVERTED="reverted",e.UNKNOWN="unknown",e.CANCELLED="cancelled",e.CANCELLED_USER_CANCELLED="cancelled_user_cancelled",e.RESOLVED="resolved"}(s=n.SmartTransactionStatuses||(n.SmartTransactionStatuses={})),function(e){e.Mobile="mobile",e.Extension="extension"}(n.ClientId||(n.ClientId={})),n.cancellationReasonToStatusMap={[r.WOULD_REVERT]:s.CANCELLED,[r.TOO_CHEAP]:s.CANCELLED,[r.DEADLINE_MISSED]:s.CANCELLED,[r.INVALID_NONCE]:s.CANCELLED,[r.USER_CANCELLED]:s.CANCELLED_USER_CANCELLED}}}},{package:"@metamask/smart-transactions-controller",file:"node_modules/@metamask/smart-transactions-controller/dist/types.js"}],[2568,{"./caveats/index.cjs":2570,"./enum.cjs":2573,"@metamask/permission-controller":2169,"@metamask/snaps-utils":2774,"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getAssetsCaveatMapper=n.assetsEndowmentBuilder=void 0;const r=e("@metamask/permission-controller"),s=e("@metamask/snaps-utils"),a=e("@metamask/utils"),i=e("./caveats/index.cjs"),o=e("./enum.cjs").SnapEndowments.Assets;n.assetsEndowmentBuilder=Object.freeze({targetName:o,specificationBuilder:e=>({permissionType:r.PermissionType.Endowment,targetName:o,allowedCaveats:[s.SnapCaveatType.ChainIds],endowmentGetter:e=>null,subjectTypes:[r.SubjectType.Snap],validator:(0,i.createGenericPermissionValidator)([{type:s.SnapCaveatType.ChainIds},{type:s.SnapCaveatType.MaxRequestTime,optional:!0}])})}),n.getAssetsCaveatMapper=function(e){return(0,a.assert)((0,a.isObject)(e)&&e.scopes),{caveats:[{type:s.SnapCaveatType.ChainIds,value:e.scopes}]}}}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/endowments/assets.cjs"}],[2569,{"@metamask/rpc-errors":2336},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createGenericPermissionValidator=void 0;const r=e("@metamask/rpc-errors");n.createGenericPermissionValidator=function(e){const t=new Set(e.map((e=>e.type))),n=e.filter((e=>!e.optional));return function({caveats:s}){const a=s??[],i=a.map((e=>e.type)),o=new Set(i);if(o.size!==i.length)throw r.rpcErrors.invalidParams({message:"Duplicate caveats are not allowed."});if(!a.every((e=>t.has(e.type))))throw r.rpcErrors.invalidParams({message:`Expected the following caveats: ${e.map((e=>`"${e.type}"`)).join(", ")}, received ${a.map((e=>`"${e.type}"`)).join(", ")}.`});if(!n.every((e=>o.has(e.type))))throw r.rpcErrors.invalidParams({message:`Expected the following caveats: ${n.map((e=>`"${e.type}"`)).join(", ")}.`})}}}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/endowments/caveats/generic.cjs"}],[2570,{"./generic.cjs":2569,"./requestTime.cjs":2571},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./generic.cjs"),n),s(e("./requestTime.cjs"),n)}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/endowments/caveats/index.cjs"}],[2571,{"@metamask/rpc-errors":2336,"@metamask/snaps-utils":2774,"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.maxRequestTimeCaveatSpecifications=n.getMaxRequestTimeCaveat=n.createMaxRequestTimeMapper=n.getMaxRequestTimeCaveatMapper=void 0;const r=e("@metamask/rpc-errors"),s=e("@metamask/snaps-utils"),a=e("@metamask/utils");function i(e){if(!(0,a.hasProperty)(e,"value"))throw r.rpcErrors.invalidParams({message:"Invalid maxRequestTime caveat."});const{value:t}=e;!function(e,t){(0,a.assertStruct)(e,s.MaxRequestTimeStruct,"Invalid maxRequestTime",t)}(t,r.rpcErrors.invalidParams)}n.getMaxRequestTimeCaveatMapper=function(e){return!e||!(0,a.isObject)(e)||(0,a.isObject)(e)&&!(0,a.hasProperty)(e,"maxRequestTime")?{caveats:null}:{caveats:[{type:s.SnapCaveatType.MaxRequestTime,value:e.maxRequestTime}]}},n.createMaxRequestTimeMapper=function(e){return function(t){const{maxRequestTime:n,...r}=t,a=e(r);return n?{...a,caveats:[...a.caveats??[],{type:s.SnapCaveatType.MaxRequestTime,value:n}]}:a}},n.getMaxRequestTimeCaveat=function(e){const t=e?.caveats?.find((e=>e.type===s.SnapCaveatType.MaxRequestTime));return t?.value??null},n.maxRequestTimeCaveatSpecifications={[s.SnapCaveatType.MaxRequestTime]:Object.freeze({type:s.SnapCaveatType.MaxRequestTime,validator:e=>i(e)})}}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/endowments/caveats/requestTime.cjs"}],[2572,{"./caveats/index.cjs":2570,"./enum.cjs":2573,"@metamask/permission-controller":2169,"@metamask/rpc-errors":2336,"@metamask/snaps-utils":2774,"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.cronjobCaveatSpecifications=n.validateCronjobCaveat=n.getCronjobCaveatJobs=n.getCronjobCaveatMapper=n.cronjobEndowmentBuilder=void 0;const r=e("@metamask/permission-controller"),s=e("@metamask/rpc-errors"),a=e("@metamask/snaps-utils"),i=e("@metamask/utils"),o=e("./caveats/index.cjs"),c=e("./enum.cjs").SnapEndowments.Cronjob;function u(e){if(!(0,i.hasProperty)(e,"value")||!(0,i.isPlainObject)(e.value))throw s.rpcErrors.invalidParams({message:"Expected a plain object."});const{value:t}=e;if(!(0,i.hasProperty)(t,"jobs")||!(0,i.isPlainObject)(t))throw s.rpcErrors.invalidParams({message:"Expected a plain object."});if(!(0,a.isCronjobSpecificationArray)(t.jobs))throw s.rpcErrors.invalidParams({message:"Expected a valid cronjob specification array."})}n.cronjobEndowmentBuilder=Object.freeze({targetName:c,specificationBuilder:e=>({permissionType:r.PermissionType.Endowment,targetName:c,allowedCaveats:[a.SnapCaveatType.SnapCronjob],endowmentGetter:e=>null,subjectTypes:[r.SubjectType.Snap],validator:(0,o.createGenericPermissionValidator)([{type:a.SnapCaveatType.SnapCronjob,optional:!0},{type:a.SnapCaveatType.MaxRequestTime,optional:!0}])})}),n.getCronjobCaveatMapper=function(e){return e&&(0,i.isObject)(e)&&0!==Object.keys(e).length?{caveats:[{type:a.SnapCaveatType.SnapCronjob,value:e}]}:{caveats:null}},n.getCronjobCaveatJobs=function(e){if(!e?.caveats)return null;(0,i.assert)(1===e.caveats.length),(0,i.assert)(e.caveats[0].type===a.SnapCaveatType.SnapCronjob);const t=e.caveats[0];return t.value?.jobs??null},n.validateCronjobCaveat=u,n.cronjobCaveatSpecifications={[a.SnapCaveatType.SnapCronjob]:Object.freeze({type:a.SnapCaveatType.SnapCronjob,validator:e=>u(e)})}}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/endowments/cronjob.cjs"}],[2573,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r;Object.defineProperty(n,"__esModule",{value:!0}),n.SnapEndowments=void 0,function(e){e.NetworkAccess="endowment:network-access",e.SignatureInsight="endowment:signature-insight",e.TransactionInsight="endowment:transaction-insight",e.Cronjob="endowment:cronjob",e.EthereumProvider="endowment:ethereum-provider",e.Rpc="endowment:rpc",e.WebAssemblyAccess="endowment:webassembly",e.NameLookup="endowment:name-lookup",e.LifecycleHooks="endowment:lifecycle-hooks",e.Keyring="endowment:keyring",e.HomePage="endowment:page-home",e.SettingsPage="endowment:page-settings",e.Assets="endowment:assets",e.Protocol="endowment:protocol"}(r||(n.SnapEndowments=r={}))}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/endowments/enum.cjs"}],[2574,{"./enum.cjs":2573,"@metamask/permission-controller":2169},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ethereumProviderEndowmentBuilder=void 0;const r=e("@metamask/permission-controller"),s=e("./enum.cjs").SnapEndowments.EthereumProvider;n.ethereumProviderEndowmentBuilder=Object.freeze({targetName:s,specificationBuilder:e=>({permissionType:r.PermissionType.Endowment,targetName:s,allowedCaveats:null,endowmentGetter:e=>["ethereum"],subjectTypes:[r.SubjectType.Snap]})})}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/endowments/ethereum-provider.cjs"}],[2575,{"./enum.cjs":2573,"@metamask/permission-controller":2169},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.homePageEndowmentBuilder=void 0;const r=e("@metamask/permission-controller"),s=e("./enum.cjs").SnapEndowments.HomePage;n.homePageEndowmentBuilder=Object.freeze({targetName:s,specificationBuilder:e=>({permissionType:r.PermissionType.Endowment,targetName:s,allowedCaveats:null,endowmentGetter:e=>null,subjectTypes:[r.SubjectType.Snap]})})}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/endowments/home-page.cjs"}],[2576,{"./assets.cjs":2568,"./caveats/index.cjs":2570,"./cronjob.cjs":2572,"./enum.cjs":2573,"./ethereum-provider.cjs":2574,"./home-page.cjs":2575,"./keyring.cjs":2577,"./lifecycle-hooks.cjs":2578,"./name-lookup.cjs":2579,"./network-access.cjs":2580,"./protocol.cjs":2581,"./rpc.cjs":2582,"./settings-page.cjs":2583,"./signature-insight.cjs":2584,"./transaction-insight.cjs":2585,"./web-assembly.cjs":2586,"@metamask/snaps-utils":2774},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),n.getProtocolCaveatScopes=n.getCronjobCaveatJobs=n.getMaxRequestTimeCaveat=n.getKeyringCaveatOrigins=n.getLookupMatchersCaveat=n.getChainIdsCaveat=n.getTransactionOriginCaveat=n.getSignatureOriginCaveat=n.getRpcCaveatOrigins=n.handlerEndowments=n.endowmentCaveatMappers=n.endowmentCaveatSpecifications=n.endowmentPermissionBuilders=void 0;const a=e("@metamask/snaps-utils"),i=e("./assets.cjs"),o=e("./caveats/index.cjs"),c=e("./cronjob.cjs"),u=e("./ethereum-provider.cjs"),l=e("./home-page.cjs"),d=e("./keyring.cjs"),m=e("./lifecycle-hooks.cjs"),p=e("./name-lookup.cjs"),h=e("./network-access.cjs"),f=e("./protocol.cjs"),g=e("./rpc.cjs"),y=e("./settings-page.cjs"),b=e("./signature-insight.cjs"),x=e("./transaction-insight.cjs"),v=e("./web-assembly.cjs");n.endowmentPermissionBuilders={[h.networkAccessEndowmentBuilder.targetName]:h.networkAccessEndowmentBuilder,[x.transactionInsightEndowmentBuilder.targetName]:x.transactionInsightEndowmentBuilder,[c.cronjobEndowmentBuilder.targetName]:c.cronjobEndowmentBuilder,[u.ethereumProviderEndowmentBuilder.targetName]:u.ethereumProviderEndowmentBuilder,[g.rpcEndowmentBuilder.targetName]:g.rpcEndowmentBuilder,[v.webAssemblyEndowmentBuilder.targetName]:v.webAssemblyEndowmentBuilder,[p.nameLookupEndowmentBuilder.targetName]:p.nameLookupEndowmentBuilder,[m.lifecycleHooksEndowmentBuilder.targetName]:m.lifecycleHooksEndowmentBuilder,[d.keyringEndowmentBuilder.targetName]:d.keyringEndowmentBuilder,[y.settingsPageEndowmentBuilder.targetName]:y.settingsPageEndowmentBuilder,[f.protocolEndowmentBuilder.targetName]:f.protocolEndowmentBuilder,[l.homePageEndowmentBuilder.targetName]:l.homePageEndowmentBuilder,[b.signatureInsightEndowmentBuilder.targetName]:b.signatureInsightEndowmentBuilder,[i.assetsEndowmentBuilder.targetName]:i.assetsEndowmentBuilder},n.endowmentCaveatSpecifications={...c.cronjobCaveatSpecifications,...x.transactionInsightCaveatSpecifications,...g.rpcCaveatSpecifications,...p.nameLookupCaveatSpecifications,...d.keyringCaveatSpecifications,...b.signatureInsightCaveatSpecifications,...o.maxRequestTimeCaveatSpecifications,...f.protocolCaveatSpecifications},n.endowmentCaveatMappers={[c.cronjobEndowmentBuilder.targetName]:(0,o.createMaxRequestTimeMapper)(c.getCronjobCaveatMapper),[x.transactionInsightEndowmentBuilder.targetName]:(0,o.createMaxRequestTimeMapper)(x.getTransactionInsightCaveatMapper),[g.rpcEndowmentBuilder.targetName]:(0,o.createMaxRequestTimeMapper)(g.getRpcCaveatMapper),[p.nameLookupEndowmentBuilder.targetName]:(0,o.createMaxRequestTimeMapper)(p.getNameLookupCaveatMapper),[d.keyringEndowmentBuilder.targetName]:(0,o.createMaxRequestTimeMapper)(d.getKeyringCaveatMapper),[f.protocolEndowmentBuilder.targetName]:(0,o.createMaxRequestTimeMapper)(f.getProtocolCaveatMapper),[b.signatureInsightEndowmentBuilder.targetName]:(0,o.createMaxRequestTimeMapper)(b.getSignatureInsightCaveatMapper),[m.lifecycleHooksEndowmentBuilder.targetName]:o.getMaxRequestTimeCaveatMapper,[l.homePageEndowmentBuilder.targetName]:o.getMaxRequestTimeCaveatMapper,[y.settingsPageEndowmentBuilder.targetName]:o.getMaxRequestTimeCaveatMapper,[i.assetsEndowmentBuilder.targetName]:(0,o.createMaxRequestTimeMapper)(i.getAssetsCaveatMapper)},n.handlerEndowments={[a.HandlerType.OnRpcRequest]:g.rpcEndowmentBuilder.targetName,[a.HandlerType.OnTransaction]:x.transactionInsightEndowmentBuilder.targetName,[a.HandlerType.OnCronjob]:c.cronjobEndowmentBuilder.targetName,[a.HandlerType.OnNameLookup]:p.nameLookupEndowmentBuilder.targetName,[a.HandlerType.OnInstall]:m.lifecycleHooksEndowmentBuilder.targetName,[a.HandlerType.OnUpdate]:m.lifecycleHooksEndowmentBuilder.targetName,[a.HandlerType.OnKeyringRequest]:d.keyringEndowmentBuilder.targetName,[a.HandlerType.OnHomePage]:l.homePageEndowmentBuilder.targetName,[a.HandlerType.OnSettingsPage]:y.settingsPageEndowmentBuilder.targetName,[a.HandlerType.OnSignature]:b.signatureInsightEndowmentBuilder.targetName,[a.HandlerType.OnUserInput]:null,[a.HandlerType.OnAssetsLookup]:i.assetsEndowmentBuilder.targetName,[a.HandlerType.OnAssetsConversion]:i.assetsEndowmentBuilder.targetName,[a.HandlerType.OnProtocolRequest]:f.protocolEndowmentBuilder.targetName},s(e("./enum.cjs"),n);var S=e("./rpc.cjs");Object.defineProperty(n,"getRpcCaveatOrigins",{enumerable:!0,get:function(){return S.getRpcCaveatOrigins}});var w=e("./signature-insight.cjs");Object.defineProperty(n,"getSignatureOriginCaveat",{enumerable:!0,get:function(){return w.getSignatureOriginCaveat}});var k=e("./transaction-insight.cjs");Object.defineProperty(n,"getTransactionOriginCaveat",{enumerable:!0,get:function(){return k.getTransactionOriginCaveat}});var T=e("./name-lookup.cjs");Object.defineProperty(n,"getChainIdsCaveat",{enumerable:!0,get:function(){return T.getChainIdsCaveat}}),Object.defineProperty(n,"getLookupMatchersCaveat",{enumerable:!0,get:function(){return T.getLookupMatchersCaveat}});var E=e("./keyring.cjs");Object.defineProperty(n,"getKeyringCaveatOrigins",{enumerable:!0,get:function(){return E.getKeyringCaveatOrigins}});var A=e("./caveats/index.cjs");Object.defineProperty(n,"getMaxRequestTimeCaveat",{enumerable:!0,get:function(){return A.getMaxRequestTimeCaveat}});var j=e("./cronjob.cjs");Object.defineProperty(n,"getCronjobCaveatJobs",{enumerable:!0,get:function(){return j.getCronjobCaveatJobs}});var C=e("./protocol.cjs");Object.defineProperty(n,"getProtocolCaveatScopes",{enumerable:!0,get:function(){return C.getProtocolCaveatScopes}})}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/endowments/index.cjs"}],[2577,{"./caveats/index.cjs":2570,"./enum.cjs":2573,"@metamask/permission-controller":2169,"@metamask/rpc-errors":2336,"@metamask/snaps-utils":2774,"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.keyringCaveatSpecifications=n.getKeyringCaveatOrigins=n.getKeyringCaveatMapper=n.keyringEndowmentBuilder=void 0;const r=e("@metamask/permission-controller"),s=e("@metamask/rpc-errors"),a=e("@metamask/snaps-utils"),i=e("@metamask/utils"),o=e("./caveats/index.cjs"),c=e("./enum.cjs").SnapEndowments.Keyring;n.keyringEndowmentBuilder=Object.freeze({targetName:c,specificationBuilder:e=>({permissionType:r.PermissionType.Endowment,targetName:c,allowedCaveats:[a.SnapCaveatType.KeyringOrigin,a.SnapCaveatType.MaxRequestTime],endowmentGetter:e=>null,validator:(0,o.createGenericPermissionValidator)([{type:a.SnapCaveatType.KeyringOrigin},{type:a.SnapCaveatType.MaxRequestTime,optional:!0}]),subjectTypes:[r.SubjectType.Snap]})}),n.getKeyringCaveatMapper=function(e){return{caveats:[{type:a.SnapCaveatType.KeyringOrigin,value:e}]}},n.getKeyringCaveatOrigins=function(e){return(0,i.assert)(e?.caveats),(0,i.assert)(1===e.caveats.length),(0,i.assert)(e.caveats[0].type===a.SnapCaveatType.KeyringOrigin),e.caveats[0].value},n.keyringCaveatSpecifications={[a.SnapCaveatType.KeyringOrigin]:Object.freeze({type:a.SnapCaveatType.KeyringOrigin,validator:e=>function(e){if(!(0,i.hasProperty)(e,"value")||!(0,i.isPlainObject)(e.value))throw s.rpcErrors.invalidParams({message:"Invalid keyring origins: Expected a plain object."});const{value:t}=e;(0,a.assertIsKeyringOrigins)(t,s.rpcErrors.invalidParams)}(e)})}}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/endowments/keyring.cjs"}],[2578,{"./enum.cjs":2573,"@metamask/permission-controller":2169},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.lifecycleHooksEndowmentBuilder=void 0;const r=e("@metamask/permission-controller"),s=e("./enum.cjs").SnapEndowments.LifecycleHooks;n.lifecycleHooksEndowmentBuilder=Object.freeze({targetName:s,specificationBuilder:e=>({permissionType:r.PermissionType.Endowment,targetName:s,allowedCaveats:null,endowmentGetter:e=>null,subjectTypes:[r.SubjectType.Snap]})})}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/endowments/lifecycle-hooks.cjs"}],[2579,{"./caveats/index.cjs":2570,"./enum.cjs":2573,"@metamask/permission-controller":2169,"@metamask/rpc-errors":2336,"@metamask/snaps-utils":2774,"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.nameLookupCaveatSpecifications=n.getLookupMatchersCaveat=n.getChainIdsCaveat=n.getNameLookupCaveatMapper=n.nameLookupEndowmentBuilder=void 0;const r=e("@metamask/permission-controller"),s=e("@metamask/rpc-errors"),a=e("@metamask/snaps-utils"),i=e("@metamask/utils"),o=e("./caveats/index.cjs"),c=e("./enum.cjs").SnapEndowments.NameLookup;function u(e){if(!(0,i.hasProperty)(e,"value")||!(0,i.isPlainObject)(e))throw s.rpcErrors.invalidParams({message:"Expected a plain object."});const{value:t}=e;switch(e.type){case a.SnapCaveatType.ChainIds:(0,i.assertStruct)(t,a.ChainIdsStruct);break;case a.SnapCaveatType.LookupMatchers:(0,i.assertStruct)(t,a.LookupMatchersStruct);break;default:throw s.rpcErrors.invalidParams({message:'Invalid caveat type, must be one of the following: "chainIds", "matchers".'})}}n.nameLookupEndowmentBuilder=Object.freeze({targetName:c,specificationBuilder:e=>({permissionType:r.PermissionType.Endowment,targetName:c,allowedCaveats:[a.SnapCaveatType.ChainIds,a.SnapCaveatType.LookupMatchers,a.SnapCaveatType.MaxRequestTime],endowmentGetter:e=>null,validator:(0,o.createGenericPermissionValidator)([{type:a.SnapCaveatType.ChainIds,optional:!0},{type:a.SnapCaveatType.LookupMatchers,optional:!0},{type:a.SnapCaveatType.MaxRequestTime,optional:!0}]),subjectTypes:[r.SubjectType.Snap]})}),n.getNameLookupCaveatMapper=function(e){if(!e||!(0,i.isObject)(e)||0===Object.keys(e).length)return{caveats:null};const t=[];return e.chains&&t.push({type:a.SnapCaveatType.ChainIds,value:e.chains}),e.matchers&&t.push({type:a.SnapCaveatType.LookupMatchers,value:e.matchers}),(0,i.assert)(t.length>0),{caveats:t}},n.getChainIdsCaveat=function(e){if(!e?.caveats)return null;const t=e.caveats.find((e=>e.type===a.SnapCaveatType.ChainIds));return t?t.value:null},n.getLookupMatchersCaveat=function(e){if(!e?.caveats)return null;const t=e.caveats.find((e=>e.type===a.SnapCaveatType.LookupMatchers));return t?t.value:null},n.nameLookupCaveatSpecifications={[a.SnapCaveatType.ChainIds]:Object.freeze({type:a.SnapCaveatType.ChainIds,validator:e=>u(e)}),[a.SnapCaveatType.LookupMatchers]:Object.freeze({type:a.SnapCaveatType.LookupMatchers,validator:e=>u(e)})}}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/endowments/name-lookup.cjs"}],[2580,{"./enum.cjs":2573,"@metamask/permission-controller":2169},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.networkAccessEndowmentBuilder=void 0;const r=e("@metamask/permission-controller"),s=e("./enum.cjs").SnapEndowments.NetworkAccess;n.networkAccessEndowmentBuilder=Object.freeze({targetName:s,specificationBuilder:e=>({permissionType:r.PermissionType.Endowment,targetName:s,allowedCaveats:null,endowmentGetter:e=>["fetch","Request","Headers","Response"],subjectTypes:[r.SubjectType.Snap]})})}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/endowments/network-access.cjs"}],[2581,{"./caveats/index.cjs":2570,"./enum.cjs":2573,"@metamask/permission-controller":2169,"@metamask/rpc-errors":2336,"@metamask/snaps-utils":2774,"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.protocolCaveatSpecifications=n.getProtocolCaveatScopes=n.getProtocolCaveatMapper=n.protocolEndowmentBuilder=void 0;const r=e("@metamask/permission-controller"),s=e("@metamask/rpc-errors"),a=e("@metamask/snaps-utils"),i=e("@metamask/utils"),o=e("./caveats/index.cjs"),c=e("./enum.cjs").SnapEndowments.Protocol;n.protocolEndowmentBuilder=Object.freeze({targetName:c,specificationBuilder:e=>({permissionType:r.PermissionType.Endowment,targetName:c,allowedCaveats:[a.SnapCaveatType.ProtocolSnapScopes,a.SnapCaveatType.MaxRequestTime],endowmentGetter:e=>null,validator:(0,o.createGenericPermissionValidator)([{type:a.SnapCaveatType.ProtocolSnapScopes},{type:a.SnapCaveatType.MaxRequestTime,optional:!0}]),subjectTypes:[r.SubjectType.Snap]})}),n.getProtocolCaveatMapper=function(e){if(!e||!(0,i.isObject)(e)||0===Object.keys(e).length)return{caveats:null};const t=[];return e.scopes&&t.push({type:a.SnapCaveatType.ProtocolSnapScopes,value:e.scopes}),{caveats:t}},n.getProtocolCaveatScopes=function(e){const t=e?.caveats?.find((e=>e.type===a.SnapCaveatType.ProtocolSnapScopes));return t?t.value:null},n.protocolCaveatSpecifications={[a.SnapCaveatType.ProtocolSnapScopes]:Object.freeze({type:a.SnapCaveatType.ProtocolSnapScopes,validator:e=>function(e){if(!(0,i.hasProperty)(e,"value")||!(0,i.isPlainObject)(e))throw s.rpcErrors.invalidParams({message:"Expected a plain object."});const{value:t}=e;(0,i.assertStruct)(t,a.ProtocolScopesStruct,"Invalid scopes specified",s.rpcErrors.invalidParams)}(e)})}}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/endowments/protocol.cjs"}],[2582,{"./caveats/index.cjs":2570,"./enum.cjs":2573,"@metamask/permission-controller":2169,"@metamask/rpc-errors":2336,"@metamask/snaps-utils":2774,"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.rpcCaveatSpecifications=n.getRpcCaveatOrigins=n.getRpcCaveatMapper=n.rpcEndowmentBuilder=void 0;const r=e("@metamask/permission-controller"),s=e("@metamask/rpc-errors"),a=e("@metamask/snaps-utils"),i=e("@metamask/utils"),o=e("./caveats/index.cjs"),c=e("./enum.cjs").SnapEndowments.Rpc;n.rpcEndowmentBuilder=Object.freeze({targetName:c,specificationBuilder:e=>({permissionType:r.PermissionType.Endowment,targetName:c,allowedCaveats:[a.SnapCaveatType.RpcOrigin,a.SnapCaveatType.MaxRequestTime],endowmentGetter:e=>null,validator:(0,o.createGenericPermissionValidator)([{type:a.SnapCaveatType.RpcOrigin},{type:a.SnapCaveatType.MaxRequestTime,optional:!0}]),subjectTypes:[r.SubjectType.Snap]})}),n.getRpcCaveatMapper=function(e){return{caveats:[{type:a.SnapCaveatType.RpcOrigin,value:e}]}},n.getRpcCaveatOrigins=function(e){const t=e?.caveats?.filter((e=>e.type===a.SnapCaveatType.RpcOrigin));return(0,i.assert)(t),(0,i.assert)(1===t.length),t[0].value},n.rpcCaveatSpecifications={[a.SnapCaveatType.RpcOrigin]:Object.freeze({type:a.SnapCaveatType.RpcOrigin,validator:e=>function(e){if(!(0,i.hasProperty)(e,"value")||!(0,i.isPlainObject)(e.value))throw s.rpcErrors.invalidParams({message:"Invalid JSON-RPC origins: Expected a plain object."});const{value:t}=e;(0,a.assertIsRpcOrigins)(t,s.rpcErrors.invalidParams)}(e)})}}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/endowments/rpc.cjs"}],[2583,{"./enum.cjs":2573,"@metamask/permission-controller":2169},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.settingsPageEndowmentBuilder=void 0;const r=e("@metamask/permission-controller"),s=e("./enum.cjs").SnapEndowments.SettingsPage;n.settingsPageEndowmentBuilder=Object.freeze({targetName:s,specificationBuilder:e=>({permissionType:r.PermissionType.Endowment,targetName:s,allowedCaveats:null,endowmentGetter:e=>null,subjectTypes:[r.SubjectType.Snap]})})}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/endowments/settings-page.cjs"}],[2584,{"./caveats/index.cjs":2570,"./enum.cjs":2573,"@metamask/permission-controller":2169,"@metamask/rpc-errors":2336,"@metamask/snaps-utils":2774,"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.signatureInsightCaveatSpecifications=n.getSignatureOriginCaveat=n.getSignatureInsightCaveatMapper=n.signatureInsightEndowmentBuilder=void 0;const r=e("@metamask/permission-controller"),s=e("@metamask/rpc-errors"),a=e("@metamask/snaps-utils"),i=e("@metamask/utils"),o=e("./caveats/index.cjs"),c=e("./enum.cjs").SnapEndowments.SignatureInsight;n.signatureInsightEndowmentBuilder=Object.freeze({targetName:c,specificationBuilder:e=>({permissionType:r.PermissionType.Endowment,targetName:c,allowedCaveats:[a.SnapCaveatType.SignatureOrigin],endowmentGetter:e=>null,validator:(0,o.createGenericPermissionValidator)([{type:a.SnapCaveatType.SignatureOrigin,optional:!0},{type:a.SnapCaveatType.MaxRequestTime,optional:!0}]),subjectTypes:[r.SubjectType.Snap]})}),n.getSignatureInsightCaveatMapper=function(e){return!e||!(0,i.isObject)(e)||(0,i.isObject)(e)&&0===Object.keys(e).length?{caveats:null}:{caveats:[{type:a.SnapCaveatType.SignatureOrigin,value:(0,i.hasProperty)(e,"allowSignatureOrigin")&&e.allowSignatureOrigin}]}},n.getSignatureOriginCaveat=function(e){return e?.caveats?((0,i.assert)(1===e.caveats.length),(0,i.assert)(e.caveats[0].type===a.SnapCaveatType.SignatureOrigin),e.caveats[0].value??null):null},n.signatureInsightCaveatSpecifications={[a.SnapCaveatType.SignatureOrigin]:Object.freeze({type:a.SnapCaveatType.SignatureOrigin,validator:e=>function(e){if(!(0,i.hasProperty)(e,"value")||!(0,i.isPlainObject)(e))throw s.rpcErrors.invalidParams({message:"Expected a plain object."});const{value:t}=e;(0,i.assert)("boolean"==typeof t,'Expected caveat value to have type "boolean"')}(e)})}}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/endowments/signature-insight.cjs"}],[2585,{"./caveats/index.cjs":2570,"./enum.cjs":2573,"@metamask/permission-controller":2169,"@metamask/rpc-errors":2336,"@metamask/snaps-utils":2774,"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.transactionInsightCaveatSpecifications=n.getTransactionOriginCaveat=n.getTransactionInsightCaveatMapper=n.transactionInsightEndowmentBuilder=void 0;const r=e("@metamask/permission-controller"),s=e("@metamask/rpc-errors"),a=e("@metamask/snaps-utils"),i=e("@metamask/utils"),o=e("./caveats/index.cjs"),c=e("./enum.cjs").SnapEndowments.TransactionInsight;n.transactionInsightEndowmentBuilder=Object.freeze({targetName:c,specificationBuilder:e=>({permissionType:r.PermissionType.Endowment,targetName:c,allowedCaveats:[a.SnapCaveatType.TransactionOrigin,a.SnapCaveatType.MaxRequestTime],endowmentGetter:e=>null,validator:(0,o.createGenericPermissionValidator)([{type:a.SnapCaveatType.TransactionOrigin,optional:!0},{type:a.SnapCaveatType.MaxRequestTime,optional:!0}]),subjectTypes:[r.SubjectType.Snap]})}),n.getTransactionInsightCaveatMapper=function(e){return!e||!(0,i.isObject)(e)||(0,i.isObject)(e)&&0===Object.keys(e).length?{caveats:null}:{caveats:[{type:a.SnapCaveatType.TransactionOrigin,value:(0,i.hasProperty)(e,"allowTransactionOrigin")&&e.allowTransactionOrigin}]}},n.getTransactionOriginCaveat=function(e){return e?.caveats?((0,i.assert)(1===e.caveats.length),(0,i.assert)(e.caveats[0].type===a.SnapCaveatType.TransactionOrigin),e.caveats[0].value??null):null},n.transactionInsightCaveatSpecifications={[a.SnapCaveatType.TransactionOrigin]:Object.freeze({type:a.SnapCaveatType.TransactionOrigin,validator:e=>function(e){if(!(0,i.hasProperty)(e,"value")||!(0,i.isPlainObject)(e))throw s.rpcErrors.invalidParams({message:"Expected a plain object."});const{value:t}=e;(0,i.assert)("boolean"==typeof t,'Expected caveat value to have type "boolean"')}(e)})}}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/endowments/transaction-insight.cjs"}],[2586,{"./enum.cjs":2573,"@metamask/permission-controller":2169},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.webAssemblyEndowmentBuilder=void 0;const r=e("@metamask/permission-controller"),s=e("./enum.cjs").SnapEndowments.WebAssemblyAccess;n.webAssemblyEndowmentBuilder=Object.freeze({targetName:s,specificationBuilder:e=>({permissionType:r.PermissionType.Endowment,targetName:s,allowedCaveats:null,endowmentGetter:e=>["WebAssembly"],subjectTypes:[r.SubjectType.Snap]})})}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/endowments/web-assembly.cjs"}],[2587,{"./endowments/index.cjs":2576,"./permissions.cjs":2588,"./permitted/index.cjs":2603,"./restricted/index.cjs":2623,"./utils.cjs":2628,"@metamask/snaps-utils":2774},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),n.selectHooks=n.SnapCaveatType=n.createSnapsMethodMiddleware=n.permittedMethods=void 0;var a=e("./permitted/index.cjs");Object.defineProperty(n,"permittedMethods",{enumerable:!0,get:function(){return a.handlers}}),Object.defineProperty(n,"createSnapsMethodMiddleware",{enumerable:!0,get:function(){return a.createSnapsMethodMiddleware}});var i=e("@metamask/snaps-utils");Object.defineProperty(n,"SnapCaveatType",{enumerable:!0,get:function(){return i.SnapCaveatType}});var o=e("./utils.cjs");Object.defineProperty(n,"selectHooks",{enumerable:!0,get:function(){return o.selectHooks}}),s(e("./endowments/index.cjs"),n),s(e("./permissions.cjs"),n),s(e("./restricted/index.cjs"),n)}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/index.cjs"}],[2588,{"./endowments/index.cjs":2576,"./restricted/index.cjs":2623,"./utils.cjs":2628,"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.buildSnapRestrictedMethodSpecifications=n.buildSnapEndowmentSpecifications=n.processSnapPermissions=void 0;const r=e("@metamask/utils"),s=e("./endowments/index.cjs"),a=e("./restricted/index.cjs"),i=e("./utils.cjs");n.processSnapPermissions=function(e){return Object.fromEntries(Object.entries(e).map((([e,t])=>(0,r.hasProperty)(a.caveatMappers,e)?[e,a.caveatMappers[e](t)]:(0,r.hasProperty)(s.endowmentCaveatMappers,e)?[e,s.endowmentCaveatMappers[e](t)]:[e,t])))};n.buildSnapEndowmentSpecifications=e=>Object.values(s.endowmentPermissionBuilders).reduce(((t,{targetName:n,specificationBuilder:r})=>(e.includes(n)||(t[n]=r({})),t)),{});n.buildSnapRestrictedMethodSpecifications=(e,t)=>Object.values(a.restrictedMethodPermissionBuilders).reduce(((n,{targetName:r,specificationBuilder:s,methodHooks:a})=>(e.includes(r)||(n[r]=s({methodHooks:(0,i.selectHooks)(t,a)})),n)),{})}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/permissions.cjs"}],[2589,{"../endowments/index.cjs":2576,"@metamask/rpc-errors":2336,"@metamask/superstruct":2797},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.cancelBackgroundEventHandler=void 0;const r=e("@metamask/rpc-errors"),s=e("@metamask/superstruct"),a=e("../endowments/index.cjs");n.cancelBackgroundEventHandler={methodNames:["snap_cancelBackgroundEvent"],implementation:async function(e,t,n,o,{cancelBackgroundEvent:c,hasPermission:u}){const{params:l}=e;if(!u(a.SnapEndowments.Cronjob))return o(r.providerErrors.unauthorized());try{const e=function(e){try{return(0,s.create)(e,i)}catch(e){if(e instanceof s.StructError)throw r.rpcErrors.invalidParams({message:`Invalid params: ${e.message}.`});throw r.rpcErrors.internal()}}(l),{id:n}=e;c(n),t.result=null}catch(e){return o(e)}return o()},hookNames:{cancelBackgroundEvent:!0,hasPermission:!0}};const i=(0,s.object)({id:(0,s.string)()})}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/permitted/cancelBackgroundEvent.cjs"}],[2590,{"../restricted/manageState.cjs":2626,"@metamask/rpc-errors":2336,"@metamask/superstruct":2797},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.clearStateHandler=void 0;const r=e("@metamask/rpc-errors"),s=e("@metamask/superstruct"),a=e("../restricted/manageState.cjs");n.clearStateHandler={methodNames:["snap_clearState"],implementation:async function(e,t,n,o,{clearSnapState:c,hasPermission:u}){const{params:l}=e;if(!u(a.manageStateBuilder.targetName))return o(r.providerErrors.unauthorized());try{const e=function(e){try{return(0,s.create)(e,i)}catch(e){if(e instanceof s.StructError)throw r.rpcErrors.invalidParams({message:`Invalid params: ${e.message}.`});throw r.rpcErrors.internal()}}(l),{encrypted:n=!0}=e;c(n),t.result=null}catch(e){return o(e)}return o()},hookNames:{clearSnapState:!0,hasPermission:!0}};const i=(0,s.object)({encrypted:(0,s.optional)((0,s.boolean)())})}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/permitted/clearState.cjs"}],[2591,{"@metamask/rpc-errors":2336,"@metamask/snaps-sdk":2632,"@metamask/superstruct":2797},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createInterfaceHandler=void 0;const r=e("@metamask/rpc-errors"),s=e("@metamask/snaps-sdk"),a=e("@metamask/superstruct");n.createInterfaceHandler={methodNames:["snap_createInterface"],implementation:async function(e,t,n,s,{createInterface:o}){const{params:c}=e;try{const e=function(e){try{return(0,a.create)(e,i)}catch(e){if(e instanceof a.StructError)throw r.rpcErrors.invalidParams({message:`Invalid params: ${e.message}.`});throw r.rpcErrors.internal()}}(c),{ui:n,context:s}=e;t.result=await o(n,s)}catch(e){return s(e)}return s()},hookNames:{createInterface:!0}};const i=(0,a.object)({ui:s.ComponentOrElementStruct,context:(0,a.optional)(s.InterfaceContextStruct)})}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/permitted/createInterface.cjs"}],[2592,{"../endowments/index.cjs":2576,"@metamask/rpc-errors":2336,"@metamask/superstruct":2797,"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.providerRequestHandler=void 0;const r=e("@metamask/rpc-errors"),s=e("@metamask/superstruct"),a=e("@metamask/utils"),i=e("../endowments/index.cjs"),o=Object.freeze(["eth_blockNumber","eth_call","eth_chainId","eth_coinbase","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleByBlockHashAndIndex","eth_getUncleByBlockNumberAndIndex","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_getWork","eth_hashrate","eth_mining","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_protocolVersion","eth_sendRawTransaction","eth_submitHashrate","eth_submitWork","eth_syncing","eth_uninstallFilter","net_listening","net_peerCount","net_version","web3_clientVersion","web3_sha3"]);n.providerRequestHandler={methodNames:["snap_experimentalProviderRequest"],implementation:async function(e,t,n,u,{hasPermission:l,getNetworkConfigurationByChainId:d,getNetworkClientById:m}){if(!l(i.SnapEndowments.EthereumProvider))return u(r.rpcErrors.methodNotFound());const{params:p}=e;try{const{chainId:e,request:n}=function(e){try{return(0,s.create)(e,c)}catch(e){if(e instanceof s.StructError)throw r.rpcErrors.invalidParams({message:`Invalid params: ${e.message}.`});throw r.rpcErrors.internal()}}(p);if(!o.includes(n.method))return u(r.rpcErrors.methodNotFound());const i=(0,a.parseCaipChainId)(e);if("eip155"!==i.namespace)return u(r.rpcErrors.invalidParams({message:"Only EVM networks are currently supported."}));const l=BigInt(i.reference),h=d((0,a.bigIntToHex)(l));if(!h)return u(r.rpcErrors.invalidParams({message:"The requested network is not available."}));const f=m(h.rpcEndpoints[h.defaultRpcEndpointIndex].networkClientId),{provider:g}=f;t.result=await g.request(n)}catch(e){return u(e)}return u()},hookNames:{hasPermission:!0,getNetworkConfigurationByChainId:!0,getNetworkClientById:!0}};const c=(0,s.object)({chainId:a.CaipChainIdStruct,request:(0,s.type)({method:(0,s.string)(),params:(0,s.optional)(a.JsonRpcParamsStruct)})})}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/permitted/experimentalProviderRequest.cjs"}],[2593,{"@metamask/rpc-errors":2336},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getAllSnapsHandler=void 0;const r=e("@metamask/rpc-errors");n.getAllSnapsHandler={methodNames:["wallet_getAllSnaps"],implementation:async function(e,t,n,s,{getAllSnaps:a}){const{origin:i}=e;if("https://snaps.metamask.io"!==i)return s(r.rpcErrors.methodNotFound());return t.result=await a(),s()},hookNames:{getAllSnaps:!0}}}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/permitted/getAllSnaps.cjs"}],[2594,{"../endowments/index.cjs":2576,"@metamask/rpc-errors":2336},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getBackgroundEventsHandler=void 0;const r=e("@metamask/rpc-errors"),s=e("../endowments/index.cjs");n.getBackgroundEventsHandler={methodNames:["snap_getBackgroundEvents"],implementation:async function(e,t,n,a,{getBackgroundEvents:i,hasPermission:o}){if(!o(s.SnapEndowments.Cronjob))return a(r.providerErrors.unauthorized());try{const e=i();t.result=e}catch(e){return a(e)}return a()},hookNames:{getBackgroundEvents:!0,hasPermission:!0}}}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/permitted/getBackgroundEvents.cjs"}],[2595,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getClientStatusHandler=void 0;n.getClientStatusHandler={methodNames:["snap_getClientStatus"],implementation:async function(e,t,n,r,{getIsLocked:s}){return t.result={locked:s()},r()},hookNames:{getIsLocked:!0}}}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/permitted/getClientStatus.cjs"}],[2596,{"@metamask/rpc-errors":2336,"@metamask/snaps-utils":2774,"@metamask/superstruct":2797},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getCurrencyRateHandler=void 0;const r=e("@metamask/rpc-errors"),s=e("@metamask/snaps-utils"),a=e("@metamask/superstruct");n.getCurrencyRateHandler={methodNames:["snap_getCurrencyRate"],implementation:function(e,t,n,s,{getCurrencyRate:o}){const{params:c}=e;try{const e=function(e){try{return(0,a.create)(e,i)}catch(e){if(e instanceof a.StructError)throw r.rpcErrors.invalidParams({message:`Invalid params: ${e.message}.`});throw r.rpcErrors.internal()}}(c),{currency:n}=e;t.result=o(n)??null}catch(e){return s(e)}return s()},hookNames:{getCurrencyRate:!0}};const i=(0,a.object)({currency:(0,a.union)([(0,s.currency)("btc")])})}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/permitted/getCurrencyRate.cjs"}],[2597,{"@metamask/rpc-errors":2336,"@metamask/snaps-sdk":2632,"@metamask/superstruct":2797,"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getFileHandler=n.GetFileArgsStruct=void 0;const r=e("@metamask/rpc-errors"),s=e("@metamask/snaps-sdk"),a=e("@metamask/superstruct"),i=e("@metamask/utils");n.GetFileArgsStruct=(0,a.object)({path:(0,a.string)(),encoding:(0,a.optional)((0,a.union)([(0,s.enumValue)(s.AuxiliaryFileEncoding.Base64),(0,s.enumValue)(s.AuxiliaryFileEncoding.Hex),(0,s.enumValue)(s.AuxiliaryFileEncoding.Utf8)]))});n.getFileHandler={methodNames:["snap_getFile"],implementation:async function(e,t,a,o,{getSnapFile:c}){const{params:u}=e;(0,i.assertStruct)(u,n.GetFileArgsStruct,'Invalid "snap_getFile" parameters',r.rpcErrors.invalidParams);try{t.result=await c(u.path,u.encoding??s.AuxiliaryFileEncoding.Base64)}catch(e){return o(e)}return o()},hookNames:{getSnapFile:!0}}}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/permitted/getFile.cjs"}],[2598,{"@metamask/rpc-errors":2336,"@metamask/superstruct":2797},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getInterfaceContextHandler=void 0;const r=e("@metamask/rpc-errors"),s=e("@metamask/superstruct");n.getInterfaceContextHandler={methodNames:["snap_getInterfaceContext"],implementation:function(e,t,n,i,{getInterfaceContext:o}){const{params:c}=e;try{const e=function(e){try{return(0,s.create)(e,a)}catch(e){if(e instanceof s.StructError)throw r.rpcErrors.invalidParams({message:`Invalid params: ${e.message}.`});throw r.rpcErrors.internal()}}(c),{id:n}=e;t.result=o(n)}catch(e){return i(e)}return i()},hookNames:{getInterfaceContext:!0}};const a=(0,s.object)({id:(0,s.string)()})}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/permitted/getInterfaceContext.cjs"}],[2599,{"@metamask/rpc-errors":2336,"@metamask/superstruct":2797},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getInterfaceStateHandler=void 0;const r=e("@metamask/rpc-errors"),s=e("@metamask/superstruct");n.getInterfaceStateHandler={methodNames:["snap_getInterfaceState"],implementation:function(e,t,n,i,{getInterfaceState:o}){const{params:c}=e;try{const e=function(e){try{return(0,s.create)(e,a)}catch(e){if(e instanceof s.StructError)throw r.rpcErrors.invalidParams({message:`Invalid params: ${e.message}.`});throw r.rpcErrors.internal()}}(c),{id:n}=e;t.result=o(n)}catch(e){return i(e)}return i()},hookNames:{getInterfaceState:!0}};const a=(0,s.object)({id:(0,s.string)()})}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/permitted/getInterfaceState.cjs"}],[2600,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSnapsHandler=void 0;n.getSnapsHandler={methodNames:["wallet_getSnaps"],implementation:async function(e,t,n,r,{getSnaps:s}){return t.result=await s(),r()},hookNames:{getSnaps:!0}}}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/permitted/getSnaps.cjs"}],[2601,{"../restricted/manageState.cjs":2626,"../utils.cjs":2628,"@metamask/rpc-errors":2336,"@metamask/superstruct":2797,"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.get=n.getStateHandler=void 0;const r=e("@metamask/rpc-errors"),s=e("@metamask/superstruct"),a=e("@metamask/utils"),i=e("../restricted/manageState.cjs"),o=e("../utils.cjs");n.getStateHandler={methodNames:["snap_getState"],implementation:async function(e,t,n,a,{hasPermission:o,getSnapState:l,getUnlockPromise:d}){const{params:m}=e;if(!o(i.manageStateBuilder.targetName))return a(r.providerErrors.unauthorized());try{const e=function(e){try{return(0,s.create)(e,c)}catch(e){if(e instanceof s.StructError)throw r.rpcErrors.invalidParams({message:`Invalid params: ${e.message}.`});throw r.rpcErrors.internal()}}(m),{key:n,encrypted:a=!0}=e;a&&await d(!0);const i=await l(a);t.result=u(i,n)}catch(e){return a(e)}return a()},hookNames:{hasPermission:!0,getSnapState:!0,getUnlockPromise:!0}};const c=(0,s.object)({key:(0,s.optional)(o.StateKeyStruct),encrypted:(0,s.optional)((0,s.boolean)())});function u(e,t){if(t===undefined)return e;const n=t.split(".");let s=e;for(let e=0;e<n.length;e++){const t=n[e];if(o.FORBIDDEN_KEYS.includes(t))throw r.rpcErrors.invalidParams("Invalid params: Key contains forbidden characters.");if(!(0,a.isObject)(s))return null;if(!(0,a.hasProperty)(s,t))return null;s=s[t]}return s}n.get=u}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/permitted/getState.cjs"}],[2602,{"./cancelBackgroundEvent.cjs":2589,"./clearState.cjs":2590,"./createInterface.cjs":2591,"./experimentalProviderRequest.cjs":2592,"./getAllSnaps.cjs":2593,"./getBackgroundEvents.cjs":2594,"./getClientStatus.cjs":2595,"./getCurrencyRate.cjs":2596,"./getFile.cjs":2597,"./getInterfaceContext.cjs":2598,"./getInterfaceState.cjs":2599,"./getSnaps.cjs":2600,"./getState.cjs":2601,"./invokeKeyring.cjs":2604,"./invokeSnapSugar.cjs":2605,"./requestSnaps.cjs":2607,"./resolveInterface.cjs":2608,"./scheduleBackgroundEvent.cjs":2609,"./setState.cjs":2610,"./updateInterface.cjs":2611},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.handlers=n.methodHandlers=void 0;const r=e("./cancelBackgroundEvent.cjs"),s=e("./clearState.cjs"),a=e("./createInterface.cjs"),i=e("./experimentalProviderRequest.cjs"),o=e("./getAllSnaps.cjs"),c=e("./getBackgroundEvents.cjs"),u=e("./getClientStatus.cjs"),l=e("./getCurrencyRate.cjs"),d=e("./getFile.cjs"),m=e("./getInterfaceContext.cjs"),p=e("./getInterfaceState.cjs"),h=e("./getSnaps.cjs"),f=e("./getState.cjs"),g=e("./invokeKeyring.cjs"),y=e("./invokeSnapSugar.cjs"),b=e("./requestSnaps.cjs"),x=e("./resolveInterface.cjs"),v=e("./scheduleBackgroundEvent.cjs"),S=e("./setState.cjs"),w=e("./updateInterface.cjs");n.methodHandlers={wallet_getAllSnaps:o.getAllSnapsHandler,wallet_getSnaps:h.getSnapsHandler,wallet_requestSnaps:b.requestSnapsHandler,wallet_invokeSnap:y.invokeSnapSugarHandler,wallet_invokeKeyring:g.invokeKeyringHandler,snap_clearState:s.clearStateHandler,snap_getClientStatus:u.getClientStatusHandler,snap_getFile:d.getFileHandler,snap_getState:f.getStateHandler,snap_createInterface:a.createInterfaceHandler,snap_updateInterface:w.updateInterfaceHandler,snap_getInterfaceState:p.getInterfaceStateHandler,snap_getInterfaceContext:m.getInterfaceContextHandler,snap_resolveInterface:x.resolveInterfaceHandler,snap_getCurrencyRate:l.getCurrencyRateHandler,snap_experimentalProviderRequest:i.providerRequestHandler,snap_scheduleBackgroundEvent:v.scheduleBackgroundEventHandler,snap_cancelBackgroundEvent:r.cancelBackgroundEventHandler,snap_getBackgroundEvents:c.getBackgroundEventsHandler,snap_setState:S.setStateHandler},n.handlers=Object.values(n.methodHandlers)}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/permitted/handlers.cjs"}],[2603,{"./handlers.cjs":2602,"./middleware.cjs":2606},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./handlers.cjs"),n),s(e("./middleware.cjs"),n)}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/permitted/index.cjs"}],[2604,{"./invokeSnapSugar.cjs":2605,"@metamask/rpc-errors":2336,"@metamask/snaps-utils":2774,"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.invokeKeyringHandler=void 0;const r=e("@metamask/rpc-errors"),s=e("@metamask/snaps-utils"),a=e("@metamask/utils"),i=e("./invokeSnapSugar.cjs");n.invokeKeyringHandler={methodNames:["wallet_invokeKeyring"],implementation:async function(e,t,n,o,{handleSnapRpcRequest:c,hasPermission:u,getSnap:l,getAllowedKeyringMethods:d}){let m;try{m=(0,i.getValidatedParams)(e.params)}catch(e){return o(e)}const{origin:p}=e,{snapId:h,request:f}=m;if(!p||!u(s.WALLET_SNAP_PERMISSION_KEY))return o(r.rpcErrors.invalidRequest({message:`The snap "${h}" is not connected to "${p}". Please connect before invoking the snap.`}));if(!l(h))return o(r.rpcErrors.invalidRequest({message:`The snap "${h}" is not installed. Please install it first, before invoking the snap.`}));if(!(0,a.hasProperty)(f,"method")||"string"!=typeof f.method)return o(r.rpcErrors.invalidRequest({message:"The request must have a method."}));if(!d().includes(f.method))return o(r.rpcErrors.invalidRequest({message:`The origin "${p}" is not allowed to invoke the method "${f.method}".`}));try{t.result=await c({snapId:h,request:f,handler:s.HandlerType.OnKeyringRequest})}catch(e){return o(e)}return o()},hookNames:{hasPermission:!0,handleSnapRpcRequest:!0,getSnap:!0,getAllowedKeyringMethods:!0}}}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/permitted/invokeKeyring.cjs"}],[2605,{"@metamask/rpc-errors":2336,"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getValidatedParams=n.invokeSnapSugar=n.invokeSnapSugarHandler=void 0;const r=e("@metamask/rpc-errors"),s=e("@metamask/utils");async function a(e,t,n,r,{invokeSnap:s}){try{const n=i(e.params);t.result=await s(n)}catch(e){return r(e)}return r()}function i(e){if(!(0,s.isObject)(e))throw r.rpcErrors.invalidParams({message:"Expected params to be a single object."});const{snapId:t,request:n}=e;if(!t||"string"!=typeof t||""===t)throw r.rpcErrors.invalidParams({message:"Must specify a valid snap ID."});if(!(0,s.isObject)(n))throw r.rpcErrors.invalidParams({message:"Expected request to be a single object."});return e}n.invokeSnapSugarHandler={methodNames:["wallet_invokeSnap"],implementation:a,hookNames:{invokeSnap:!0}},n.invokeSnapSugar=a,n.getValidatedParams=i}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/permitted/invokeSnapSugar.cjs"}],[2606,{"../utils.cjs":2628,"./handlers.cjs":2602,"@metamask/rpc-errors":2336,"@metamask/snaps-utils":2774},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createSnapsMethodMiddleware=void 0;const r=e("@metamask/rpc-errors"),s=e("@metamask/snaps-utils"),a=e("../utils.cjs"),i=e("./handlers.cjs");n.createSnapsMethodMiddleware=function(e,t){return async function(n,o,c,u){const l=i.methodHandlers[n.method];if(l){if(String.prototype.startsWith.call(n.method,"snap_")&&!e)return u(r.rpcErrors.methodNotFound());const{implementation:i,hookNames:d}=l;try{return await i(n,o,c,u,(0,a.selectHooks)(t,d))}catch(e){return(0,s.logError)(e),u(e)}}return c()}}}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/permitted/middleware.cjs"}],[2607,{"../restricted/invokeSnap.cjs":2624,"@metamask/rpc-errors":2336,"@metamask/snaps-utils":2774,"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSnapPermissionsRequest=n.hasRequestedSnaps=n.requestSnapsHandler=void 0;const r=e("@metamask/rpc-errors"),s=e("@metamask/snaps-utils"),a=e("@metamask/utils"),i=e("../restricted/invokeSnap.cjs");function o(e,t){const n=e[i.WALLET_SNAP_PERMISSION_KEY]?.caveats?.find((e=>e.type===s.SnapCaveatType.SnapIds)),r=n?.value;return!!(0,a.isObject)(r)&&Object.keys(t).every((e=>(0,a.hasProperty)(r,e)))}function c(e,t){if((0,s.verifyRequestedSnapPermissions)(t),!e[i.WALLET_SNAP_PERMISSION_KEY])return t;const n=e[i.WALLET_SNAP_PERMISSION_KEY].caveats?.find((e=>e.type===s.SnapCaveatType.SnapIds)),r=n?.value??{},a=t[i.WALLET_SNAP_PERMISSION_KEY].caveats[0].value,o=[...new Set([...Object.keys(r),...Object.keys(a)])].reduce(((e,t)=>(e[t]=a[t]??r[t],e)),{});return t[i.WALLET_SNAP_PERMISSION_KEY].caveats[0].value=o,t}n.requestSnapsHandler={methodNames:["wallet_requestSnaps"],implementation:async function(e,t,n,u,{installSnaps:l,requestPermissions:d,getPermissions:m}){const p=e.params;if(!(0,a.isObject)(p))return u(r.rpcErrors.invalidParams({message:'"params" must be an object.'}));try{if(0===Object.keys(p).length)return u(r.rpcErrors.invalidParams({message:"Request must have at least one requested snap."}));const e={[i.WALLET_SNAP_PERMISSION_KEY]:{caveats:[{type:s.SnapCaveatType.SnapIds,value:p}]}},n=await m();if(n)if(o(n,p))t.result=await l(p);else{const r=c(n,e),[,s]=await d(r);t.result=s.data[i.WALLET_SNAP_PERMISSION_KEY]}else{const[,n]=await d(e);t.result=n.data[i.WALLET_SNAP_PERMISSION_KEY]}}catch(e){t.error=e}return u()},hookNames:{installSnaps:!0,requestPermissions:!0,getPermissions:!0}},n.hasRequestedSnaps=o,n.getSnapPermissionsRequest=c}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/permitted/requestSnaps.cjs"}],[2608,{"@metamask/rpc-errors":2336,"@metamask/superstruct":2797,"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.resolveInterfaceHandler=void 0;const r=e("@metamask/rpc-errors"),s=e("@metamask/superstruct"),a=e("@metamask/utils");n.resolveInterfaceHandler={methodNames:["snap_resolveInterface"],implementation:async function(e,t,n,a,{resolveInterface:o}){const{params:c}=e;try{const e=function(e){try{return(0,s.create)(e,i)}catch(e){if(e instanceof s.StructError)throw r.rpcErrors.invalidParams({message:`Invalid params: ${e.message}.`});throw r.rpcErrors.internal()}}(c),{id:n,value:a}=e;await o(n,a),t.result=null}catch(e){return a(e)}return a()},hookNames:{resolveInterface:!0}};const i=(0,s.object)({id:(0,s.string)(),value:a.JsonStruct})}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/permitted/resolveInterface.cjs"}],[2609,{"../endowments/index.cjs":2576,"@metamask/rpc-errors":2336,"@metamask/snaps-sdk":2632,"@metamask/snaps-utils":2774,"@metamask/superstruct":2797,"@metamask/utils":2872,luxon:4797},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.scheduleBackgroundEventHandler=void 0;const r=e("@metamask/rpc-errors"),s=e("@metamask/snaps-sdk"),a=e("@metamask/snaps-utils"),i=e("@metamask/superstruct"),o=e("@metamask/utils"),c=e("luxon"),u=e("../endowments/index.cjs");n.scheduleBackgroundEventHandler={methodNames:["snap_scheduleBackgroundEvent"],implementation:async function(e,t,n,s,{scheduleBackgroundEvent:a,hasPermission:l}){const{params:d}=e;if(!l(u.SnapEndowments.Cronjob))return s(r.providerErrors.unauthorized());try{const e=function(e){try{return(0,i.create)(e,p)}catch(e){if(e instanceof i.StructError)throw r.rpcErrors.invalidParams({message:`Invalid params: ${e.message}.`});throw r.rpcErrors.internal()}}(d),{request:n}=e,s=function(e){if("duration"in e)return c.DateTime.fromJSDate(new Date).toUTC().plus(c.Duration.fromISO(e.duration));return c.DateTime.fromISO(e.date,{setZone:!0})}(e),u=s.startOf("second").toISO({suppressMilliseconds:!0});(0,o.assert)(u);const l=a({date:u,request:n});t.result=l}catch(e){return s(e)}return s()},hookNames:{scheduleBackgroundEvent:!0,hasPermission:!0}};const l=/Z|([+-]\d{2}:?\d{2})$/u,d=(0,i.object)({date:(0,i.refine)((0,i.string)(),"date",(e=>c.DateTime.fromISO(e).isValid?!!l.test(e)||"ISO 8601 date must have timezone information":"Not a valid ISO 8601 date")),request:a.CronjobRpcRequestStruct}),m=(0,i.object)({duration:(0,i.refine)((0,i.string)(),"duration",(e=>!!c.Duration.fromISO(e).isValid||"Not a valid ISO 8601 duration")),request:a.CronjobRpcRequestStruct}),p=(0,s.selectiveUnion)((e=>(0,o.hasProperty)(e,"date")?d:m))}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/permitted/scheduleBackgroundEvent.cjs"}],[2610,{"../restricted/manageState.cjs":2626,"../utils.cjs":2628,"@metamask/rpc-errors":2336,"@metamask/superstruct":2797,"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.set=n.setStateHandler=void 0;const r=e("@metamask/rpc-errors"),s=e("@metamask/superstruct"),a=e("@metamask/utils"),i=e("../restricted/manageState.cjs"),o=e("../utils.cjs");n.setStateHandler={methodNames:["snap_setState"],implementation:async function(e,t,n,o,{hasPermission:l,getSnapState:d,getUnlockPromise:m,updateSnapState:p}){const{params:h}=e;if(!l(i.manageStateBuilder.targetName))return o(r.providerErrors.unauthorized());try{const e=function(e){try{return(0,s.create)(e,c)}catch(e){if(e instanceof s.StructError)throw r.rpcErrors.invalidParams({message:`Invalid params: ${e.message}.`});throw r.rpcErrors.internal()}}(h),{key:n,value:l,encrypted:f=!0}=e;if(n===undefined&&!(0,a.isObject)(l))return o(r.rpcErrors.invalidParams("Invalid params: Value must be an object if key is not provided."));f&&await m(!0);const g=await async function(e,t,n,r){if(e===undefined)return(0,a.assert)((0,a.isObject)(t)),t;const s=await r(n);return u(s,e,t)}(n,l,f,d);if((0,a.getJsonSize)(g)>i.STORAGE_SIZE_LIMIT)throw r.rpcErrors.invalidParams({message:`Invalid params: The new state must not exceed ${i.STORAGE_SIZE_LIMIT/1e6} MB in size.`});await p(g,f),t.result=null}catch(e){return o(e)}return o()},hookNames:{hasPermission:!0,getSnapState:!0,getUnlockPromise:!0,updateSnapState:!0}};const c=(0,s.object)({key:(0,s.optional)(o.StateKeyStruct),value:a.JsonStruct,encrypted:(0,s.optional)((0,s.boolean)())});function u(e,t,n){const s=t.split("."),i=e??{};let c=i;for(let e=0;e<s.length;e++){const t=s[e];if(o.FORBIDDEN_KEYS.includes(t))throw r.rpcErrors.invalidParams("Invalid params: Key contains forbidden characters.");if(e===s.length-1)return c[t]=n,i;if((0,a.hasProperty)(c,t)&&null!==c[t]){if(!(0,a.isObject)(c[t]))throw r.rpcErrors.invalidParams("Invalid params: Cannot overwrite non-object value.")}else c[t]={};c=c[t]}throw new Error("Unexpected error while setting the state.")}n.set=u}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/permitted/setState.cjs"}],[2611,{"@metamask/rpc-errors":2336,"@metamask/snaps-sdk":2632,"@metamask/superstruct":2797},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.updateInterfaceHandler=void 0;const r=e("@metamask/rpc-errors"),s=e("@metamask/snaps-sdk"),a=e("@metamask/superstruct");n.updateInterfaceHandler={methodNames:["snap_updateInterface"],implementation:async function(e,t,n,s,{updateInterface:o}){const{params:c}=e;try{const e=function(e){try{return(0,a.create)(e,i)}catch(e){if(e instanceof a.StructError)throw r.rpcErrors.invalidParams({message:`Invalid params: ${e.message}.`});throw r.rpcErrors.internal()}}(c),{id:n,ui:s,context:u}=e;await o(n,s,u),t.result=null}catch(e){return s(e)}return s()},hookNames:{updateInterface:!0}};const i=(0,a.object)({id:(0,a.string)(),ui:s.ComponentOrElementStruct,context:(0,a.optional)(s.InterfaceContextStruct)})}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/permitted/updateInterface.cjs"}],[2612,{"../getBip32Entropy.cjs":2617,"../getBip32PublicKey.cjs":2618,"../getBip44Entropy.cjs":2619,"../invokeSnap.cjs":2624,"./permittedCoinTypes.cjs":2613,"./permittedDerivationPaths.cjs":2614,"./snapIds.cjs":2615},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.caveatMappers=n.caveatSpecifications=void 0;const r=e("../getBip32Entropy.cjs"),s=e("../getBip32PublicKey.cjs"),a=e("../getBip44Entropy.cjs"),i=e("../invokeSnap.cjs"),o=e("./permittedCoinTypes.cjs"),c=e("./permittedDerivationPaths.cjs"),u=e("./snapIds.cjs");n.caveatSpecifications={...c.PermittedDerivationPathsCaveatSpecification,...o.PermittedCoinTypesCaveatSpecification,...u.SnapIdsCaveatSpecification},n.caveatMappers={[r.getBip32EntropyBuilder.targetName]:c.permittedDerivationPathsCaveatMapper,[s.getBip32PublicKeyBuilder.targetName]:c.permittedDerivationPathsCaveatMapper,[a.getBip44EntropyBuilder.targetName]:o.permittedCoinTypesCaveatMapper,[i.invokeSnapBuilder.targetName]:u.snapIdsCaveatMapper}}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/restricted/caveats/index.cjs"}],[2613,{"@metamask/rpc-errors":2336,"@metamask/snaps-utils":2774,"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PermittedCoinTypesCaveatSpecification=n.validateBIP44Caveat=n.validateBIP44Params=n.permittedCoinTypesCaveatMapper=void 0;const r=e("@metamask/rpc-errors"),s=e("@metamask/snaps-utils"),a=e("@metamask/utils");function i(e){if(!(0,a.isPlainObject)(e)||!(0,a.hasProperty)(e,"coinType"))throw r.rpcErrors.invalidParams({message:"Expected a plain object containing a coin type."});if("number"!=typeof e.coinType||!Number.isInteger(e.coinType)||e.coinType<0||e.coinType>2147483647)throw r.rpcErrors.invalidParams({message:'Invalid "coinType" parameter. Coin type must be a non-negative integer.'});if(s.FORBIDDEN_COIN_TYPES.includes(e.coinType))throw r.rpcErrors.invalidParams({message:`Coin type ${e.coinType} is forbidden.`})}function o(e){if(!(0,a.hasProperty)(e,"value")||!Array.isArray(e.value)||0===e.value.length)throw r.rpcErrors.invalidParams({message:"Expected non-empty array of coin types."});e.value.forEach(i)}n.permittedCoinTypesCaveatMapper=function(e){return{caveats:[{type:s.SnapCaveatType.PermittedCoinTypes,value:e}]}},n.validateBIP44Params=i,n.validateBIP44Caveat=o,n.PermittedCoinTypesCaveatSpecification={[s.SnapCaveatType.PermittedCoinTypes]:Object.freeze({type:s.SnapCaveatType.PermittedCoinTypes,decorator:(e,t)=>async n=>{const{params:s}=n;i(s);if(!t.value.find((e=>e.coinType===s.coinType)))throw r.providerErrors.unauthorized({message:"The requested coin type is not permitted. Allowed coin types must be specified in the snap manifest."});return await e(n)},validator:e=>o(e)})}}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/restricted/caveats/permittedCoinTypes.cjs"}],[2614,{"@metamask/rpc-errors":2336,"@metamask/snaps-utils":2774,"@metamask/superstruct":2797,"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PermittedDerivationPathsCaveatSpecification=n.validateBIP32CaveatPaths=n.validateBIP32Path=n.permittedDerivationPathsCaveatMapper=void 0;const r=e("@metamask/rpc-errors"),s=e("@metamask/snaps-utils"),a=e("@metamask/superstruct"),i=e("@metamask/utils");function o(e){(0,i.assertStruct)(e,s.Bip32EntropyStruct,"Invalid BIP-32 entropy path definition",r.rpcErrors.invalidParams)}function c(e){(0,i.assertStruct)(e,(0,a.type)({value:(0,a.size)((0,a.array)(s.Bip32EntropyStruct),1,Infinity)}),"Invalid BIP-32 entropy caveat",r.rpcErrors.internal)}n.permittedDerivationPathsCaveatMapper=function(e){return{caveats:[{type:s.SnapCaveatType.PermittedDerivationPaths,value:e}]}},n.validateBIP32Path=o,n.validateBIP32CaveatPaths=c,n.PermittedDerivationPathsCaveatSpecification={[s.SnapCaveatType.PermittedDerivationPaths]:Object.freeze({type:s.SnapCaveatType.PermittedDerivationPaths,decorator:(e,t)=>async n=>{const{params:a}=n;o(a);if(!t.value.find((e=>(0,s.isEqual)(a.path.slice(0,e.path.length),e.path)&&e.curve===a.curve)))throw r.providerErrors.unauthorized({message:"The requested path is not permitted. Allowed paths must be specified in the snap manifest."});return await e(n)},validator:e=>c(e)})}}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/restricted/caveats/permittedDerivationPaths.cjs"}],[2615,{"@metamask/rpc-errors":2336,"@metamask/snaps-utils":2774,"@metamask/superstruct":2797,"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapIdsCaveatSpecification=n.validateSnapIdsCaveat=n.snapIdsCaveatMapper=void 0;const r=e("@metamask/rpc-errors"),s=e("@metamask/snaps-utils"),a=e("@metamask/superstruct"),i=e("@metamask/utils");function o(e){(0,i.assertStruct)(e,(0,a.type)({value:s.SnapIdsStruct}),"Expected caveat to have a value property of a non-empty object of snap IDs.",r.rpcErrors.invalidParams)}n.snapIdsCaveatMapper=function(e){return{caveats:[{type:s.SnapCaveatType.SnapIds,value:e}]}},n.validateSnapIdsCaveat=o,n.SnapIdsCaveatSpecification={[s.SnapCaveatType.SnapIds]:Object.freeze({type:s.SnapCaveatType.SnapIds,validator:e=>o(e),decorator:(e,t)=>async n=>{const{params:r,context:{origin:s}}=n,a=t.value,{snapId:o}=r;if(!(0,i.hasProperty)(a,o))throw new Error(`${s} does not have permission to invoke ${o} snap.`);return await e(n)}})}}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/restricted/caveats/snapIds.cjs"}],[2616,{"@metamask/permission-controller":2169,"@metamask/rpc-errors":2336,"@metamask/snaps-sdk":2632,"@metamask/superstruct":2797,"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getDialogImplementation=n.dialogBuilder=n.DIALOG_APPROVAL_TYPES=void 0;const r=e("@metamask/permission-controller"),s=e("@metamask/rpc-errors"),a=e("@metamask/snaps-sdk"),i=e("@metamask/superstruct"),o=e("@metamask/utils"),c="snap_dialog";n.DIALOG_APPROVAL_TYPES={[a.DialogType.Alert]:`${c}:alert`,[a.DialogType.Confirmation]:`${c}:confirmation`,[a.DialogType.Prompt]:`${c}:prompt`,default:c};const u=(0,i.optional)((0,i.size)((0,i.string)(),1,40));n.dialogBuilder=Object.freeze({targetName:c,specificationBuilder:({allowedCaveats:e=null,methodHooks:t})=>({permissionType:r.PermissionType.RestrictedMethod,targetName:c,allowedCaveats:e,methodImplementation:k(t),subjectTypes:[r.SubjectType.Snap]}),methodHooks:{requestUserApproval:!0,createInterface:!0,getInterface:!0}});const l=(0,i.object)({type:(0,a.enumValue)(a.DialogType.Alert),content:a.ComponentOrElementStruct}),d=(0,i.object)({type:(0,a.enumValue)(a.DialogType.Alert),id:(0,i.string)()}),m=(0,a.selectiveUnion)((e=>(0,o.isPlainObject)(e)&&(0,o.hasProperty)(e,"id")?d:l)),p=(0,i.object)({type:(0,a.enumValue)(a.DialogType.Confirmation),content:a.ComponentOrElementStruct}),h=(0,i.object)({type:(0,a.enumValue)(a.DialogType.Confirmation),id:(0,i.string)()}),f=(0,a.selectiveUnion)((e=>(0,o.isPlainObject)(e)&&(0,o.hasProperty)(e,"id")?h:p)),g=(0,i.object)({type:(0,a.enumValue)(a.DialogType.Prompt),content:a.ComponentOrElementStruct,placeholder:u}),y=(0,i.object)({type:(0,a.enumValue)(a.DialogType.Prompt),id:(0,i.string)(),placeholder:u}),b=(0,a.selectiveUnion)((e=>(0,o.isPlainObject)(e)&&(0,o.hasProperty)(e,"id")?y:g)),x=(0,i.object)({content:a.ComponentOrElementStruct}),v=(0,i.object)({id:(0,i.string)()}),S=(0,a.selectiveUnion)((e=>(0,o.isPlainObject)(e)&&(0,o.hasProperty)(e,"id")?v:x)),w=(0,a.selectiveUnion)((e=>{if((0,o.isPlainObject)(e)&&(0,o.hasProperty)(e,"type"))switch(e.type){case a.DialogType.Alert:return m;case a.DialogType.Confirmation:return f;case a.DialogType.Prompt:return b;default:throw new Error(`The "type" property must be one of: ${Object.values(a.DialogType).join(", ")}.`)}return S}));function k({requestUserApproval:e,createInterface:t,getInterface:r}){return async function(c){const{params:u,context:{origin:l}}=c;if(!(0,o.isObject)(u))throw s.rpcErrors.invalidParams({message:"Invalid params: Expected params to be a single object."});const d=function(e){try{return(0,i.create)(e,w)}catch(e){throw s.rpcErrors.invalidParams({message:`Invalid params: ${e.message}`})}}(u),m=function(e){return function(e){return(0,o.hasProperty)(e,"type")?e.type:undefined}(e)===a.DialogType.Prompt}(d)?d.placeholder:undefined,p=(0,o.hasProperty)(d,"type")?d.type:"default",h=n.DIALOG_APPROVAL_TYPES[p];if((0,o.hasProperty)(d,"content")){const r=await t(l,d.content);return e({id:h===n.DIALOG_APPROVAL_TYPES.default?r:undefined,origin:l,type:h,requestData:{id:r,placeholder:m}})}return function(e,t,n){try{n(e,t)}catch(e){throw s.rpcErrors.invalidParams({message:`Invalid params: ${e.message}`})}}(l,d.id,r),e({id:h===n.DIALOG_APPROVAL_TYPES.default?d.id:undefined,origin:l,type:h,requestData:{id:d.id,placeholder:m}})}}n.getDialogImplementation=k}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/restricted/dialog.cjs"}],[2617,{"../utils.cjs":2628,"@metamask/permission-controller":2169,"@metamask/rpc-errors":2336,"@metamask/snaps-utils":2774,"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getBip32EntropyImplementation=n.getBip32EntropyBuilder=void 0;const r=e("@metamask/permission-controller"),s=e("@metamask/rpc-errors"),a=e("@metamask/snaps-utils"),i=e("@metamask/utils"),o=e("../utils.cjs"),c="snap_getBip32Entropy";function u({getMnemonic:e,getUnlockPromise:t,getClientCryptography:n}){return async function(r){await t(!0);const{params:s}=r;(0,i.assert)(s);return(await(0,o.getNode)({curve:s.curve,path:s.path,secretRecoveryPhrase:await e(),cryptographicFunctions:n()})).toJSON()}}n.getBip32EntropyBuilder=Object.freeze({targetName:c,specificationBuilder:({methodHooks:e})=>({permissionType:r.PermissionType.RestrictedMethod,targetName:c,allowedCaveats:[a.SnapCaveatType.PermittedDerivationPaths],methodImplementation:u(e),validator:({caveats:e})=>{if(1!==e?.length||e[0].type!==a.SnapCaveatType.PermittedDerivationPaths)throw s.rpcErrors.invalidParams({message:`Expected a single "${a.SnapCaveatType.PermittedDerivationPaths}" caveat.`})},subjectTypes:[r.SubjectType.Snap]}),methodHooks:{getMnemonic:!0,getUnlockPromise:!0,getClientCryptography:!0}}),n.getBip32EntropyImplementation=u}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/restricted/getBip32Entropy.cjs"}],[2618,{"../utils.cjs":2628,"@metamask/permission-controller":2169,"@metamask/rpc-errors":2336,"@metamask/snaps-utils":2774,"@metamask/superstruct":2797,"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getBip32PublicKeyImplementation=n.getBip32PublicKeyBuilder=n.Bip32PublicKeyArgsStruct=void 0;const r=e("@metamask/permission-controller"),s=e("@metamask/rpc-errors"),a=e("@metamask/snaps-utils"),i=e("@metamask/superstruct"),o=e("@metamask/utils"),c=e("../utils.cjs"),u="snap_getBip32PublicKey";n.Bip32PublicKeyArgsStruct=(0,a.bip32entropy)((0,i.object)({path:a.Bip32PathStruct,curve:a.CurveStruct,compressed:(0,i.optional)((0,i.boolean)())}));function l({getMnemonic:e,getUnlockPromise:t,getClientCryptography:r}){return async function(a){await t(!0),(0,o.assertStruct)(a.params,n.Bip32PublicKeyArgsStruct,"Invalid BIP-32 public key params",s.rpcErrors.invalidParams);const{params:i}=a,u=await(0,c.getNode)({curve:i.curve,path:i.path,secretRecoveryPhrase:await e(),cryptographicFunctions:r()});return i.compressed?u.compressedPublicKey:u.publicKey}}n.getBip32PublicKeyBuilder=Object.freeze({targetName:u,specificationBuilder:({methodHooks:e})=>({permissionType:r.PermissionType.RestrictedMethod,targetName:u,allowedCaveats:[a.SnapCaveatType.PermittedDerivationPaths],methodImplementation:l(e),validator:({caveats:e})=>{if(1!==e?.length||e[0].type!==a.SnapCaveatType.PermittedDerivationPaths)throw s.rpcErrors.invalidParams({message:`Expected a single "${a.SnapCaveatType.PermittedDerivationPaths}" caveat.`})},subjectTypes:[r.SubjectType.Snap]}),methodHooks:{getMnemonic:!0,getUnlockPromise:!0,getClientCryptography:!0}}),n.getBip32PublicKeyImplementation=l}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/restricted/getBip32PublicKey.cjs"}],[2619,{"@metamask/key-tree":1883,"@metamask/permission-controller":2169,"@metamask/rpc-errors":2336,"@metamask/snaps-utils":2774},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getBip44EntropyImplementation=n.getBip44EntropyBuilder=void 0;const r=e("@metamask/key-tree"),s=e("@metamask/permission-controller"),a=e("@metamask/rpc-errors"),i=e("@metamask/snaps-utils"),o="snap_getBip44Entropy";function c({getMnemonic:e,getUnlockPromise:t,getClientCryptography:n}){return async function(s){await t(!0);const a=s.params;return(await r.BIP44CoinTypeNode.fromDerivationPath([await e(),"bip32:44'",`bip32:${a.coinType}'`],"mainnet",n())).toJSON()}}n.getBip44EntropyBuilder=Object.freeze({targetName:o,specificationBuilder:({methodHooks:e})=>({permissionType:s.PermissionType.RestrictedMethod,targetName:o,allowedCaveats:[i.SnapCaveatType.PermittedCoinTypes],methodImplementation:c(e),validator:({caveats:e})=>{if(1!==e?.length||e[0].type!==i.SnapCaveatType.PermittedCoinTypes)throw a.rpcErrors.invalidParams({message:`Expected a single "${i.SnapCaveatType.PermittedCoinTypes}" caveat.`})},subjectTypes:[s.SubjectType.Snap]}),methodHooks:{getMnemonic:!0,getUnlockPromise:!0,getClientCryptography:!0}}),n.getBip44EntropyImplementation=c}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/restricted/getBip44Entropy.cjs"}],[2620,{"../utils.cjs":2628,"@metamask/permission-controller":2169,"@metamask/rpc-errors":2336,"@metamask/snaps-utils":2774,"@metamask/superstruct":2797,"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getEntropyBuilder=n.GetEntropyArgsStruct=void 0;const r=e("@metamask/permission-controller"),s=e("@metamask/rpc-errors"),a=e("@metamask/snaps-utils"),i=e("@metamask/superstruct"),o=e("@metamask/utils"),c=e("../utils.cjs"),u="snap_getEntropy";n.GetEntropyArgsStruct=(0,i.object)({version:(0,i.literal)(1),salt:(0,i.optional)((0,i.string)())});function l({getMnemonic:e,getUnlockPromise:t,getClientCryptography:r}){return async function(i){const{params:u,context:{origin:l}}=i;(0,o.assertStruct)(u,n.GetEntropyArgsStruct,'Invalid "snap_getEntropy" parameters',s.rpcErrors.invalidParams),await t(!0);const d=await e();return(0,c.deriveEntropy)({input:l,salt:u.salt,mnemonicPhrase:d,magic:a.SIP_6_MAGIC_VALUE,cryptographicFunctions:r()})}}n.getEntropyBuilder=Object.freeze({targetName:u,specificationBuilder:({allowedCaveats:e=null,methodHooks:t})=>({permissionType:r.PermissionType.RestrictedMethod,targetName:u,allowedCaveats:e,methodImplementation:l(t),subjectTypes:[r.SubjectType.Snap]}),methodHooks:{getMnemonic:!0,getUnlockPromise:!0,getClientCryptography:!0}})}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/restricted/getEntropy.cjs"}],[2621,{"@metamask/permission-controller":2169},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getImplementation=n.getLocaleBuilder=n.specificationBuilder=void 0;const r=e("@metamask/permission-controller"),s="snap_getLocale";n.specificationBuilder=({allowedCaveats:e=null,methodHooks:t})=>({permissionType:r.PermissionType.RestrictedMethod,targetName:s,allowedCaveats:e,methodImplementation:a(t),subjectTypes:[r.SubjectType.Snap]});function a({getPreferences:e}){return async function(t){return e().locale}}n.getLocaleBuilder=Object.freeze({targetName:s,specificationBuilder:n.specificationBuilder,methodHooks:{getPreferences:!0}}),n.getImplementation=a}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/restricted/getLocale.cjs"}],[2622,{"@metamask/permission-controller":2169},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getImplementation=n.getPreferencesBuilder=n.specificationBuilder=void 0;const r=e("@metamask/permission-controller"),s="snap_getPreferences";n.specificationBuilder=({allowedCaveats:e=null,methodHooks:t})=>({permissionType:r.PermissionType.RestrictedMethod,targetName:s,allowedCaveats:e,methodImplementation:a(t),subjectTypes:[r.SubjectType.Snap]});function a({getPreferences:e}){return async function(t){return e()}}n.getPreferencesBuilder=Object.freeze({targetName:s,specificationBuilder:n.specificationBuilder,methodHooks:{getPreferences:!0}}),n.getImplementation=a}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/restricted/getPreferences.cjs"}],[2623,{"./caveats/index.cjs":2612,"./dialog.cjs":2616,"./getBip32Entropy.cjs":2617,"./getBip32PublicKey.cjs":2618,"./getBip44Entropy.cjs":2619,"./getEntropy.cjs":2620,"./getLocale.cjs":2621,"./getPreferences.cjs":2622,"./invokeSnap.cjs":2624,"./manageAccounts.cjs":2625,"./manageState.cjs":2626,"./notify.cjs":2627},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),n.DIALOG_APPROVAL_TYPES=n.restrictedMethodPermissionBuilders=n.getEncryptionEntropy=n.WALLET_SNAP_PERMISSION_KEY=void 0;const a=e("./dialog.cjs"),i=e("./getBip32Entropy.cjs"),o=e("./getBip32PublicKey.cjs"),c=e("./getBip44Entropy.cjs"),u=e("./getEntropy.cjs"),l=e("./getLocale.cjs"),d=e("./getPreferences.cjs"),m=e("./invokeSnap.cjs"),p=e("./manageAccounts.cjs"),h=e("./manageState.cjs"),f=e("./notify.cjs");var g=e("./invokeSnap.cjs");Object.defineProperty(n,"WALLET_SNAP_PERMISSION_KEY",{enumerable:!0,get:function(){return g.WALLET_SNAP_PERMISSION_KEY}});var y=e("./manageState.cjs");Object.defineProperty(n,"getEncryptionEntropy",{enumerable:!0,get:function(){return y.getEncryptionEntropy}}),n.restrictedMethodPermissionBuilders={[a.dialogBuilder.targetName]:a.dialogBuilder,[i.getBip32EntropyBuilder.targetName]:i.getBip32EntropyBuilder,[o.getBip32PublicKeyBuilder.targetName]:o.getBip32PublicKeyBuilder,[c.getBip44EntropyBuilder.targetName]:c.getBip44EntropyBuilder,[u.getEntropyBuilder.targetName]:u.getEntropyBuilder,[m.invokeSnapBuilder.targetName]:m.invokeSnapBuilder,[h.manageStateBuilder.targetName]:h.manageStateBuilder,[f.notifyBuilder.targetName]:f.notifyBuilder,[p.manageAccountsBuilder.targetName]:p.manageAccountsBuilder,[l.getLocaleBuilder.targetName]:l.getLocaleBuilder,[d.getPreferencesBuilder.targetName]:d.getPreferencesBuilder},s(e("./caveats/index.cjs"),n);var b=e("./dialog.cjs");Object.defineProperty(n,"DIALOG_APPROVAL_TYPES",{enumerable:!0,get:function(){return b.DIALOG_APPROVAL_TYPES}})}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/restricted/index.cjs"}],[2624,{"@metamask/permission-controller":2169,"@metamask/rpc-errors":2336,"@metamask/snaps-utils":2774},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getInvokeSnapImplementation=n.invokeSnapBuilder=n.handleSnapInstall=n.WALLET_SNAP_PERMISSION_KEY=void 0;const r=e("@metamask/permission-controller"),s=e("@metamask/rpc-errors"),a=e("@metamask/snaps-utils");n.WALLET_SNAP_PERMISSION_KEY="wallet_snap";n.handleSnapInstall=async({requestData:e,messagingSystem:t})=>{const r=e.permissions[n.WALLET_SNAP_PERMISSION_KEY].caveats?.[0].value,s=t.call("SnapController:getPermitted",e.metadata.origin),a=Object.keys(r).reduce(((e,t)=>(s[t]||(e[t]=r[t]),e)),{});return t.call("SnapController:install",e.metadata.origin,a)};function i({getSnap:e,handleSnapRpcRequest:t}){return async function(n){const{params:r={},context:i}=n,{snapId:o,request:c}=r;if(!e(o))throw s.rpcErrors.invalidRequest({message:`The snap "${o}" is not installed. Please install it first, before invoking the snap.`});const{origin:u}=i;return await t({snapId:o,origin:u,request:c,handler:a.HandlerType.OnRpcRequest})}}n.invokeSnapBuilder=Object.freeze({targetName:n.WALLET_SNAP_PERMISSION_KEY,specificationBuilder:({methodHooks:e})=>({permissionType:r.PermissionType.RestrictedMethod,targetName:n.WALLET_SNAP_PERMISSION_KEY,allowedCaveats:[a.SnapCaveatType.SnapIds],methodImplementation:i(e),validator:({caveats:e})=>{if(1!==e?.length||e[0].type!==a.SnapCaveatType.SnapIds)throw s.rpcErrors.invalidParams({message:`Expected a single "${a.SnapCaveatType.SnapIds}" caveat.`})},sideEffect:{onPermitted:n.handleSnapInstall}}),methodHooks:{getSnap:!0,handleSnapRpcRequest:!0}}),n.getInvokeSnapImplementation=i}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/restricted/invokeSnap.cjs"}],[2625,{"@metamask/permission-controller":2169,"@metamask/superstruct":2797,"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.manageAccountsBuilder=n.manageAccountsImplementation=n.specificationBuilder=n.methodName=void 0;const r=e("@metamask/permission-controller"),s=e("@metamask/superstruct"),a=e("@metamask/utils"),i=(0,s.union)([(0,s.object)({method:(0,s.string)()}),(0,s.object)({method:(0,s.string)(),params:(0,s.union)([(0,s.array)(a.JsonStruct),(0,s.record)((0,s.string)(),a.JsonStruct)])})]);n.methodName="snap_manageAccounts";function o({getSnapKeyring:e}){return async function(t){const{context:{origin:n},params:r}=t;(0,s.assert)(r,i);const a=await e(n);return await a.handleKeyringSnapMessage(n,r)}}n.specificationBuilder=({allowedCaveats:e=null,methodHooks:t})=>({permissionType:r.PermissionType.RestrictedMethod,targetName:n.methodName,allowedCaveats:e,methodImplementation:o(t),subjectTypes:[r.SubjectType.Snap]}),n.manageAccountsImplementation=o,n.manageAccountsBuilder=Object.freeze({targetName:n.methodName,specificationBuilder:n.specificationBuilder,methodHooks:{getSnapKeyring:!0}})}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/restricted/manageAccounts.cjs"}],[2626,{"../utils.cjs":2628,"@metamask/permission-controller":2169,"@metamask/rpc-errors":2336,"@metamask/snaps-sdk":2632,"@metamask/snaps-utils":2774,"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getValidatedParams=n.getManageStateImplementation=n.getEncryptionEntropy=n.STORAGE_SIZE_LIMIT=n.manageStateBuilder=n.specificationBuilder=n.STATE_ENCRYPTION_SALT=void 0;const r=e("@metamask/permission-controller"),s=e("@metamask/rpc-errors"),a=e("@metamask/snaps-sdk"),i=e("@metamask/snaps-utils"),o=e("@metamask/utils"),c=e("../utils.cjs");n.STATE_ENCRYPTION_SALT="snap_manageState encryption";const u="snap_manageState";n.specificationBuilder=({allowedCaveats:e=null,methodHooks:t})=>({permissionType:r.PermissionType.RestrictedMethod,targetName:u,allowedCaveats:e,methodImplementation:l(t),subjectTypes:[r.SubjectType.Snap]});function l({getUnlockPromise:e,clearSnapState:t,getSnapState:n,updateSnapState:r}){return async function(i){const{params:o={},method:c,context:{origin:u}}=i,l=d(o,c),m=l.encrypted??!0;switch(m&&l.operation!==a.ManageStateOperation.ClearState&&await e(!0),l.operation){case a.ManageStateOperation.ClearState:return t(u,m),null;case a.ManageStateOperation.GetState:return await n(u,m);case a.ManageStateOperation.UpdateState:return await r(u,l.newState,m),null;default:throw s.rpcErrors.invalidParams(`Invalid ${c} operation: "${l.operation}"`)}}}function d(e,t,r=n.STORAGE_SIZE_LIMIT){if(!(0,o.isObject)(e))throw s.rpcErrors.invalidParams({message:"Expected params to be a single object."});const{operation:i,newState:c,encrypted:u}=e;if(!i||"string"!=typeof i||!Object.values(a.ManageStateOperation).includes(i))throw s.rpcErrors.invalidParams({message:'Must specify a valid manage state "operation".'});if(u!==undefined&&"boolean"!=typeof u)throw s.rpcErrors.invalidParams({message:'"encrypted" parameter must be a boolean if specified.'});if(i===a.ManageStateOperation.UpdateState){if(!(0,o.isObject)(c))throw s.rpcErrors.invalidParams({message:`Invalid ${t} "newState" parameter: The new state must be a plain object.`});let e;try{e=(0,o.getJsonSize)(c)}catch{throw s.rpcErrors.invalidParams({message:`Invalid ${t} "newState" parameter: The new state must be JSON serializable.`})}if(e>r)throw s.rpcErrors.invalidParams({message:`Invalid ${t} "newState" parameter: The new state must not exceed ${r/1e6} MB in size.`})}return e}n.manageStateBuilder=Object.freeze({targetName:u,specificationBuilder:n.specificationBuilder,methodHooks:{getUnlockPromise:!0,clearSnapState:!0,getSnapState:!0,updateSnapState:!0}}),n.STORAGE_SIZE_LIMIT=64e6,n.getEncryptionEntropy=async function({mnemonicPhrase:e,snapId:t,cryptographicFunctions:r}){return await(0,c.deriveEntropy)({mnemonicPhrase:e,input:t,salt:n.STATE_ENCRYPTION_SALT,magic:i.STATE_ENCRYPTION_MAGIC_VALUE,cryptographicFunctions:r})},n.getManageStateImplementation=l,n.getValidatedParams=d}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/restricted/manageState.cjs"}],[2627,{"@metamask/permission-controller":2169,"@metamask/rpc-errors":2336,"@metamask/snaps-sdk":2632,"@metamask/snaps-utils":2774,"@metamask/superstruct":2797,"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getValidatedParams=n.getImplementation=n.notifyBuilder=n.specificationBuilder=void 0;const r=e("@metamask/permission-controller"),s=e("@metamask/rpc-errors"),a=e("@metamask/snaps-sdk"),i=e("@metamask/snaps-utils"),o=e("@metamask/superstruct"),c=e("@metamask/utils"),u="snap_notify",l=(0,o.object)({type:(0,a.enumValue)(a.NotificationType.Native),message:(0,o.string)()}),d=(0,o.object)({type:(0,a.enumValue)(a.NotificationType.InApp),message:(0,o.string)()}),m=(0,o.object)({type:(0,a.enumValue)(a.NotificationType.InApp),message:(0,o.string)(),content:a.ComponentOrElementStruct,title:(0,o.string)(),footerLink:(0,o.optional)((0,o.object)({href:(0,o.string)(),text:(0,o.string)()}))}),p=(0,a.union)([d,m,l]);n.specificationBuilder=({allowedCaveats:e=null,methodHooks:t})=>({permissionType:r.PermissionType.RestrictedMethod,targetName:u,allowedCaveats:e,methodImplementation:h(t),subjectTypes:[r.SubjectType.Snap]});function h({showNativeNotification:e,showInAppNotification:t,isOnPhishingList:n,maybeUpdatePhishingList:r,createInterface:i,getSnap:o}){return async function(u){const{params:l,context:{origin:d}}=u;await r();const m=f(l,n,o);if((0,c.hasProperty)(m,"content")){const e=await i(d,m.content,undefined,a.ContentType.Notification);m.content=e}switch(m.type){case a.NotificationType.Native:return await e(d,m);case a.NotificationType.InApp:return await t(d,m);default:throw s.rpcErrors.invalidParams({message:'Must specify a valid notification "type".'})}}}function f(e,t,n){if(!(0,c.isObject)(e))throw s.rpcErrors.invalidParams({message:"Expected params to be a single object."});const{type:r,message:o}=e;if(!r||"string"!=typeof r||!Object.values(a.NotificationType).includes(r))throw s.rpcErrors.invalidParams({message:'Must specify a valid notification "type".'});const u=!o||"string"!=typeof o;if(r===a.NotificationType.Native&&(u||o.length>=50))throw s.rpcErrors.invalidParams({message:'Must specify a non-empty string "message" less than 50 characters long.'});if(r===a.NotificationType.InApp&&(u||o.length>=500))throw s.rpcErrors.invalidParams({message:'Must specify a non-empty string "message" less than 500 characters long.'});try{const r=(0,i.createUnion)(e,p,"type");return(0,i.validateTextLinks)(r.message,t,n),(0,c.hasProperty)(r,"footerLink")&&(0,i.validateLink)(r.footerLink.href,t,n),r}catch(e){throw s.rpcErrors.invalidParams({message:`Invalid params: ${(0,a.getErrorMessage)(e)}`})}}n.notifyBuilder=Object.freeze({targetName:u,specificationBuilder:n.specificationBuilder,methodHooks:{showNativeNotification:!0,showInAppNotification:!0,isOnPhishingList:!0,maybeUpdatePhishingList:!0,createInterface:!0,getSnap:!0}}),n.getImplementation=h,n.getValidatedParams=f}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/restricted/notify.cjs"}],[2628,{"@metamask/key-tree":1883,"@metamask/superstruct":2797,"@metamask/utils":2872,"@noble/hashes/sha3":2931},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.StateKeyStruct=n.isValidStateKey=n.getNode=n.getPathPrefix=n.deriveEntropy=n.selectHooks=n.FORBIDDEN_KEYS=void 0;const r=e("@metamask/key-tree"),s=e("@metamask/superstruct"),a=e("@metamask/utils"),i=e("@noble/hashes/sha3"),o=2147483648;function c(e){switch(e){case"secp256k1":return"bip32";case"ed25519":return"slip10";case"ed25519Bip32":return"cip3";default:return(0,a.assertExhaustive)(e)}}function u(e){return e===undefined||e.split(".").every((e=>e.length>0))}n.FORBIDDEN_KEYS=["constructor","__proto__","prototype"],n.selectHooks=function(e,t){return t?Object.keys(t).reduce(((t,n)=>{const r=n;return t[r]=e[r],t}),{}):undefined},n.deriveEntropy=async function({input:e,salt:t="",mnemonicPhrase:n,magic:s,cryptographicFunctions:c}){const u=(0,a.stringToBytes)(e),l=(0,a.stringToBytes)(t),d=function(e){const t=[],n=(0,a.createDataView)(e);for(let e=0;e<8;e++){const r=(n.getUint32(4*e)|o)>>>0;t.push(`bip32:${r-o}'`)}return t}((0,i.keccak_256)((0,a.concatBytes)([u,(0,i.keccak_256)(l)]))),{privateKey:m}=await r.SLIP10Node.fromDerivationPath({derivationPath:[n,`bip32:${s}`,...d],curve:"secp256k1"},c);return(0,a.assert)(m,"Failed to derive the entropy."),(0,a.add0x)(m)},n.getPathPrefix=c,n.getNode=async function({curve:e,secretRecoveryPhrase:t,path:n,cryptographicFunctions:s}){const a=c(e);return await r.SLIP10Node.fromDerivationPath({curve:e,derivationPath:[t,...n.slice(1).map((e=>`${a}:${e}`))]},s)},n.isValidStateKey=u,n.StateKeyStruct=(0,s.refine)((0,s.string)(),"state key",(e=>!!u(e)||"Invalid state key. Each part of the key must be non-empty."))}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/utils.cjs"}],[2629,{"./internals/index.cjs":2636,"@metamask/rpc-errors":2336},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.UserRejectedRequestError=n.UnsupportedMethodError=n.UnauthorizedError=n.DisconnectedError=n.ChainDisconnectedError=n.TransactionRejected=n.ResourceUnavailableError=n.ResourceNotFoundError=n.ParseError=n.MethodNotSupportedError=n.MethodNotFoundError=n.LimitExceededError=n.InvalidRequestError=n.InvalidParamsError=n.InvalidInputError=n.InternalError=void 0;const r=e("@metamask/rpc-errors"),s=e("./internals/index.cjs");n.InternalError=(0,s.createSnapError)(r.rpcErrors.internal),n.InvalidInputError=(0,s.createSnapError)(r.rpcErrors.invalidInput),n.InvalidParamsError=(0,s.createSnapError)(r.rpcErrors.invalidParams),n.InvalidRequestError=(0,s.createSnapError)(r.rpcErrors.invalidRequest),n.LimitExceededError=(0,s.createSnapError)(r.rpcErrors.limitExceeded),n.MethodNotFoundError=(0,s.createSnapError)(r.rpcErrors.methodNotFound),n.MethodNotSupportedError=(0,s.createSnapError)(r.rpcErrors.methodNotSupported),n.ParseError=(0,s.createSnapError)(r.rpcErrors.parse),n.ResourceNotFoundError=(0,s.createSnapError)(r.rpcErrors.resourceNotFound),n.ResourceUnavailableError=(0,s.createSnapError)(r.rpcErrors.resourceUnavailable),n.TransactionRejected=(0,s.createSnapError)(r.rpcErrors.transactionRejected),n.ChainDisconnectedError=(0,s.createSnapError)(r.providerErrors.chainDisconnected),n.DisconnectedError=(0,s.createSnapError)(r.providerErrors.disconnected),n.UnauthorizedError=(0,s.createSnapError)(r.providerErrors.unauthorized),n.UnsupportedMethodError=(0,s.createSnapError)(r.providerErrors.unsupportedMethod),n.UserRejectedRequestError=(0,s.createSnapError)(r.providerErrors.userRejectedRequest)}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/error-wrappers.cjs"}],[2630,{"./internals/index.cjs":2636},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,s,a,i,o=this&&this.__classPrivateFieldSet||function(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n},c=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SnapError=void 0;const u=e("./internals/index.cjs");class l extends Error{constructor(e,t={}){const n=(0,u.getErrorMessage)(e);super(n),r.set(this,void 0),s.set(this,void 0),a.set(this,void 0),i.set(this,void 0),o(this,s,n,"f"),o(this,r,(0,u.getErrorCode)(e),"f");const c={...(0,u.getErrorData)(e),...t};Object.keys(c).length>0&&o(this,a,c,"f"),o(this,i,super.stack,"f")}get name(){return"SnapError"}get code(){return c(this,r,"f")}get message(){return c(this,s,"f")}get data(){return c(this,a,"f")}get stack(){return c(this,i,"f")}toJSON(){return{code:u.SNAP_ERROR_CODE,message:u.SNAP_ERROR_MESSAGE,data:{cause:{code:this.code,message:this.message,stack:this.stack,...this.data?{data:this.data}:{}}}}}serialize(){return this.toJSON()}}n.SnapError=l,r=new WeakMap,s=new WeakMap,a=new WeakMap,i=new WeakMap}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/errors.cjs"}],[2631,{"./ui/index.cjs":2751,"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getImageComponent=n.getImageData=void 0;const r=e("@metamask/utils"),s=e("./ui/index.cjs");async function a(e,t){const n=await async function(e,t){if("function"!=typeof fetch)throw new Error(`Failed to fetch image data from "${e}": Using this function requires the "endowment:network-access" permission.`);return fetch(e,t).then((async t=>{if(!t.ok)throw new Error(`Failed to fetch image data from "${e}": ${t.status} ${t.statusText}`);const n=await t.blob();return(0,r.assert)("image/jpeg"===n.type||"image/png"===n.type,"Expected image data to be a JPEG or PNG image."),n}))}(e,t),s=new Uint8Array(await n.arrayBuffer());return`data:${n.type};base64,${(0,r.bytesToBase64)(s)}`}n.getImageData=a,n.getImageComponent=async function(e,{width:t,height:n=t,request:i}){(0,r.assert)("number"==typeof t&&t>0,"Expected width to be a number greater than 0."),(0,r.assert)("number"==typeof n&&n>0,"Expected height to be a number greater than 0.");const o=await a(e,i),c=`width="${t}" height="${n}"`;return(0,s.image)(`<svg ${c.trim()} xmlns="http://www.w3.org/2000/svg"><image ${c.trim()} href="${o}" /></svg>`)}}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/images.cjs"}],[2632,{"./error-wrappers.cjs":2629,"./errors.cjs":2630,"./images.cjs":2631,"./internals/index.cjs":2636,"./types/index.cjs":2700,"./ui/index.cjs":2751,"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),n.assert=n.selectiveUnion=n.typedUnion=n.enumValue=n.union=n.literal=n.SNAP_ERROR_MESSAGE=n.SNAP_ERROR_CODE=n.getErrorStack=n.getErrorMessage=n.getErrorData=void 0;var a=e("./internals/index.cjs");Object.defineProperty(n,"getErrorData",{enumerable:!0,get:function(){return a.getErrorData}}),Object.defineProperty(n,"getErrorMessage",{enumerable:!0,get:function(){return a.getErrorMessage}}),Object.defineProperty(n,"getErrorStack",{enumerable:!0,get:function(){return a.getErrorStack}}),Object.defineProperty(n,"SNAP_ERROR_CODE",{enumerable:!0,get:function(){return a.SNAP_ERROR_CODE}}),Object.defineProperty(n,"SNAP_ERROR_MESSAGE",{enumerable:!0,get:function(){return a.SNAP_ERROR_MESSAGE}}),Object.defineProperty(n,"literal",{enumerable:!0,get:function(){return a.literal}}),Object.defineProperty(n,"union",{enumerable:!0,get:function(){return a.union}}),Object.defineProperty(n,"enumValue",{enumerable:!0,get:function(){return a.enumValue}}),Object.defineProperty(n,"typedUnion",{enumerable:!0,get:function(){return a.typedUnion}}),Object.defineProperty(n,"selectiveUnion",{enumerable:!0,get:function(){return a.selectiveUnion}});var i=e("@metamask/utils");Object.defineProperty(n,"assert",{enumerable:!0,get:function(){return i.assert}}),s(e("./errors.cjs"),n),s(e("./error-wrappers.cjs"),n),s(e("./images.cjs"),n),s(e("./types/index.cjs"),n),s(e("./ui/index.cjs"),n)}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/index.cjs"}],[2633,{"../errors.cjs":2630},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createSnapError=void 0;const r=e("../errors.cjs");n.createSnapError=function(e){return class extends r.SnapError{constructor(t,n){if("object"==typeof t){const n=e();return void super({code:n.code,message:n.message,data:t})}const r=e(t);super({code:r.code,message:r.message,data:n})}}}}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/internals/error-wrappers.cjs"}],[2634,{"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getErrorData=n.getErrorCode=n.getErrorStack=n.getErrorMessage=n.SNAP_ERROR_MESSAGE=n.SNAP_ERROR_CODE=void 0;const r=e("@metamask/utils");n.SNAP_ERROR_CODE=-31002,n.SNAP_ERROR_MESSAGE="Snap Error",n.getErrorMessage=function(e){return(0,r.isObject)(e)&&(0,r.hasProperty)(e,"message")&&"string"==typeof e.message?e.message:String(e)},n.getErrorStack=function(e){return(0,r.isObject)(e)&&(0,r.hasProperty)(e,"stack")&&"string"==typeof e.stack?e.stack:undefined},n.getErrorCode=function(e){return(0,r.isObject)(e)&&(0,r.hasProperty)(e,"code")&&"number"==typeof e.code&&Number.isInteger(e.code)?e.code:-32603},n.getErrorData=function(e){return(0,r.isObject)(e)&&(0,r.hasProperty)(e,"data")&&"object"==typeof e.data&&null!==e.data&&(0,r.isValidJson)(e.data)&&!Array.isArray(e.data)?e.data:{}}}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/internals/errors.cjs"}],[2635,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/internals/helpers.cjs"}],[2636,{"./error-wrappers.cjs":2633,"./errors.cjs":2634,"./helpers.cjs":2635,"./jsx.cjs":2637,"./structs.cjs":2638,"./svg.cjs":2639},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./error-wrappers.cjs"),n),s(e("./errors.cjs"),n),s(e("./helpers.cjs"),n),s(e("./structs.cjs"),n),s(e("./jsx.cjs"),n),s(e("./svg.cjs"),n)}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/internals/index.cjs"}],[2637,{"./structs.cjs":2638},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.nullUnion=void 0;const r=e("./structs.cjs");n.nullUnion=function(e){return(0,r.union)(e)}}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/internals/jsx.cjs"}],[2638,{"@metamask/superstruct":2797,"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.selectiveUnion=n.typedUnion=n.enumValue=n.union=n.literal=void 0;const r=e("@metamask/superstruct"),s=e("@metamask/utils");function a(e){return(0,r.define)(JSON.stringify(e),(0,r.literal)(e).validator)}n.literal=a,n.union=function([e,...t]){const n=(0,r.union)([e,...t]);return new r.Struct({...n,schema:[e,...t]})},n.enumValue=function(e){return a(e)},n.typedUnion=function(e){const t=e.map((e=>"union"===e.type&&Array.isArray(e.schema)?e.schema:e)).flat(Infinity),n=t.map((({schema:e})=>e.type.type));return new r.Struct({type:"union",schema:t,*entries(e,n){if(!(0,s.isPlainObject)(e)||!(0,s.hasProperty)(e,"type"))return;const{type:a}=e,i=t.find((({schema:e})=>(0,r.is)(a,e.type)));if(i)for(const t of i.entries(e,n))yield t},coercer(e,n){if(!(0,s.isPlainObject)(e)||!(0,s.hasProperty)(e,"type"))return e;const{type:a}=e,i=t.find((({schema:e})=>(0,r.is)(a,e.type)));return i?i.coercer(e,n):e},*refiner(e,n){const s=t.find((({schema:t})=>(0,r.is)(e.type,t.type)));yield*s.refiner(e,n)},validator(e,a){if(!(0,s.isPlainObject)(e)||!(0,s.hasProperty)(e,"type")||"string"!=typeof e.type)return`Expected type to be one of: ${n.join(", ")}, but received: undefined`;const{type:i}=e,o=t.find((({schema:e})=>(0,r.is)(i,e.type)));return o?o.validator(e,a):`Expected type to be one of: ${n.join(", ")}, but received: "${i}"`}})},n.selectiveUnion=function(e){return new r.Struct({type:"union",schema:null,*entries(t,n){const r=e(t);for(const e of r.entries(t,n))yield e},*refiner(t,n){const r=e(t);yield*r.refiner(t,n)},coercer:(t,n)=>e(t).coercer(t,n),validator:(t,n)=>e(t).validator(t,n)})}}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/internals/structs.cjs"}],[2639,{"@metamask/superstruct":2797},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.svg=void 0;const r=e("@metamask/superstruct");n.svg=function(){return(0,r.refine)((0,r.string)(),"SVG",(e=>!!e.includes("<svg")||"Value is not a valid SVG."))}}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/internals/svg.cjs"}],[2640,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e){return Object.fromEntries(Object.entries(e).filter((([,e])=>e!==undefined)))}Object.defineProperty(n,"__esModule",{value:!0}),n.createSnapComponent=void 0,n.createSnapComponent=function(e){return t=>{const{key:n=null,...s}=t;return{type:e,props:r(s),key:n}}}}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/component.cjs"}],[2641,{"../component.cjs":2640},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Address=void 0;const r=e("../component.cjs");n.Address=(0,r.createSnapComponent)("Address")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/Address.cjs"}],[2642,{"../component.cjs":2640},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Avatar=void 0;const r=e("../component.cjs");n.Avatar=(0,r.createSnapComponent)("Avatar")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/Avatar.cjs"}],[2643,{"../component.cjs":2640},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Banner=void 0;const r=e("../component.cjs");n.Banner=(0,r.createSnapComponent)("Banner")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/Banner.cjs"}],[2644,{"../component.cjs":2640},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Box=void 0;const r=e("../component.cjs");n.Box=(0,r.createSnapComponent)("Box")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/Box.cjs"}],[2645,{"../component.cjs":2640},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Card=void 0;const r=e("../component.cjs");n.Card=(0,r.createSnapComponent)("Card")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/Card.cjs"}],[2646,{"../component.cjs":2640},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Container=void 0;const r=e("../component.cjs");n.Container=(0,r.createSnapComponent)("Container")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/Container.cjs"}],[2647,{"../component.cjs":2640},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Copyable=void 0;const r=e("../component.cjs");n.Copyable=(0,r.createSnapComponent)("Copyable")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/Copyable.cjs"}],[2648,{"../component.cjs":2640},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Divider=void 0;const r=e("../component.cjs");n.Divider=(0,r.createSnapComponent)("Divider")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/Divider.cjs"}],[2649,{"../component.cjs":2640},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Footer=void 0;const r=e("../component.cjs");n.Footer=(0,r.createSnapComponent)("Footer")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/Footer.cjs"}],[2650,{"../component.cjs":2640},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Heading=void 0;const r=e("../component.cjs");n.Heading=(0,r.createSnapComponent)("Heading")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/Heading.cjs"}],[2651,{"../component.cjs":2640},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Icon=n.IconName=void 0;const r=e("../component.cjs");var s;!function(e){e.AddSquare="add-square",e.Add="add",e.Arrow2Down="arrow-2-down",e.Arrow2Left="arrow-2-left",e.Arrow2Right="arrow-2-right",e.Arrow2Up="arrow-2-up",e.Arrow2UpRight="arrow-2-up-right",e.ArrowDoubleLeft="arrow-double-left",e.ArrowDoubleRight="arrow-double-right",e.ArrowDown="arrow-down",e.ArrowLeft="arrow-left",e.ArrowRight="arrow-right",e.ArrowUp="arrow-up",e.BankToken="bank-token",e.Bank="bank",e.Book="book",e.Bookmark="bookmark",e.Bridge="bridge",e.Calculator="calculator",e.CardPos="card-pos",e.CardToken="card-token",e.Card="card",e.Category="category",e.Chart="chart",e.CheckBold="check-bold",e.Check="check",e.Clock="clock",e.Close="close",e.CodeCircle="code-circle",e.Coin="coin",e.Confirmation="confirmation",e.Connect="connect",e.CopySuccess="copy-success",e.Copy="copy",e.Customize="customize",e.Danger="danger",e.Dark="dark",e.Data="data",e.Diagram="diagram",e.DocumentCode="document-code",e.DragDrop="drag-drop",e.DraggingAnimation="dragging-animation",e.PinningAnimation="pinning-animation",e.Edit="edit",e.Eraser="eraser",e.Ethereum="ethereum",e.Expand="expand",e.Explore="explore",e.Export="export",e.EyeSlash="eye-slash",e.Eye="eye",e.Filter="filter",e.Flag="flag",e.FlashSlash="flash-slash",e.Flash="flash",e.FullCircle="full-circle",e.Gas="gas",e.GlobalSearch="global-search",e.Global="global",e.Graph="graph",e.Hardware="hardware",e.Heart="heart",e.Hierarchy="hierarchy",e.Home="home",e.Import="import",e.Info="info",e.Key="key",e.Light="light",e.Link="link",e.Loading="loading",e.LockCircle="lock-circle",e.LockSlash="lock-slash",e.Lock="lock",e.Login="login",e.Logout="logout",e.Menu="menu",e.MessageQuestion="message-question",e.Messages="messages",e.MinusBold="minus-bold",e.MinusSquare="minus-square",e.Minus="minus",e.Mobile="mobile",e.Money="money",e.Monitor="monitor",e.MoreHorizontal="more-horizontal",e.MoreVertical="more-vertical",e.NotificationCircle="notification-circle",e.Notification="notification",e.PasswordCheck="password-check",e.People="people",e.Pin="pin",e.ProgrammingArrows="programming-arrows",e.Custody="custody",e.Question="question",e.Received="received",e.Refresh="refresh",e.Save="save",e.ScanBarcode="scan-barcode",e.ScanFocus="scan-focus",e.Scan="scan",e.Scroll="scroll",e.Search="search",e.SecurityCard="security-card",e.SecurityCross="security-cross",e.SecurityKey="security-key",e.SecuritySearch="security-search",e.SecuritySlash="security-slash",e.SecurityTick="security-tick",e.SecurityTime="security-time",e.SecurityUser="security-user",e.Security="security",e.Send1="send-1",e.Send2="send-2",e.Setting="setting",e.Slash="slash",e.SnapsMobile="snaps-mobile",e.SnapsPlus="snaps-plus",e.Snaps="snaps",e.Speedometer="speedometer",e.Star="star",e.Stake="stake",e.Student="student",e.SwapHorizontal="swap-horizontal",e.SwapVertical="swap-vertical",e.Tag="tag",e.Tilde="tilde",e.Timer="timer",e.Trash="trash",e.TrendDown="trend-down",e.TrendUp="trend-up",e.UserCircleAdd="user-circle-add",e.UserCircleLink="user-circle-link",e.UserCircleRemove="user-circle-remove",e.UserCircle="user-circle",e.User="user",e.WalletCard="wallet-card",e.WalletMoney="wallet-money",e.Wallet="wallet",e.Warning="warning",e.Twitter="twitter",e.QrCode="qr-code",e.UserCheck="user-check",e.Unpin="unpin",e.Ban="ban",e.Bold="bold",e.CircleX="circle-x",e.Download="download",e.FileIcon="file",e.Flask="flask",e.Plug="plug",e.Share="share",e.Square="square",e.Tint="tint",e.Upload="upload",e.Usb="usb",e.Wifi="wifi",e.PlusMinus="plus-minus"}(s||(n.IconName=s={}));n.Icon=(0,r.createSnapComponent)("Icon")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/Icon.cjs"}],[2652,{"../component.cjs":2640},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Image=void 0;const r=e("../component.cjs");n.Image=(0,r.createSnapComponent)("Image")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/Image.cjs"}],[2653,{"../component.cjs":2640},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Link=void 0;const r=e("../component.cjs");n.Link=(0,r.createSnapComponent)("Link")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/Link.cjs"}],[2654,{"../component.cjs":2640},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Row=void 0;const r=e("../component.cjs");n.Row=(0,r.createSnapComponent)("Row")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/Row.cjs"}],[2655,{"../component.cjs":2640},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Section=void 0;const r=e("../component.cjs");n.Section=(0,r.createSnapComponent)("Section")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/Section.cjs"}],[2656,{"../component.cjs":2640},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Skeleton=void 0;const r=e("../component.cjs");n.Skeleton=(0,r.createSnapComponent)("Skeleton")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/Skeleton.cjs"}],[2657,{"../component.cjs":2640},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Spinner=void 0;const r=e("../component.cjs");n.Spinner=(0,r.createSnapComponent)("Spinner")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/Spinner.cjs"}],[2658,{"../component.cjs":2640},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Text=void 0;const r=e("../component.cjs");n.Text=(0,r.createSnapComponent)("Text")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/Text.cjs"}],[2659,{"../component.cjs":2640},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Tooltip=void 0;const r=e("../component.cjs");n.Tooltip=(0,r.createSnapComponent)("Tooltip")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/Tooltip.cjs"}],[2660,{"../component.cjs":2640},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Value=void 0;const r=e("../component.cjs");n.Value=(0,r.createSnapComponent)("Value")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/Value.cjs"}],[2661,{"../../component.cjs":2640},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Button=void 0;const r=e("../../component.cjs");n.Button=(0,r.createSnapComponent)("Button")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/form/Button.cjs"}],[2662,{"../../component.cjs":2640},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Checkbox=void 0;const r=e("../../component.cjs");n.Checkbox=(0,r.createSnapComponent)("Checkbox")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/form/Checkbox.cjs"}],[2663,{"../../component.cjs":2640},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Dropdown=void 0;const r=e("../../component.cjs");n.Dropdown=(0,r.createSnapComponent)("Dropdown")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/form/Dropdown.cjs"}],[2664,{"../../component.cjs":2640},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Field=void 0;const r=e("../../component.cjs");n.Field=(0,r.createSnapComponent)("Field")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/form/Field.cjs"}],[2665,{"../../component.cjs":2640},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.FileInput=void 0;const r=e("../../component.cjs");n.FileInput=(0,r.createSnapComponent)("FileInput")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/form/FileInput.cjs"}],[2666,{"../../component.cjs":2640},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Form=void 0;const r=e("../../component.cjs");n.Form=(0,r.createSnapComponent)("Form")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/form/Form.cjs"}],[2667,{"../../component.cjs":2640},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Input=void 0;const r=e("../../component.cjs");n.Input=(0,r.createSnapComponent)("Input")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/form/Input.cjs"}],[2668,{"../../component.cjs":2640,"./Dropdown.cjs":2663},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Option=void 0;const r=e("../../component.cjs");e("./Dropdown.cjs");n.Option=(0,r.createSnapComponent)("Option")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/form/Option.cjs"}],[2669,{"../../component.cjs":2640},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Radio=void 0;const r=e("../../component.cjs");n.Radio=(0,r.createSnapComponent)("Radio")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/form/Radio.cjs"}],[2670,{"../../component.cjs":2640},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.RadioGroup=void 0;const r=e("../../component.cjs");n.RadioGroup=(0,r.createSnapComponent)("RadioGroup")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/form/RadioGroup.cjs"}],[2671,{"../../component.cjs":2640},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Selector=void 0;const r=e("../../component.cjs");n.Selector=(0,r.createSnapComponent)("Selector")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/form/Selector.cjs"}],[2672,{"../../component.cjs":2640},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SelectorOption=void 0;const r=e("../../component.cjs");n.SelectorOption=(0,r.createSnapComponent)("SelectorOption")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/form/SelectorOption.cjs"}],[2673,{"./Button.cjs":2661,"./Checkbox.cjs":2662,"./Dropdown.cjs":2663,"./Field.cjs":2664,"./FileInput.cjs":2665,"./Form.cjs":2666,"./Input.cjs":2667,"./Option.cjs":2668,"./Radio.cjs":2669,"./RadioGroup.cjs":2670,"./Selector.cjs":2671,"./SelectorOption.cjs":2672},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./Button.cjs"),n),s(e("./Checkbox.cjs"),n),s(e("./Dropdown.cjs"),n),s(e("./Option.cjs"),n),s(e("./Radio.cjs"),n),s(e("./RadioGroup.cjs"),n),s(e("./Field.cjs"),n),s(e("./FileInput.cjs"),n),s(e("./Form.cjs"),n),s(e("./Input.cjs"),n),s(e("./Selector.cjs"),n),s(e("./SelectorOption.cjs"),n)}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/form/index.cjs"}],[2674,{"../../component.cjs":2640,"../Text.cjs":2658},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Bold=void 0;const r=e("../../component.cjs");e("../Text.cjs");n.Bold=(0,r.createSnapComponent)("Bold")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/formatting/Bold.cjs"}],[2675,{"../../component.cjs":2640},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Italic=void 0;const r=e("../../component.cjs");n.Italic=(0,r.createSnapComponent)("Italic")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/formatting/Italic.cjs"}],[2676,{"./Bold.cjs":2674,"./Italic.cjs":2675},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./Bold.cjs"),n),s(e("./Italic.cjs"),n)}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/formatting/index.cjs"}],[2677,{"./Address.cjs":2641,"./Avatar.cjs":2642,"./Banner.cjs":2643,"./Box.cjs":2644,"./Card.cjs":2645,"./Container.cjs":2646,"./Copyable.cjs":2647,"./Divider.cjs":2648,"./Footer.cjs":2649,"./Heading.cjs":2650,"./Icon.cjs":2651,"./Image.cjs":2652,"./Link.cjs":2653,"./Row.cjs":2654,"./Section.cjs":2655,"./Skeleton.cjs":2656,"./Spinner.cjs":2657,"./Text.cjs":2658,"./Tooltip.cjs":2659,"./Value.cjs":2660,"./form/index.cjs":2673,"./formatting/index.cjs":2676,"./utils.cjs":2678},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./form/index.cjs"),n),s(e("./formatting/index.cjs"),n),s(e("./Address.cjs"),n),s(e("./Avatar.cjs"),n),s(e("./Box.cjs"),n),s(e("./Card.cjs"),n),s(e("./Copyable.cjs"),n),s(e("./Divider.cjs"),n),s(e("./Value.cjs"),n),s(e("./Heading.cjs"),n),s(e("./Icon.cjs"),n),s(e("./Image.cjs"),n),s(e("./Link.cjs"),n),s(e("./Row.cjs"),n),s(e("./Spinner.cjs"),n),s(e("./Text.cjs"),n),s(e("./Tooltip.cjs"),n),s(e("./Footer.cjs"),n),s(e("./Container.cjs"),n),s(e("./Section.cjs"),n),s(e("./Banner.cjs"),n),s(e("./Skeleton.cjs"),n),s(e("./utils.cjs"),n)}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/index.cjs"}],[2678,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/utils.cjs"}],[2679,{"./component.cjs":2640,"./components/index.cjs":2677,"./jsx-dev-runtime.cjs":2680,"./jsx-runtime.cjs":2681,"./validation.cjs":2682},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),n.FieldChildUnionStruct=n.FormChildStruct=n.BoxChildStruct=n.assertJSXElement=n.isJSXElementUnsafe=n.isJSXElement=n.RootJSXElementStruct=n.JSXElementStruct=void 0,s(e("./component.cjs"),n),s(e("./components/index.cjs"),n),s(e("./jsx-runtime.cjs"),n),s(e("./jsx-dev-runtime.cjs"),n);var a=e("./validation.cjs");Object.defineProperty(n,"JSXElementStruct",{enumerable:!0,get:function(){return a.JSXElementStruct}}),Object.defineProperty(n,"RootJSXElementStruct",{enumerable:!0,get:function(){return a.RootJSXElementStruct}}),Object.defineProperty(n,"isJSXElement",{enumerable:!0,get:function(){return a.isJSXElement}}),Object.defineProperty(n,"isJSXElementUnsafe",{enumerable:!0,get:function(){return a.isJSXElementUnsafe}}),Object.defineProperty(n,"assertJSXElement",{enumerable:!0,get:function(){return a.assertJSXElement}}),Object.defineProperty(n,"BoxChildStruct",{enumerable:!0,get:function(){return a.BoxChildStruct}}),Object.defineProperty(n,"FormChildStruct",{enumerable:!0,get:function(){return a.FormChildStruct}}),Object.defineProperty(n,"FieldChildUnionStruct",{enumerable:!0,get:function(){return a.FieldChildUnionStruct}})}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/index.cjs"}],[2680,{"./jsx-runtime.cjs":2681,"./validation.cjs":2682},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.jsxDEV=void 0;const r=e("./jsx-runtime.cjs"),s=e("./validation.cjs");n.jsxDEV=function(e,t,n){const a=(0,r.jsx)(e,t,n);return(0,s.assertJSXElement)(a),a}}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/jsx-dev-runtime.cjs"}],[2681,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e,t,n){if("string"==typeof e)throw new Error(`An HTML element ("${String(e)}") was used in a Snap component, which is not supported by Snaps UI. Please use one of the supported Snap components.`);if(!e)throw new Error("A JSX fragment was used in a Snap component, which is not supported by Snaps UI. Please use one of the supported Snap components.");return e({...t,key:n})}Object.defineProperty(n,"__esModule",{value:!0}),n.jsxs=n.jsx=void 0,n.jsx=r,n.jsxs=function(e,t,n){return r(e,t,n)}}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/jsx-runtime.cjs"}],[2682,{"../internals/index.cjs":2636,"./components/index.cjs":2677,"@metamask/superstruct":2797,"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ContainerStruct=n.BoxChildStruct=n.SpinnerStruct=n.RowStruct=n.BannerStruct=n.TooltipStruct=n.TooltipContentStruct=n.TooltipChildStruct=n.ValueStruct=n.TextStruct=n.SkeletonStruct=n.LinkStruct=n.HeadingStruct=n.DividerStruct=n.CopyableStruct=n.FooterStruct=n.FooterChildStruct=n.SectionStruct=n.FormStruct=n.FormChildStruct=n.BoxStruct=n.BoxChildrenStruct=n.AvatarStruct=n.FormattingStruct=n.ItalicStruct=n.BoldStruct=n.FieldStruct=n.FieldChildUnionStruct=n.FileInputStruct=n.RadioGroupStruct=n.RadioStruct=n.SelectorStruct=n.SelectorOptionStruct=n.CardStruct=n.AddressStruct=n.DropdownStruct=n.OptionStruct=n.InputStruct=n.NumberInputPropsStruct=n.PasswordInputPropsStruct=n.TextInputPropsStruct=n.GenericInputPropsStruct=n.CheckboxStruct=n.ButtonStruct=n.IconStruct=n.ImageStruct=n.BorderRadiusStruct=n.ElementStruct=n.StringElementStruct=n.KeyStruct=void 0,n.assertJSXElement=n.isJSXElementUnsafe=n.isJSXElement=n.JSXElementStruct=n.RootJSXElementStruct=void 0;const r=e("@metamask/superstruct"),s=e("@metamask/utils"),a=e("../internals/index.cjs"),i=e("./components/index.cjs");function o(e){return function(e){const t=(0,a.selectiveUnion)((n=>Array.isArray(n)?(0,r.array)((0,r.lazy)((()=>t))):e));return t}((0,r.nullable)((0,a.selectiveUnion)((t=>"boolean"==typeof t?(0,r.boolean)():1===e.length?e[0]:(0,a.nullUnion)(e)))))}function c(e){return(0,r.nullable)((0,a.selectiveUnion)((t=>"boolean"==typeof t?(0,r.boolean)():e)))}function u(e,t={}){return(0,r.object)({type:(0,a.literal)(e),props:(0,r.object)(t),key:(0,r.nullable)(n.KeyStruct)})}n.KeyStruct=(0,a.nullUnion)([(0,r.string)(),(0,r.number)()]),n.StringElementStruct=o([(0,r.string)()]),n.ElementStruct=(0,r.object)({type:(0,r.string)(),props:(0,r.record)((0,r.string)(),s.JsonStruct),key:(0,r.nullable)(n.KeyStruct)}),n.BorderRadiusStruct=(0,a.nullUnion)([(0,a.literal)("none"),(0,a.literal)("medium"),(0,a.literal)("full")]),n.ImageStruct=u("Image",{src:(0,a.svg)(),alt:(0,r.optional)((0,r.string)()),borderRadius:(0,r.optional)(n.BorderRadiusStruct)});const l=(0,a.nullUnion)(Object.values(i.IconName).map((e=>(0,a.literal)(e))));var d,m;n.IconStruct=u("Icon",{name:l,color:(0,r.optional)((0,a.nullUnion)([(0,a.literal)("default"),(0,a.literal)("primary"),(0,a.literal)("muted")])),size:(0,r.optional)((0,a.nullUnion)([(0,a.literal)("md"),(0,a.literal)("inherit")]))}),n.ButtonStruct=u("Button",{children:o([n.StringElementStruct,n.ImageStruct,n.IconStruct]),name:(0,r.optional)((0,r.string)()),type:(0,r.optional)((0,a.nullUnion)([(0,a.literal)("button"),(0,a.literal)("submit")])),variant:(0,r.optional)((0,a.nullUnion)([(0,a.literal)("primary"),(0,a.literal)("destructive")])),size:(0,r.optional)((0,a.nullUnion)([(0,a.literal)("sm"),(0,a.literal)("md")])),disabled:(0,r.optional)((0,r.boolean)()),loading:(0,r.optional)((0,r.boolean)()),form:(0,r.optional)((0,r.string)())}),n.CheckboxStruct=u("Checkbox",{name:(0,r.string)(),checked:(0,r.optional)((0,r.boolean)()),label:(0,r.optional)((0,r.string)()),variant:(0,r.optional)((0,a.nullUnion)([(0,a.literal)("default"),(0,a.literal)("toggle")])),disabled:(0,r.optional)((0,r.boolean)())}),n.GenericInputPropsStruct=(0,r.object)({name:(0,r.string)(),value:(0,r.optional)((0,r.string)()),placeholder:(0,r.optional)((0,r.string)()),disabled:(0,r.optional)((0,r.boolean)())}),n.TextInputPropsStruct=(0,r.assign)(n.GenericInputPropsStruct,(0,r.object)({type:(0,a.literal)("text")})),n.PasswordInputPropsStruct=(0,r.assign)(n.GenericInputPropsStruct,(0,r.object)({type:(0,a.literal)("password")})),n.NumberInputPropsStruct=(0,r.assign)(n.GenericInputPropsStruct,(0,r.object)({type:(0,a.literal)("number"),min:(0,r.optional)((0,r.number)()),max:(0,r.optional)((0,r.number)()),step:(0,r.optional)((0,r.number)())})),n.InputStruct=(d="Input",m=e=>{if((0,s.isPlainObject)(e)&&(0,s.hasProperty)(e,"type"))switch(e.type){case"text":return n.TextInputPropsStruct;case"password":return n.PasswordInputPropsStruct;case"number":return n.NumberInputPropsStruct;default:return n.GenericInputPropsStruct}return n.GenericInputPropsStruct},(0,r.object)({type:(0,a.literal)(d),props:(0,a.selectiveUnion)(m),key:(0,r.nullable)(n.KeyStruct)})),n.OptionStruct=u("Option",{value:(0,r.string)(),children:(0,r.string)(),disabled:(0,r.optional)((0,r.boolean)())}),n.DropdownStruct=u("Dropdown",{name:(0,r.string)(),value:(0,r.optional)((0,r.string)()),children:o([n.OptionStruct]),disabled:(0,r.optional)((0,r.boolean)())}),n.AddressStruct=u("Address",{address:(0,a.nullUnion)([s.HexChecksumAddressStruct,s.CaipAccountIdStruct]),truncate:(0,r.optional)((0,r.boolean)()),displayName:(0,r.optional)((0,r.boolean)()),avatar:(0,r.optional)((0,r.boolean)())}),n.CardStruct=u("Card",{image:(0,r.optional)((0,r.string)()),title:(0,a.selectiveUnion)((e=>"object"==typeof e?n.AddressStruct:(0,r.string)())),description:(0,r.optional)((0,r.string)()),value:(0,r.string)(),extra:(0,r.optional)((0,r.string)())}),n.SelectorOptionStruct=u("SelectorOption",{value:(0,r.string)(),children:n.CardStruct,disabled:(0,r.optional)((0,r.boolean)())}),n.SelectorStruct=u("Selector",{name:(0,r.string)(),title:(0,r.string)(),value:(0,r.optional)((0,r.string)()),children:o([n.SelectorOptionStruct]),disabled:(0,r.optional)((0,r.boolean)())}),n.RadioStruct=u("Radio",{value:(0,r.string)(),children:(0,r.string)(),disabled:(0,r.optional)((0,r.boolean)())}),n.RadioGroupStruct=u("RadioGroup",{name:(0,r.string)(),value:(0,r.optional)((0,r.string)()),children:o([n.RadioStruct]),disabled:(0,r.optional)((0,r.boolean)())}),n.FileInputStruct=u("FileInput",{name:(0,r.string)(),accept:(0,a.nullUnion)([(0,r.optional)((0,r.array)((0,r.string)()))]),compact:(0,r.optional)((0,r.boolean)()),disabled:(0,r.optional)((0,r.boolean)())});const p=[c((0,r.lazy)((()=>n.BoxChildStruct))),n.InputStruct],h=[n.InputStruct,c((0,r.lazy)((()=>n.BoxChildStruct)))],f=[c((0,r.lazy)((()=>n.BoxChildStruct))),n.InputStruct,c((0,r.lazy)((()=>n.BoxChildStruct)))],g=[n.InputStruct,n.DropdownStruct,n.RadioGroupStruct,n.FileInputStruct,n.CheckboxStruct,n.SelectorStruct];n.FieldChildUnionStruct=(0,a.nullUnion)([...g,...p,...h,...f]);const y=(0,a.selectiveUnion)((e=>{const t=Array.isArray(e);return t&&3===e.length?(0,r.tuple)(f):t&&2===e.length?"Box"===e[0]?.type?(0,r.tuple)(p):(0,r.tuple)(h):(0,a.typedUnion)(g)}));n.FieldStruct=u("Field",{label:(0,r.optional)((0,r.string)()),error:(0,r.optional)((0,r.string)()),children:y}),n.BoldStruct=u("Bold",{children:o([(0,r.string)(),(0,r.lazy)((()=>n.ItalicStruct))])}),n.ItalicStruct=u("Italic",{children:o([(0,r.string)(),(0,r.lazy)((()=>n.BoldStruct))])}),n.FormattingStruct=(0,a.typedUnion)([n.BoldStruct,n.ItalicStruct]),n.AvatarStruct=u("Avatar",{address:s.CaipAccountIdStruct,size:(0,r.optional)((0,a.nullUnion)([(0,a.literal)("sm"),(0,a.literal)("md"),(0,a.literal)("lg")]))}),n.BoxChildrenStruct=o([(0,r.lazy)((()=>n.BoxChildStruct))]),n.BoxStruct=u("Box",{children:n.BoxChildrenStruct,direction:(0,r.optional)((0,a.nullUnion)([(0,a.literal)("horizontal"),(0,a.literal)("vertical")])),alignment:(0,r.optional)((0,a.nullUnion)([(0,a.literal)("start"),(0,a.literal)("center"),(0,a.literal)("end"),(0,a.literal)("space-between"),(0,a.literal)("space-around")])),crossAlignment:(0,r.optional)((0,a.nullUnion)([(0,a.literal)("start"),(0,a.literal)("center"),(0,a.literal)("end")])),center:(0,r.optional)((0,r.boolean)())}),n.FormChildStruct=n.BoxChildrenStruct,n.FormStruct=u("Form",{children:n.FormChildStruct,name:(0,r.string)()});const b=(0,r.refine)(n.ButtonStruct,"FooterButton",(e=>{if("string"==typeof e.props.children||"boolean"==typeof e.props.children||null===e.props.children)return!0;if(Array.isArray(e.props.children)){if(!e.props.children.some((e=>"string"!=typeof e&&"boolean"!=typeof e&&null!==e)))return!0}return"Footer buttons may only contain text."}));function x(e){return(0,r.is)(e,n.JSXElementStruct)}n.SectionStruct=u("Section",{children:n.BoxChildrenStruct,direction:(0,r.optional)((0,a.nullUnion)([(0,a.literal)("horizontal"),(0,a.literal)("vertical")])),alignment:(0,r.optional)((0,a.nullUnion)([(0,a.literal)("start"),(0,a.literal)("center"),(0,a.literal)("end"),(0,a.literal)("space-between"),(0,a.literal)("space-around")]))}),n.FooterChildStruct=(0,a.selectiveUnion)((e=>Array.isArray(e)?(0,r.tuple)([b,b]):b)),n.FooterStruct=u("Footer",{children:n.FooterChildStruct}),n.CopyableStruct=u("Copyable",{value:(0,r.string)(),sensitive:(0,r.optional)((0,r.boolean)())}),n.DividerStruct=u("Divider"),n.HeadingStruct=u("Heading",{children:n.StringElementStruct,size:(0,r.optional)((0,a.nullUnion)([(0,a.literal)("sm"),(0,a.literal)("md"),(0,a.literal)("lg")]))}),n.LinkStruct=u("Link",{href:(0,r.string)(),children:o([n.FormattingStruct,(0,r.string)(),n.IconStruct,n.ImageStruct,n.AddressStruct])}),n.SkeletonStruct=u("Skeleton",{width:(0,r.optional)((0,r.union)([(0,r.number)(),(0,r.string)()])),height:(0,r.optional)((0,r.union)([(0,r.number)(),(0,r.string)()])),borderRadius:(0,r.optional)(n.BorderRadiusStruct)}),n.TextStruct=u("Text",{children:o([(0,a.selectiveUnion)((e=>"string"==typeof e?(0,r.string)():(0,a.typedUnion)([n.BoldStruct,n.ItalicStruct,n.LinkStruct,n.IconStruct,n.SkeletonStruct])))]),alignment:(0,r.optional)((0,a.nullUnion)([(0,a.literal)("start"),(0,a.literal)("center"),(0,a.literal)("end")])),color:(0,r.optional)((0,a.nullUnion)([(0,a.literal)("default"),(0,a.literal)("alternative"),(0,a.literal)("muted"),(0,a.literal)("error"),(0,a.literal)("success"),(0,a.literal)("warning")])),size:(0,r.optional)((0,a.nullUnion)([(0,a.literal)("sm"),(0,a.literal)("md")])),fontWeight:(0,r.optional)((0,a.nullUnion)([(0,a.literal)("regular"),(0,a.literal)("medium"),(0,a.literal)("bold")]))}),n.ValueStruct=u("Value",{value:(0,a.selectiveUnion)((e=>"string"==typeof e?(0,r.string)():n.TextStruct)),extra:(0,a.selectiveUnion)((e=>"string"==typeof e?(0,r.string)():n.TextStruct))}),n.TooltipChildStruct=(0,a.selectiveUnion)((e=>"boolean"==typeof e?(0,r.boolean)():(0,a.typedUnion)([n.TextStruct,n.BoldStruct,n.ItalicStruct,n.LinkStruct,n.ImageStruct,n.IconStruct]))),n.TooltipContentStruct=(0,a.selectiveUnion)((e=>"string"==typeof e?(0,r.string)():(0,a.typedUnion)([n.TextStruct,n.BoldStruct,n.ItalicStruct,n.LinkStruct,n.IconStruct]))),n.TooltipStruct=u("Tooltip",{children:(0,r.nullable)(n.TooltipChildStruct),content:n.TooltipContentStruct}),n.BannerStruct=u("Banner",{children:o([n.TextStruct,n.LinkStruct,n.IconStruct,n.ButtonStruct,n.BoldStruct,n.ItalicStruct,n.SkeletonStruct]),title:(0,r.string)(),severity:(0,r.union)([(0,a.literal)("danger"),(0,a.literal)("info"),(0,a.literal)("success"),(0,a.literal)("warning")])}),n.RowStruct=u("Row",{label:(0,r.string)(),children:(0,a.typedUnion)([n.AddressStruct,n.ImageStruct,n.TextStruct,n.ValueStruct,n.LinkStruct,n.SkeletonStruct]),variant:(0,r.optional)((0,a.nullUnion)([(0,a.literal)("default"),(0,a.literal)("warning"),(0,a.literal)("critical")])),tooltip:(0,r.optional)((0,r.string)())}),n.SpinnerStruct=u("Spinner"),n.BoxChildStruct=(0,a.typedUnion)([n.AddressStruct,n.BoldStruct,n.BoxStruct,n.ButtonStruct,n.CopyableStruct,n.DividerStruct,n.DropdownStruct,n.RadioGroupStruct,n.FieldStruct,n.FileInputStruct,n.FormStruct,n.HeadingStruct,n.InputStruct,n.ImageStruct,n.ItalicStruct,n.LinkStruct,n.RowStruct,n.SpinnerStruct,n.TextStruct,n.TooltipStruct,n.CheckboxStruct,n.CardStruct,n.IconStruct,n.SelectorStruct,n.SectionStruct,n.AvatarStruct,n.BannerStruct,n.SkeletonStruct]),n.ContainerStruct=u("Container",{children:(0,a.selectiveUnion)((e=>Array.isArray(e)?(0,r.tuple)([n.BoxChildStruct,n.FooterStruct]):n.BoxChildStruct)),backgroundColor:(0,r.optional)((0,a.nullUnion)([(0,a.literal)("default"),(0,a.literal)("alternative")]))}),n.RootJSXElementStruct=(0,a.typedUnion)([n.BoxChildStruct,n.ContainerStruct]),n.JSXElementStruct=(0,a.typedUnion)([n.ButtonStruct,n.InputStruct,n.FileInputStruct,n.FieldStruct,n.FormStruct,n.BoldStruct,n.ItalicStruct,n.AddressStruct,n.BoxStruct,n.CopyableStruct,n.DividerStruct,n.HeadingStruct,n.ImageStruct,n.LinkStruct,n.RowStruct,n.SpinnerStruct,n.TextStruct,n.DropdownStruct,n.OptionStruct,n.RadioGroupStruct,n.RadioStruct,n.ValueStruct,n.TooltipStruct,n.CheckboxStruct,n.FooterStruct,n.ContainerStruct,n.CardStruct,n.IconStruct,n.SelectorStruct,n.SelectorOptionStruct,n.SectionStruct,n.AvatarStruct,n.BannerStruct,n.SkeletonStruct]),n.isJSXElement=x,n.isJSXElementUnsafe=function(e){return(0,s.isPlainObject)(e)&&(0,s.hasProperty)(e,"type")&&(0,s.hasProperty)(e,"props")&&(0,s.hasProperty)(e,"key")},n.assertJSXElement=function(e){if(!x(e))throw new Error(`Expected a JSX element, but received ${JSON.stringify(e)}. Please refer to the documentation for the supported JSX elements and their props.`)}}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/validation.cjs"}],[2683,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/caip.cjs"}],[2684,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/global.cjs"}],[2685,{"@metamask/superstruct":2797,"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.OnAssetsConversionResponseStruct=n.AssetConversionStruct=void 0;const r=e("@metamask/superstruct"),s=e("@metamask/utils");n.AssetConversionStruct=(0,r.object)({rate:(0,r.string)(),conversionTime:(0,r.number)(),expirationTime:(0,r.optional)((0,r.number)())}),n.OnAssetsConversionResponseStruct=(0,r.object)({conversionRates:(0,r.record)(s.CaipAssetTypeStruct,(0,r.record)(s.CaipAssetTypeStruct,(0,r.nullable)(n.AssetConversionStruct)))})}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/handlers/assets-conversion.cjs"}],[2686,{"@metamask/superstruct":2797,"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.OnAssetsLookupResponseStruct=n.FungibleAssetMetadataStruct=n.AssetIconUrlStruct=n.FungibleAssetUnitStruct=void 0;const r=e("@metamask/superstruct"),s=e("@metamask/utils");n.FungibleAssetUnitStruct=(0,r.object)({name:(0,r.string)(),symbol:(0,r.string)(),decimals:(0,r.number)()}),n.AssetIconUrlStruct=(0,r.refine)((0,r.string)(),"Asset URL",(e=>{try{const t=new URL(e);return(0,s.assert)("https:"===t.protocol||e.startsWith("data:image/svg+xml;base64,")),!0}catch{return"Invalid URL"}})),n.FungibleAssetMetadataStruct=(0,r.object)({name:(0,r.string)(),symbol:(0,r.string)(),fungible:(0,r.literal)(!0),iconUrl:n.AssetIconUrlStruct,units:(0,r.size)((0,r.array)(n.FungibleAssetUnitStruct),1,Infinity)}),n.OnAssetsLookupResponseStruct=(0,r.object)({assets:(0,r.record)(s.CaipAssetTypeStruct,(0,r.nullable)(n.FungibleAssetMetadataStruct))})}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/handlers/assets-lookup.cjs"}],[2687,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/handlers/cronjob.cjs"}],[2688,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/handlers/home-page.cjs"}],[2689,{"./assets-conversion.cjs":2685,"./assets-lookup.cjs":2686,"./cronjob.cjs":2687,"./home-page.cjs":2688,"./keyring.cjs":2690,"./lifecycle.cjs":2691,"./name-lookup.cjs":2692,"./protocol.cjs":2693,"./rpc-request.cjs":2694,"./settings-page.cjs":2695,"./signature.cjs":2696,"./transaction.cjs":2697,"./user-input.cjs":2698},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./assets-conversion.cjs"),n),s(e("./assets-lookup.cjs"),n),s(e("./cronjob.cjs"),n),s(e("./home-page.cjs"),n),s(e("./keyring.cjs"),n),s(e("./lifecycle.cjs"),n),s(e("./name-lookup.cjs"),n),s(e("./protocol.cjs"),n),s(e("./rpc-request.cjs"),n),s(e("./transaction.cjs"),n),s(e("./signature.cjs"),n),s(e("./user-input.cjs"),n),s(e("./settings-page.cjs"),n)}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/handlers/index.cjs"}],[2690,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/handlers/keyring.cjs"}],[2691,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/handlers/lifecycle.cjs"}],[2692,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/handlers/name-lookup.cjs"}],[2693,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/handlers/protocol.cjs"}],[2694,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/handlers/rpc-request.cjs"}],[2695,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/handlers/settings-page.cjs"}],[2696,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/handlers/signature.cjs"}],[2697,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r;Object.defineProperty(n,"__esModule",{value:!0}),n.SeverityLevel=void 0,function(e){e.Critical="critical"}(r||(n.SeverityLevel=r={}))}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/handlers/transaction.cjs"}],[2698,{"@metamask/superstruct":2797},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.UserInputEventStruct=n.FileUploadEventStruct=n.InputChangeEventStruct=n.FormSubmitEventStruct=n.FileStruct=n.ButtonClickEventStruct=n.GenericEventStruct=n.UserInputEventType=void 0;const r=e("@metamask/superstruct");var s;!function(e){e.ButtonClickEvent="ButtonClickEvent",e.FormSubmitEvent="FormSubmitEvent",e.InputChangeEvent="InputChangeEvent",e.FileUploadEvent="FileUploadEvent"}(s||(n.UserInputEventType=s={})),n.GenericEventStruct=(0,r.object)({type:(0,r.string)(),name:(0,r.optional)((0,r.string)())}),n.ButtonClickEventStruct=(0,r.assign)(n.GenericEventStruct,(0,r.object)({type:(0,r.literal)(s.ButtonClickEvent),name:(0,r.optional)((0,r.string)())})),n.FileStruct=(0,r.object)({name:(0,r.string)(),size:(0,r.number)(),contentType:(0,r.string)(),contents:(0,r.string)()}),n.FormSubmitEventStruct=(0,r.assign)(n.GenericEventStruct,(0,r.object)({type:(0,r.literal)(s.FormSubmitEvent),value:(0,r.record)((0,r.string)(),(0,r.nullable)((0,r.union)([(0,r.string)(),n.FileStruct,(0,r.boolean)()]))),name:(0,r.string)()})),n.InputChangeEventStruct=(0,r.assign)(n.GenericEventStruct,(0,r.object)({type:(0,r.literal)(s.InputChangeEvent),name:(0,r.string)(),value:(0,r.union)([(0,r.string)(),(0,r.boolean)()])})),n.FileUploadEventStruct=(0,r.assign)(n.GenericEventStruct,(0,r.object)({type:(0,r.literal)(s.FileUploadEvent),name:(0,r.string)(),file:(0,r.nullable)(n.FileStruct)})),n.UserInputEventStruct=(0,r.union)([n.ButtonClickEventStruct,n.FormSubmitEventStruct,n.InputChangeEventStruct,n.FileUploadEventStruct])}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/handlers/user-input.cjs"}],[2699,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/images.cjs"}],[2700,{"./caip.cjs":2683,"./global.cjs":2684,"./handlers/index.cjs":2689,"./images.cjs":2699,"./interface.cjs":2701,"./methods/index.cjs":2720,"./permissions.cjs":2733,"./provider.cjs":2734,"./snap.cjs":2735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),e("./global.cjs"),e("./images.cjs"),s(e("./caip.cjs"),n),s(e("./handlers/index.cjs"),n),s(e("./methods/index.cjs"),n),s(e("./permissions.cjs"),n),s(e("./provider.cjs"),n),s(e("./snap.cjs"),n),s(e("./interface.cjs"),n)}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/index.cjs"}],[2701,{"../internals/index.cjs":2636,"../jsx/index.cjs":2679,"../ui/index.cjs":2751,"./handlers/index.cjs":2689,"@metamask/superstruct":2797,"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ContentType=n.InterfaceContextStruct=n.ComponentOrElementStruct=n.InterfaceStateStruct=n.FormStateStruct=n.StateStruct=void 0;const r=e("@metamask/superstruct"),s=e("@metamask/utils"),a=e("../internals/index.cjs"),i=e("../jsx/index.cjs"),o=e("../ui/index.cjs"),c=e("./handlers/index.cjs");var u;n.StateStruct=(0,r.union)([c.FileStruct,(0,r.string)(),(0,r.boolean)()]),n.FormStateStruct=(0,r.record)((0,r.string)(),(0,r.nullable)(n.StateStruct)),n.InterfaceStateStruct=(0,r.record)((0,r.string)(),(0,r.union)([n.FormStateStruct,(0,r.nullable)(n.StateStruct)])),n.ComponentOrElementStruct=(0,a.selectiveUnion)((e=>(0,s.isObject)(e)&&!(0,s.hasProperty)(e,"props")?o.ComponentStruct:i.RootJSXElementStruct)),n.InterfaceContextStruct=(0,r.record)((0,r.string)(),s.JsonStruct),function(e){e.Insight="Insight",e.Dialog="Dialog",e.Notification="Notification",e.HomePage="HomePage"}(u||(n.ContentType=u={}))}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/interface.cjs"}],[2702,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/methods/cancel-background-event.cjs"}],[2703,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/methods/clear-state.cjs"}],[2704,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/methods/create-interface.cjs"}],[2705,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r;Object.defineProperty(n,"__esModule",{value:!0}),n.DialogType=void 0,function(e){e.Alert="alert",e.Confirmation="confirmation",e.Prompt="prompt"}(r||(n.DialogType=r={}))}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/methods/dialog.cjs"}],[2706,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/methods/get-background-events.cjs"}],[2707,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/methods/get-bip32-entropy.cjs"}],[2708,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/methods/get-bip32-public-key.cjs"}],[2709,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/methods/get-bip44-entropy.cjs"}],[2710,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/methods/get-client-status.cjs"}],[2711,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/methods/get-currency-rate.cjs"}],[2712,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/methods/get-entropy.cjs"}],[2713,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r;Object.defineProperty(n,"__esModule",{value:!0}),n.AuxiliaryFileEncoding=void 0,function(e){e.Base64="base64",e.Hex="hex",e.Utf8="utf8"}(r||(n.AuxiliaryFileEncoding=r={}))}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/methods/get-file.cjs"}],[2714,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/methods/get-interface-context.cjs"}],[2715,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/methods/get-interface-state.cjs"}],[2716,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/methods/get-locale.cjs"}],[2717,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/methods/get-preferences.cjs"}],[2718,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/methods/get-snaps.cjs"}],[2719,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/methods/get-state.cjs"}],[2720,{"./cancel-background-event.cjs":2702,"./clear-state.cjs":2703,"./create-interface.cjs":2704,"./dialog.cjs":2705,"./get-background-events.cjs":2706,"./get-bip32-entropy.cjs":2707,"./get-bip32-public-key.cjs":2708,"./get-bip44-entropy.cjs":2709,"./get-client-status.cjs":2710,"./get-currency-rate.cjs":2711,"./get-entropy.cjs":2712,"./get-file.cjs":2713,"./get-interface-context.cjs":2714,"./get-interface-state.cjs":2715,"./get-locale.cjs":2716,"./get-preferences.cjs":2717,"./get-snaps.cjs":2718,"./get-state.cjs":2719,"./invoke-keyring.cjs":2721,"./invoke-snap.cjs":2722,"./manage-accounts.cjs":2723,"./manage-state.cjs":2724,"./methods.cjs":2725,"./notify.cjs":2726,"./provider-request.cjs":2727,"./request-snaps.cjs":2728,"./resolve-interface.cjs":2729,"./schedule-background-event.cjs":2730,"./set-state.cjs":2731,"./update-interface.cjs":2732},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./clear-state.cjs"),n),s(e("./create-interface.cjs"),n),s(e("./dialog.cjs"),n),s(e("./get-bip32-entropy.cjs"),n),s(e("./get-bip32-public-key.cjs"),n),s(e("./get-bip44-entropy.cjs"),n),s(e("./get-client-status.cjs"),n),s(e("./get-currency-rate.cjs"),n),s(e("./get-entropy.cjs"),n),s(e("./get-file.cjs"),n),s(e("./get-interface-context.cjs"),n),s(e("./get-interface-state.cjs"),n),s(e("./get-locale.cjs"),n),s(e("./get-preferences.cjs"),n),s(e("./get-snaps.cjs"),n),s(e("./get-state.cjs"),n),s(e("./invoke-keyring.cjs"),n),s(e("./invoke-snap.cjs"),n),s(e("./manage-accounts.cjs"),n),s(e("./manage-state.cjs"),n),s(e("./methods.cjs"),n),s(e("./notify.cjs"),n),s(e("./provider-request.cjs"),n),s(e("./request-snaps.cjs"),n),s(e("./update-interface.cjs"),n),s(e("./resolve-interface.cjs"),n),s(e("./schedule-background-event.cjs"),n),s(e("./cancel-background-event.cjs"),n),s(e("./get-background-events.cjs"),n),s(e("./set-state.cjs"),n)}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/methods/index.cjs"}],[2721,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/methods/invoke-keyring.cjs"}],[2722,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/methods/invoke-snap.cjs"}],[2723,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/methods/manage-accounts.cjs"}],[2724,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r;Object.defineProperty(n,"__esModule",{value:!0}),n.ManageStateOperation=void 0,function(e){e.ClearState="clear",e.GetState="get",e.UpdateState="update"}(r||(n.ManageStateOperation=r={}))}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/methods/manage-state.cjs"}],[2725,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/methods/methods.cjs"}],[2726,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r;Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationType=void 0,function(e){e.InApp="inApp",e.Native="native"}(r||(n.NotificationType=r={}))}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/methods/notify.cjs"}],[2727,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/methods/provider-request.cjs"}],[2728,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/methods/request-snaps.cjs"}],[2729,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/methods/resolve-interface.cjs"}],[2730,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/methods/schedule-background-event.cjs"}],[2731,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/methods/set-state.cjs"}],[2732,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/methods/update-interface.cjs"}],[2733,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/permissions.cjs"}],[2734,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/provider.cjs"}],[2735,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/snap.cjs"}],[2736,{"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createBuilder=void 0;const r=e("@metamask/utils");n.createBuilder=function(e,t,n=[]){return(...s)=>{if(1===s.length&&(0,r.isPlainObject)(s[0])){const n={...s[0],type:e};return(0,r.assertStruct)(n,t,`Invalid ${e} component`),n}const a=n.reduce(((e,t,n)=>s[n]!==undefined?{...e,[t]:s[n]}:e),{type:e});return(0,r.assertStruct)(a,t,`Invalid ${e} component`),a}}}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/ui/builder.cjs"}],[2737,{"./components/index.cjs":2745,"@metamask/superstruct":2797,"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.assertIsComponent=n.isComponent=void 0;const r=e("@metamask/superstruct"),s=e("@metamask/utils"),a=e("./components/index.cjs");n.isComponent=function(e){return(0,r.is)(e,a.ComponentStruct)},n.assertIsComponent=function(e){(0,s.assertStruct)(e,a.ComponentStruct,"Invalid component")}}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/ui/component.cjs"}],[2738,{"../builder.cjs":2736,"../nodes.cjs":2752,"@metamask/superstruct":2797,"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.address=n.AddressStruct=void 0;const r=e("@metamask/superstruct"),s=e("@metamask/utils"),a=e("../builder.cjs"),i=e("../nodes.cjs");n.AddressStruct=(0,r.assign)(i.LiteralStruct,(0,r.object)({type:(0,r.literal)(i.NodeType.Address),value:s.HexChecksumAddressStruct})),n.address=(0,a.createBuilder)(i.NodeType.Address,n.AddressStruct,["value"])}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/ui/components/address.cjs"}],[2739,{"../../internals/index.cjs":2636,"../builder.cjs":2736,"../nodes.cjs":2752,"@metamask/superstruct":2797},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.button=n.ButtonStruct=n.ButtonType=n.ButtonVariant=void 0;const r=e("@metamask/superstruct"),s=e("../../internals/index.cjs"),a=e("../builder.cjs"),i=e("../nodes.cjs");var o,c;!function(e){e.Primary="primary",e.Secondary="secondary"}(o||(n.ButtonVariant=o={})),function(e){e.Button="button",e.Submit="submit"}(c||(n.ButtonType=c={})),n.ButtonStruct=(0,r.assign)(i.LiteralStruct,(0,r.object)({type:(0,r.literal)(i.NodeType.Button),value:(0,r.string)(),variant:(0,r.optional)((0,r.union)([(0,s.enumValue)(o.Primary),(0,s.enumValue)(o.Secondary)])),buttonType:(0,r.optional)((0,r.union)([(0,s.enumValue)(c.Button),(0,s.enumValue)(c.Submit)])),name:(0,r.optional)((0,r.string)())})),n.button=(0,a.createBuilder)(i.NodeType.Button,n.ButtonStruct,["value","buttonType","name","variant"])}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/ui/components/button.cjs"}],[2740,{"../builder.cjs":2736,"../nodes.cjs":2752,"@metamask/superstruct":2797},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.copyable=n.CopyableStruct=void 0;const r=e("@metamask/superstruct"),s=e("../builder.cjs"),a=e("../nodes.cjs");n.CopyableStruct=(0,r.assign)(a.LiteralStruct,(0,r.object)({type:(0,r.literal)(a.NodeType.Copyable),value:(0,r.string)(),sensitive:(0,r.optional)((0,r.boolean)())})),n.copyable=(0,s.createBuilder)(a.NodeType.Copyable,n.CopyableStruct,["value","sensitive"])}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/ui/components/copyable.cjs"}],[2741,{"../builder.cjs":2736,"../nodes.cjs":2752,"@metamask/superstruct":2797},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.divider=n.DividerStruct=void 0;const r=e("@metamask/superstruct"),s=e("../builder.cjs"),a=e("../nodes.cjs");n.DividerStruct=(0,r.assign)(a.NodeStruct,(0,r.object)({type:(0,r.literal)(a.NodeType.Divider)})),n.divider=(0,s.createBuilder)(a.NodeType.Divider,n.DividerStruct)}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/ui/components/divider.cjs"}],[2742,{"../builder.cjs":2736,"../nodes.cjs":2752,"./button.cjs":2739,"./input.cjs":2746,"@metamask/superstruct":2797},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.form=n.FormStruct=n.FormComponentStruct=void 0;const r=e("@metamask/superstruct"),s=e("../builder.cjs"),a=e("../nodes.cjs"),i=e("./button.cjs"),o=e("./input.cjs");n.FormComponentStruct=(0,r.union)([o.InputStruct,i.ButtonStruct]),n.FormStruct=(0,r.assign)(a.NodeStruct,(0,r.object)({type:(0,r.literal)(a.NodeType.Form),children:(0,r.array)(n.FormComponentStruct),name:(0,r.string)()})),n.form=(0,s.createBuilder)(a.NodeType.Form,n.FormStruct,["name","children"])}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/ui/components/form.cjs"}],[2743,{"../builder.cjs":2736,"../nodes.cjs":2752,"@metamask/superstruct":2797},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.heading=n.HeadingStruct=void 0;const r=e("@metamask/superstruct"),s=e("../builder.cjs"),a=e("../nodes.cjs");n.HeadingStruct=(0,r.assign)(a.LiteralStruct,(0,r.object)({type:(0,r.literal)(a.NodeType.Heading),value:(0,r.string)()})),n.heading=(0,s.createBuilder)(a.NodeType.Heading,n.HeadingStruct,["value"])}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/ui/components/heading.cjs"}],[2744,{"../../internals/index.cjs":2636,"../builder.cjs":2736,"../nodes.cjs":2752,"@metamask/superstruct":2797},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.image=n.ImageStruct=void 0;const r=e("@metamask/superstruct"),s=e("../../internals/index.cjs"),a=e("../builder.cjs"),i=e("../nodes.cjs");n.ImageStruct=(0,r.assign)(i.NodeStruct,(0,r.object)({type:(0,r.literal)(i.NodeType.Image),value:(0,s.svg)()})),n.image=(0,a.createBuilder)(i.NodeType.Image,n.ImageStruct,["value"])}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/ui/components/image.cjs"}],[2745,{"./address.cjs":2738,"./button.cjs":2739,"./copyable.cjs":2740,"./divider.cjs":2741,"./form.cjs":2742,"./heading.cjs":2743,"./image.cjs":2744,"./input.cjs":2746,"./panel.cjs":2747,"./row.cjs":2748,"./spinner.cjs":2749,"./text.cjs":2750},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),n.PanelStruct=n.panel=n.ComponentStruct=n.ImageStruct=n.image=void 0,s(e("./address.cjs"),n),s(e("./copyable.cjs"),n),s(e("./divider.cjs"),n),s(e("./heading.cjs"),n);var a=e("./image.cjs");Object.defineProperty(n,"image",{enumerable:!0,get:function(){return a.image}}),Object.defineProperty(n,"ImageStruct",{enumerable:!0,get:function(){return a.ImageStruct}});var i=e("./panel.cjs");Object.defineProperty(n,"ComponentStruct",{enumerable:!0,get:function(){return i.ComponentStruct}}),Object.defineProperty(n,"panel",{enumerable:!0,get:function(){return i.panel}}),Object.defineProperty(n,"PanelStruct",{enumerable:!0,get:function(){return i.PanelStruct}}),s(e("./spinner.cjs"),n),s(e("./text.cjs"),n),s(e("./row.cjs"),n),s(e("./button.cjs"),n),s(e("./input.cjs"),n),s(e("./form.cjs"),n)}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/ui/components/index.cjs"}],[2746,{"../../internals/index.cjs":2636,"../builder.cjs":2736,"../nodes.cjs":2752,"@metamask/superstruct":2797},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.input=n.InputStruct=n.InputType=void 0;const r=e("@metamask/superstruct"),s=e("../../internals/index.cjs"),a=e("../builder.cjs"),i=e("../nodes.cjs");var o;!function(e){e.Text="text",e.Number="number",e.Password="password"}(o||(n.InputType=o={})),n.InputStruct=(0,r.assign)(i.LiteralStruct,(0,r.object)({type:(0,r.literal)(i.NodeType.Input),value:(0,r.optional)((0,r.string)()),name:(0,r.string)(),inputType:(0,r.optional)((0,r.union)([(0,s.enumValue)(o.Text),(0,s.enumValue)(o.Password),(0,s.enumValue)(o.Number)])),placeholder:(0,r.optional)((0,r.string)()),label:(0,r.optional)((0,r.string)()),error:(0,r.optional)((0,r.string)())})),n.input=(0,a.createBuilder)(i.NodeType.Input,n.InputStruct,["name","inputType","placeholder","value","label"])}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/ui/components/input.cjs"}],[2747,{"../../internals/index.cjs":2636,"../builder.cjs":2736,"../nodes.cjs":2752,"./address.cjs":2738,"./button.cjs":2739,"./copyable.cjs":2740,"./divider.cjs":2741,"./form.cjs":2742,"./heading.cjs":2743,"./image.cjs":2744,"./input.cjs":2746,"./row.cjs":2748,"./spinner.cjs":2749,"./text.cjs":2750,"@metamask/superstruct":2797},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ComponentStruct=n.panel=n.PanelStruct=n.ParentStruct=void 0;const r=e("@metamask/superstruct"),s=e("../../internals/index.cjs"),a=e("../builder.cjs"),i=e("../nodes.cjs"),o=e("./address.cjs"),c=e("./button.cjs"),u=e("./copyable.cjs"),l=e("./divider.cjs"),d=e("./form.cjs"),m=e("./heading.cjs"),p=e("./image.cjs"),h=e("./input.cjs"),f=e("./row.cjs"),g=e("./spinner.cjs"),y=e("./text.cjs");n.ParentStruct=(0,r.assign)(i.NodeStruct,(0,r.object)({children:(0,r.array)((0,r.lazy)((()=>n.ComponentStruct)))})),n.PanelStruct=(0,r.assign)(n.ParentStruct,(0,r.object)({type:(0,r.literal)(i.NodeType.Panel)})),n.panel=(0,a.createBuilder)(i.NodeType.Panel,n.PanelStruct,["children"]),n.ComponentStruct=(0,s.typedUnion)([u.CopyableStruct,l.DividerStruct,m.HeadingStruct,p.ImageStruct,n.PanelStruct,g.SpinnerStruct,y.TextStruct,f.RowStruct,o.AddressStruct,h.InputStruct,d.FormStruct,c.ButtonStruct])}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/ui/components/panel.cjs"}],[2748,{"../../internals/index.cjs":2636,"../builder.cjs":2736,"../nodes.cjs":2752,"./address.cjs":2738,"./image.cjs":2744,"./text.cjs":2750,"@metamask/superstruct":2797},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.row=n.RowStruct=n.RowVariant=void 0;const r=e("@metamask/superstruct"),s=e("../../internals/index.cjs"),a=e("../builder.cjs"),i=e("../nodes.cjs"),o=e("./address.cjs"),c=e("./image.cjs"),u=e("./text.cjs");var l;!function(e){e.Default="default",e.Critical="critical",e.Warning="warning"}(l||(n.RowVariant=l={}));const d=(0,r.union)([c.ImageStruct,u.TextStruct,o.AddressStruct]);n.RowStruct=(0,r.assign)(i.LiteralStruct,(0,r.object)({type:(0,r.literal)(i.NodeType.Row),variant:(0,r.optional)((0,r.union)([(0,s.enumValue)(l.Default),(0,s.enumValue)(l.Critical),(0,s.enumValue)(l.Warning)])),label:(0,r.string)(),value:d})),n.row=(0,a.createBuilder)(i.NodeType.Row,n.RowStruct,["label","value","variant"])}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/ui/components/row.cjs"}],[2749,{"../builder.cjs":2736,"../nodes.cjs":2752,"@metamask/superstruct":2797},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.spinner=n.SpinnerStruct=void 0;const r=e("@metamask/superstruct"),s=e("../builder.cjs"),a=e("../nodes.cjs");n.SpinnerStruct=(0,r.assign)(a.NodeStruct,(0,r.object)({type:(0,r.literal)(a.NodeType.Spinner)})),n.spinner=(0,s.createBuilder)(a.NodeType.Spinner,n.SpinnerStruct)}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/ui/components/spinner.cjs"}],[2750,{"../builder.cjs":2736,"../nodes.cjs":2752,"@metamask/superstruct":2797},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.text=n.TextStruct=void 0;const r=e("@metamask/superstruct"),s=e("../builder.cjs"),a=e("../nodes.cjs");n.TextStruct=(0,r.assign)(a.LiteralStruct,(0,r.object)({type:(0,r.literal)(a.NodeType.Text),value:(0,r.string)(),markdown:(0,r.optional)((0,r.boolean)())})),n.text=(0,s.createBuilder)(a.NodeType.Text,n.TextStruct,["value","markdown"])}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/ui/components/text.cjs"}],[2751,{"./component.cjs":2737,"./components/index.cjs":2745,"./nodes.cjs":2752},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),n.NodeType=void 0,s(e("./components/index.cjs"),n),s(e("./component.cjs"),n);var a=e("./nodes.cjs");Object.defineProperty(n,"NodeType",{enumerable:!0,get:function(){return a.NodeType}})}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/ui/index.cjs"}],[2752,{"@metamask/superstruct":2797},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.LiteralStruct=n.NodeStruct=n.NodeType=void 0;const r=e("@metamask/superstruct");var s;!function(e){e.Copyable="copyable",e.Divider="divider",e.Heading="heading",e.Panel="panel",e.Spinner="spinner",e.Text="text",e.Image="image",e.Row="row",e.Address="address",e.Button="button",e.Input="input",e.Form="form"}(s||(n.NodeType=s={})),n.NodeStruct=(0,r.object)({type:(0,r.string)()}),n.LiteralStruct=(0,r.assign)(n.NodeStruct,(0,r.object)({value:(0,r.unknown)()}))}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/ui/nodes.cjs"}],[2753,{"./dist/jsx/jsx-runtime.cjs":2681},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=e("./dist/jsx/jsx-runtime.cjs")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/jsx-runtime.js"}],[2754,{"./dist/jsx/index.cjs":2679},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=e("./dist/jsx/index.cjs")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/jsx.js"}],[2755,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports={name:"@metamask/snaps-sdk",version:"6.18.0",description:"A library containing the core functionality for building MetaMask Snaps",keywords:["MetaMask","Snaps","Ethereum"],homepage:"https://github.com/MetaMask/snaps/tree/main/packages/snaps-sdk#readme",bugs:{url:"https://github.com/MetaMask/snaps/issues"},repository:{type:"git",url:"https://github.com/MetaMask/snaps.git"},license:"ISC",sideEffects:!1,exports:{".":{import:{types:"./dist/index.d.mts",default:"./dist/index.mjs"},require:{types:"./dist/index.d.cts",default:"./dist/index.cjs"}},"./jsx":{import:{types:"./dist/jsx/index.d.mts",default:"./dist/jsx/index.mjs"},require:{types:"./dist/jsx/index.d.cts",default:"./dist/jsx/index.cjs"}},"./jsx-runtime":{import:{types:"./dist/jsx/jsx-runtime.d.mts",default:"./dist/jsx/jsx-runtime.mjs"},require:{types:"./dist/jsx/jsx-runtime.d.cts",default:"./dist/jsx/jsx-runtime.cjs"}},"./jsx-dev-runtime":{import:{types:"./dist/jsx/jsx-dev-runtime.d.mts",default:"./dist/jsx/jsx-dev-runtime.mjs"},require:{types:"./dist/jsx/jsx-dev-runtime.d.cts",default:"./dist/jsx/jsx-dev-runtime.cjs"}},"./package.json":"./package.json"},main:"./dist/index.cjs",module:"./dist/index.mjs",types:"./dist/index.d.cts",files:["dist","jsx.js","jsx-dev-runtime.js","jsx-runtime.js","jsx.d.ts","jsx-dev-runtime.d.ts","jsx-runtime.d.ts"],scripts:{build:"ts-bridge --project tsconfig.build.json --verbose --clean --no-references","changelog:update":"../../scripts/update-changelog.sh @metamask/snaps-sdk","changelog:validate":"../../scripts/validate-changelog.sh @metamask/snaps-sdk",lint:"yarn lint:eslint && yarn lint:misc --check && yarn changelog:validate && yarn lint:dependencies","lint:ci":"yarn lint","lint:dependencies":"depcheck","lint:eslint":"eslint . --cache --ext js,ts,jsx,tsx","lint:fix":"yarn lint:eslint --fix && yarn lint:misc --write","lint:misc":'prettier --no-error-on-unmatched-pattern --loglevel warn "**/*.json" "**/*.md" "**/*.html" "!CHANGELOG.md" --ignore-path ../../.gitignore',"publish:preview":"yarn npm publish --tag preview","since-latest-release":"../../scripts/since-latest-release.sh",test:"jest --reporters=jest-silent-reporter","test:clean":"jest --clearCache","test:post":"jest-it-up","test:verbose":"jest --verbose","test:watch":"jest --watch"},dependencies:{"@metamask/key-tree":"^10.0.2","@metamask/providers":"^20.0.0","@metamask/rpc-errors":"^7.0.2","@metamask/superstruct":"^3.1.0","@metamask/utils":"^11.2.0"},devDependencies:{"@lavamoat/allow-scripts":"^3.0.4","@metamask/auto-changelog":"^3.4.4","@metamask/eslint-config":"^12.1.0","@metamask/eslint-config-jest":"^12.1.0","@metamask/eslint-config-nodejs":"^12.1.0","@metamask/eslint-config-typescript":"^12.1.0","@ts-bridge/cli":"^0.6.1","@types/jest":"^27.5.1","@typescript-eslint/eslint-plugin":"^5.42.1","@typescript-eslint/parser":"^6.21.0",deepmerge:"^4.2.2",depcheck:"^1.4.7",eslint:"^8.27.0","eslint-config-prettier":"^8.5.0","eslint-plugin-import":"^2.26.0","eslint-plugin-jest":"^27.1.5","eslint-plugin-jsdoc":"^41.1.2","eslint-plugin-n":"^15.7.0","eslint-plugin-prettier":"^4.2.1","eslint-plugin-promise":"^6.1.1","expect-type":"^0.17.3",jest:"^29.0.2","jest-fetch-mock":"^3.0.3","jest-it-up":"^2.0.0","jest-silent-reporter":"^0.6.0",prettier:"^2.8.8","prettier-plugin-packagejson":"^2.5.2","ts-jest":"^29.1.1",typescript:"~5.3.3"},engines:{node:"^18.16 || >=20"},publishConfig:{access:"public",registry:"https://registry.npmjs.org/"}}}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/package.json"}],[2756,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isEqual=void 0,n.isEqual=function(e,t){return e.length===t.length&&e.every(((e,n)=>e===t[n]))}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/array.cjs"}],[2757,{"./base64.cjs":2758,"./constants.cjs":2762,"@metamask/snaps-sdk":2632,"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.validateAuxiliaryFiles=n.encodeAuxiliaryFile=void 0;const r=e("@metamask/snaps-sdk"),s=e("@metamask/utils"),a=e("./base64.cjs"),i=e("./constants.cjs");n.encodeAuxiliaryFile=async function(e,t){if(t===r.AuxiliaryFileEncoding.Base64)return e;const n=await(0,a.decodeBase64)(e);return t===r.AuxiliaryFileEncoding.Utf8?(0,s.bytesToString)(n):(0,s.bytesToHex)(n)},n.validateAuxiliaryFiles=function(e){for(const t of e)(0,s.assert)(t.size<i.MAX_FILE_SIZE,"Static files required by the Snap must be smaller than 64 MB.")}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/auxiliary-files.cjs"}],[2758,{"./bytes.cjs":2759,"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.decodeBase64=n.encodeBase64=void 0;const r=e("@metamask/utils"),s=e("./bytes.cjs");n.encodeBase64=async function(e){const t=(0,s.getBytes)(e);return"FileReader"in globalThis?await new Promise(((e,n)=>{const r=Object.assign(new FileReader,{onload:()=>e(r.result.replace("data:application/octet-stream;base64,","")),onerror:()=>n(r.error)});r.readAsDataURL(new File([t],"",{type:"application/octet-stream"}))})):(0,r.bytesToBase64)(t)},n.decodeBase64=async function(e){const t=await fetch(`data:application/octet-stream;base64,${e}`);return new Uint8Array(await t.arrayBuffer())}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/base64.cjs"}],[2759,{"./virtual-file/VirtualFile.cjs":2793,"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getBytes=void 0;const r=e("@metamask/utils"),s=e("./virtual-file/VirtualFile.cjs");n.getBytes=function(e){const t=e instanceof s.VirtualFile?e.value:e;return"string"==typeof t?(0,r.stringToBytes)(t):t}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/bytes.cjs"}],[2760,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r;Object.defineProperty(n,"__esModule",{value:!0}),n.SnapCaveatType=void 0,function(e){e.PermittedDerivationPaths="permittedDerivationPaths",e.PermittedCoinTypes="permittedCoinTypes",e.SnapCronjob="snapCronjob",e.TransactionOrigin="transactionOrigin",e.SignatureOrigin="signatureOrigin",e.RpcOrigin="rpcOrigin",e.KeyringOrigin="keyringOrigin",e.SnapIds="snapIds",e.ChainIds="chainIds",e.LookupMatchers="lookupMatchers",e.MaxRequestTime="maxRequestTime",e.ProtocolSnapScopes="protocolSnapScopes"}(r||(n.SnapCaveatType=r={}))}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/caveats.cjs"}],[2761,{"./bytes.cjs":2759,"@metamask/utils":2872,"@noble/hashes/sha256":2930},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.checksumFiles=n.checksum=void 0;const r=e("@metamask/utils"),s=e("@noble/hashes/sha256"),a=e("./bytes.cjs");async function i(e){const t=(0,a.getBytes)(e);return"crypto"in globalThis&&"object"==typeof globalThis.crypto&&crypto.subtle?.digest?new Uint8Array(await crypto.subtle.digest("SHA-256",t)):(0,s.sha256)(t)}n.checksum=i,n.checksumFiles=async function(e){const t=await Promise.all([...e].sort(((e,t)=>((0,r.assert)(e.path!==t.path,"Tried to sort files with non-unique paths."),e.path<t.path?-1:1))).map((async e=>i(e))));return i((0,r.concatBytes)(t))}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/checksum.cjs"}],[2762,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MAX_FILE_SIZE=void 0,n.MAX_FILE_SIZE=64e6}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/constants.cjs"}],[2763,{"@metamask/superstruct":2797,"@metamask/utils":2872,"cron-parser":4047},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isCronjobSpecificationArray=n.CronjobSpecificationArrayStruct=n.isCronjobSpecification=n.CronjobSpecificationStruct=n.parseCronExpression=n.CronExpressionStruct=n.CronjobRpcRequestStruct=void 0;const r=e("@metamask/superstruct"),s=e("@metamask/utils"),a=e("cron-parser");n.CronjobRpcRequestStruct=(0,r.object)({jsonrpc:(0,r.optional)(s.JsonRpcVersionStruct),id:(0,r.optional)(s.JsonRpcIdStruct),method:(0,r.string)(),params:(0,r.optional)(s.JsonRpcParamsStruct)}),n.CronExpressionStruct=(0,r.refine)((0,r.string)(),"CronExpression",(e=>{try{return(0,a.parseExpression)(e),!0}catch{return!1}})),n.parseCronExpression=function(e){const t=(0,r.create)(e,n.CronExpressionStruct);return(0,a.parseExpression)(t)},n.CronjobSpecificationStruct=(0,r.object)({expression:n.CronExpressionStruct,request:n.CronjobRpcRequestStruct}),n.isCronjobSpecification=function(e){try{return(0,r.create)(e,n.CronjobSpecificationStruct),!0}catch{return!1}},n.CronjobSpecificationArrayStruct=(0,r.array)(n.CronjobSpecificationStruct),n.isCronjobSpecificationArray=function(e){try{return(0,r.create)(e,n.CronjobSpecificationArrayStruct),!0}catch{return!1}}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/cronjob.cjs"}],[2764,{"@metamask/superstruct":2797},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.currency=void 0;const r=e("@metamask/superstruct");n.currency=function(e){const t=e.toLowerCase();return(0,r.coerce)((0,r.literal)(t),(0,r.literal)(e.toUpperCase()),(e=>(0,r.create)(e.toLowerCase(),(0,r.literal)(t))))}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/currency.cjs"}],[2765,{rfdc:5220},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.deepClone=void 0;const s=r(e("rfdc"));n.deepClone=(0,s.default)({proto:!1,circles:!1})}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/deep-clone.cjs"}],[2766,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DEFAULT_ENDOWMENTS=void 0,n.DEFAULT_ENDOWMENTS=Object.freeze(["atob","btoa","BigInt","console","crypto","Date","Math","setTimeout","clearTimeout","SubtleCrypto","TextDecoder","TextEncoder","URL","URLSearchParams","setInterval","clearInterval","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","isSecureContext","Intl","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array","DataView","ArrayBuffer","AbortController","AbortSignal"])}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/default-endowments.cjs"}],[2767,{"./array.cjs":2756,"@metamask/slip44":2461},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.getSlip44ProtocolName=n.getSnapDerivationPathName=n.SNAPS_DERIVATION_PATHS=void 0;const s=r(e("@metamask/slip44")),a=e("./array.cjs");function i(e){return"1"===String(e)?"Test Networks":s.default[e]?.name??null}n.SNAPS_DERIVATION_PATHS=[{path:["m","44'","0'"],curve:"ed25519",name:"Test BIP-32 Path (ed25519)"},{path:["m","44'","1'"],curve:"secp256k1",name:"Testnet"},{path:["m","44'","0'"],curve:"secp256k1",name:"Bitcoin Legacy"},{path:["m","49'","0'"],curve:"secp256k1",name:"Bitcoin Nested SegWit"},{path:["m","49'","1'"],curve:"secp256k1",name:"Bitcoin Testnet Nested SegWit"},{path:["m","84'","0'"],curve:"secp256k1",name:"Bitcoin Native SegWit"},{path:["m","84'","1'"],curve:"secp256k1",name:"Bitcoin Testnet Native SegWit"},{path:["m","86'","0'"],curve:"secp256k1",name:"Bitcoin Taproot"},{path:["m","86'","1'"],curve:"secp256k1",name:"Bitcoin Testnet Taproot"},{path:["m","44'","501'"],curve:"ed25519",name:"Solana"},{path:["m","44'","501'","0'","0'"],curve:"ed25519",name:"Solana"},{path:["m","44'","2'"],curve:"secp256k1",name:"Litecoin"},{path:["m","44'","3'"],curve:"secp256k1",name:"Dogecoin"},{path:["m","44'","60'"],curve:"secp256k1",name:"Ethereum"},{path:["m","44'","118'"],curve:"secp256k1",name:"Atom"},{path:["m","44'","145'"],curve:"secp256k1",name:"Bitcoin Cash"},{path:["m","44'","637'"],curve:"ed25519",name:"Aptos"},{path:["m","44'","714'"],curve:"secp256k1",name:"Binance (BNB)"},{path:["m","44'","784'"],curve:"ed25519",name:"Sui"},{path:["m","44'","931'"],curve:"secp256k1",name:"THORChain (RUNE)"},{path:["m","44'","330'"],curve:"secp256k1",name:"Terra (LUNA)"},{path:["m","44'","459'"],curve:"secp256k1",name:"Kava"},{path:["m","44'","529'"],curve:"secp256k1",name:"Secret Network"},{path:["m","44'","397'","0'"],curve:"ed25519",name:"NEAR Protocol"},{path:["m","44'","1'","0'"],curve:"ed25519",name:"Testnet"},{path:["m","44'","472'"],curve:"ed25519",name:"Arweave"},{path:["m","44'","12586'"],curve:"secp256k1",name:"Mina"},{path:["m","44'","242'"],curve:"ed25519",name:"Nimiq"},{path:["m","44'","1729'","0'","0'"],curve:"ed25519",name:"Tezos"},{path:["m","1789'","0'"],curve:"ed25519",name:"Vega"},{path:["m","1852'","1815'"],curve:"ed25519Bip32",name:"Cardano"},{path:["m","44'","508'","0'","0'","0'"],curve:"ed25519",name:"MultiversX"},{path:["m","44'","709'"],curve:"secp256k1",name:"Avail"},{path:["m","44'","626'"],curve:"ed25519",name:"Kadena"},{path:["m","44'","632'"],curve:"ed25519",name:"Massa"}],n.getSnapDerivationPathName=function(e,t){const r=n.SNAPS_DERIVATION_PATHS.find((n=>n.curve===t&&(0,a.isEqual)(n.path,e)));if(r)return r.name;if("secp256k1"===t&&"m"===e[0]&&"44'"===e[1]&&e[2].endsWith("'")){return i(e[2].slice(0,-1))??null}return null},n.getSlip44ProtocolName=i}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/derivation-paths.cjs"}],[2768,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.STATE_ENCRYPTION_MAGIC_VALUE=n.SIP_6_MAGIC_VALUE=void 0,n.SIP_6_MAGIC_VALUE="1399742832'",n.STATE_ENCRYPTION_MAGIC_VALUE="572232532'"}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/entropy.cjs"}],[2769,{"@metamask/rpc-errors":2336,"@metamask/snaps-sdk":2632,"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,s,a,i=this&&this.__classPrivateFieldSet||function(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n},o=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.unwrapError=n.isWrappedSnapError=n.isSerializedSnapError=n.isSnapError=n.WrappedSnapError=n.SNAP_ERROR_WRAPPER_MESSAGE=n.SNAP_ERROR_WRAPPER_CODE=void 0;const c=e("@metamask/rpc-errors"),u=e("@metamask/snaps-sdk"),l=e("@metamask/utils");n.SNAP_ERROR_WRAPPER_CODE=-31001,n.SNAP_ERROR_WRAPPER_MESSAGE="Wrapped Snap Error";class d extends Error{constructor(e){const t=(0,u.getErrorMessage)(e);super(t),r.set(this,void 0),s.set(this,void 0),a.set(this,void 0),i(this,r,e,"f"),i(this,s,t,"f"),i(this,a,(0,u.getErrorStack)(e),"f")}get name(){return"WrappedSnapError"}get message(){return o(this,s,"f")}get stack(){return o(this,a,"f")}toJSON(){const e=m(o(this,r,"f"))?o(this,r,"f").serialize():(0,c.serializeCause)(o(this,r,"f"));return{code:n.SNAP_ERROR_WRAPPER_CODE,message:n.SNAP_ERROR_WRAPPER_MESSAGE,data:{cause:e}}}serialize(){return this.toJSON()}}function m(e){if((0,l.isObject)(e)&&"serialize"in e&&"function"==typeof e.serialize){const t=e.serialize();return(0,l.isJsonRpcError)(t)&&p(t)}return!1}function p(e){return e.code===u.SNAP_ERROR_CODE&&e.message===u.SNAP_ERROR_MESSAGE}function h(e){return(0,l.isJsonRpcError)(e)&&e.code===n.SNAP_ERROR_WRAPPER_CODE&&e.message===n.SNAP_ERROR_WRAPPER_MESSAGE}function f(e,t,n,r){const s=new c.JsonRpcError(e,t,r);return s.stack=n,s}n.WrappedSnapError=d,r=new WeakMap,s=new WeakMap,a=new WeakMap,n.isSnapError=m,n.isSerializedSnapError=p,n.isWrappedSnapError=h,n.unwrapError=function(e){if(h(e)){if((0,l.isJsonRpcError)(e.data.cause)){if(p(e.data.cause)){const{code:t,message:n,stack:r,data:s}=e.data.cause.data.cause;return[f(t,n,r,s),!0]}const{code:t,message:n,stack:r,data:s}=e.data.cause;return[f(t,n,r,s),!1]}return[f(c.errorCodes.rpc.internal,(0,u.getErrorMessage)(e.data.cause),(0,u.getErrorStack)(e.data.cause)),!1]}if((0,l.isJsonRpcError)(e)){const{code:t,message:n,stack:r,data:s}=e;return[f(t,n,r,s),!1]}return[f(c.errorCodes.rpc.internal,(0,u.getErrorMessage)(e),(0,u.getErrorStack)(e)),!1]}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/errors.cjs"}],[2770,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r;Object.defineProperty(n,"__esModule",{value:!0}),n.SNAP_EXPORT_NAMES=n.HandlerType=void 0,function(e){e.OnRpcRequest="onRpcRequest",e.OnSignature="onSignature",e.OnTransaction="onTransaction",e.OnCronjob="onCronjob",e.OnInstall="onInstall",e.OnUpdate="onUpdate",e.OnNameLookup="onNameLookup",e.OnKeyringRequest="onKeyringRequest",e.OnHomePage="onHomePage",e.OnSettingsPage="onSettingsPage",e.OnUserInput="onUserInput",e.OnAssetsLookup="onAssetsLookup",e.OnAssetsConversion="onAssetsConversion",e.OnProtocolRequest="onProtocolRequest"}(r||(n.HandlerType=r={})),n.SNAP_EXPORT_NAMES=Object.values(r)}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/handler-types.cjs"}],[2771,{"./handler-types.cjs":2770,"@metamask/snaps-sdk":2632,"@metamask/superstruct":2797},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.OnNameLookupResponseStruct=n.DomainResolutionResponseStruct=n.AddressResolutionResponseStruct=n.DomainResolutionStruct=n.AddressResolutionStruct=n.OnSettingsPageResponseStruct=n.OnHomePageResponseStruct=n.OnHomePageResponseWithIdStruct=n.OnHomePageResponseWithContentStruct=n.OnSignatureResponseStruct=n.OnTransactionResponseStruct=n.OnTransactionResponseWithContentStruct=n.OnTransactionResponseWithIdStruct=n.OnTransactionSeverityResponseStruct=n.SNAP_EXPORTS=void 0;const r=e("@metamask/snaps-sdk"),s=e("@metamask/superstruct"),a=e("./handler-types.cjs");n.SNAP_EXPORTS={[a.HandlerType.OnRpcRequest]:{type:a.HandlerType.OnRpcRequest,required:!0,validator:e=>"function"==typeof e},[a.HandlerType.OnTransaction]:{type:a.HandlerType.OnTransaction,required:!0,validator:e=>"function"==typeof e},[a.HandlerType.OnCronjob]:{type:a.HandlerType.OnCronjob,required:!0,validator:e=>"function"==typeof e},[a.HandlerType.OnNameLookup]:{type:a.HandlerType.OnNameLookup,required:!0,validator:e=>"function"==typeof e},[a.HandlerType.OnInstall]:{type:a.HandlerType.OnInstall,required:!1,validator:e=>"function"==typeof e},[a.HandlerType.OnUpdate]:{type:a.HandlerType.OnUpdate,required:!1,validator:e=>"function"==typeof e},[a.HandlerType.OnKeyringRequest]:{type:a.HandlerType.OnKeyringRequest,required:!0,validator:e=>"function"==typeof e},[a.HandlerType.OnHomePage]:{type:a.HandlerType.OnHomePage,required:!0,validator:e=>"function"==typeof e},[a.HandlerType.OnSettingsPage]:{type:a.HandlerType.OnSettingsPage,required:!0,validator:e=>"function"==typeof e},[a.HandlerType.OnSignature]:{type:a.HandlerType.OnSignature,required:!0,validator:e=>"function"==typeof e},[a.HandlerType.OnUserInput]:{type:a.HandlerType.OnUserInput,required:!1,validator:e=>"function"==typeof e},[a.HandlerType.OnAssetsLookup]:{type:a.HandlerType.OnAssetsLookup,required:!0,validator:e=>"function"==typeof e},[a.HandlerType.OnAssetsConversion]:{type:a.HandlerType.OnAssetsConversion,required:!0,validator:e=>"function"==typeof e},[a.HandlerType.OnProtocolRequest]:{type:a.HandlerType.OnProtocolRequest,required:!0,validator:e=>"function"==typeof e}},n.OnTransactionSeverityResponseStruct=(0,s.object)({severity:(0,s.optional)((0,s.literal)(r.SeverityLevel.Critical))}),n.OnTransactionResponseWithIdStruct=(0,s.assign)(n.OnTransactionSeverityResponseStruct,(0,s.object)({id:(0,s.string)()})),n.OnTransactionResponseWithContentStruct=(0,s.assign)(n.OnTransactionSeverityResponseStruct,(0,s.object)({content:r.ComponentOrElementStruct})),n.OnTransactionResponseStruct=(0,s.nullable)((0,s.union)([n.OnTransactionResponseWithContentStruct,n.OnTransactionResponseWithIdStruct])),n.OnSignatureResponseStruct=n.OnTransactionResponseStruct,n.OnHomePageResponseWithContentStruct=(0,s.object)({content:r.ComponentOrElementStruct}),n.OnHomePageResponseWithIdStruct=(0,s.object)({id:(0,s.string)()}),n.OnHomePageResponseStruct=(0,s.union)([n.OnHomePageResponseWithContentStruct,n.OnHomePageResponseWithIdStruct]),n.OnSettingsPageResponseStruct=n.OnHomePageResponseStruct,n.AddressResolutionStruct=(0,s.object)({protocol:(0,s.string)(),resolvedDomain:(0,s.string)()}),n.DomainResolutionStruct=(0,s.object)({protocol:(0,s.string)(),resolvedAddress:(0,s.string)(),domainName:(0,s.string)()}),n.AddressResolutionResponseStruct=(0,s.object)({resolvedDomains:(0,s.size)((0,s.array)(n.AddressResolutionStruct),1,Infinity)}),n.DomainResolutionResponseStruct=(0,s.object)({resolvedAddresses:(0,s.size)((0,s.array)(n.DomainResolutionStruct),1,Infinity)}),n.OnNameLookupResponseStruct=(0,s.nullable)((0,s.union)([n.AddressResolutionResponseStruct,n.DomainResolutionResponseStruct]))}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/handlers.cjs"}],[2772,{"./svg.cjs":2787,"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSvgDimensions=n.assertIsSnapIcon=n.SVG_MAX_BYTE_SIZE_TEXT=n.SVG_MAX_BYTE_SIZE=void 0;const r=e("@metamask/utils"),s=e("./svg.cjs");n.SVG_MAX_BYTE_SIZE=1e5,n.SVG_MAX_BYTE_SIZE_TEXT=`${Math.floor(n.SVG_MAX_BYTE_SIZE/1e3)}kb`,n.assertIsSnapIcon=function(e){(0,r.assert)(e.path.endsWith(".svg"),'Expected snap icon to end in ".svg".');const t="string"==typeof e.value?(0,r.stringToBytes)(e.value).byteLength:e.value.byteLength;(0,r.assert)(t<=n.SVG_MAX_BYTE_SIZE,`The specified SVG icon exceeds the maximum size of ${n.SVG_MAX_BYTE_SIZE_TEXT}.`),(0,r.assert)((0,s.isSvg)(e.toString()),"Snap icon must be a valid SVG.")},n.getSvgDimensions=function(e){try{const t=(0,s.parseSvg)(e),n=t["@_height"],a=t["@_width"];if(n&&a)return{height:n,width:a};const i=t["@_viewBox"];if(i){const[e,t,n,s]=i.split(" ");if(n&&s){const e=parseInt(n,10),t=parseInt(s,10);return(0,r.assert)(Number.isInteger(e)&&e>0),(0,r.assert)(Number.isInteger(t)&&t>0),{width:e,height:t}}}}catch{throw new Error("Snap icon must be a valid SVG.")}return null}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/icon.cjs"}],[2773,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createWindow=void 0,n.createWindow=async function({uri:e,id:t,sandbox:n=!0,testId:r="snaps-iframe"}){return await new Promise(((s,a)=>{const i=document.createElement("iframe");i.setAttribute("id",t),i.setAttribute("data-testid",r),n&&i.setAttribute("sandbox","allow-scripts"),i.setAttribute("src",e),document.body.appendChild(i),i.addEventListener("load",(()=>{i.contentWindow?s(i.contentWindow):a(new Error(`iframe.contentWindow not present on load for job "${t}".`))}))}))}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/iframe.cjs"}],[2774,{"./array.cjs":2756,"./auxiliary-files.cjs":2757,"./base64.cjs":2758,"./bytes.cjs":2759,"./caveats.cjs":2760,"./checksum.cjs":2761,"./constants.cjs":2762,"./cronjob.cjs":2763,"./currency.cjs":2764,"./deep-clone.cjs":2765,"./default-endowments.cjs":2766,"./derivation-paths.cjs":2767,"./entropy.cjs":2768,"./errors.cjs":2769,"./handler-types.cjs":2770,"./handlers.cjs":2771,"./iframe.cjs":2773,"./json-rpc.cjs":2775,"./json.cjs":2776,"./localization.cjs":2777,"./logging.cjs":2778,"./manifest/index.cjs":2779,"./path.cjs":2781,"./platform-version.cjs":2782,"./promise.cjs":2783,"./snaps.cjs":2784,"./strings.cjs":2785,"./structs.cjs":2786,"./types.cjs":2788,"./ui.cjs":2789,"./url.cjs":2790,"./validation.cjs":2791,"./versions.cjs":2792,"./virtual-file/index.cjs":2794},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./array.cjs"),n),s(e("./auxiliary-files.cjs"),n),s(e("./base64.cjs"),n),s(e("./bytes.cjs"),n),s(e("./caveats.cjs"),n),s(e("./checksum.cjs"),n),s(e("./constants.cjs"),n),s(e("./cronjob.cjs"),n),s(e("./currency.cjs"),n),s(e("./deep-clone.cjs"),n),s(e("./default-endowments.cjs"),n),s(e("./derivation-paths.cjs"),n),s(e("./entropy.cjs"),n),s(e("./errors.cjs"),n),s(e("./handlers.cjs"),n),s(e("./handler-types.cjs"),n),s(e("./iframe.cjs"),n),s(e("./json.cjs"),n),s(e("./json-rpc.cjs"),n),s(e("./localization.cjs"),n),s(e("./logging.cjs"),n),s(e("./manifest/index.cjs"),n),s(e("./path.cjs"),n),s(e("./platform-version.cjs"),n),s(e("./snaps.cjs"),n),s(e("./strings.cjs"),n),s(e("./structs.cjs"),n),s(e("./types.cjs"),n),s(e("./ui.cjs"),n),s(e("./url.cjs"),n),s(e("./validation.cjs"),n),s(e("./versions.cjs"),n),s(e("./virtual-file/index.cjs"),n),s(e("./promise.cjs"),n)}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/index.cjs"}],[2775,{"@metamask/permission-controller":2169,"@metamask/superstruct":2797,"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.assertIsJsonRpcSuccess=n.isOriginAllowed=n.assertIsKeyringOrigins=n.KeyringOriginsStruct=n.assertIsRpcOrigins=n.RpcOriginsStruct=void 0;const r=e("@metamask/permission-controller"),s=e("@metamask/superstruct"),a=e("@metamask/utils"),i=(0,s.array)((0,s.refine)((0,s.string)(),"Allowed origin",(e=>!(e.split("*").length-1>2)||'No more than two wildcards ("*") are allowed in an origin specifier.')));function o(e,t){if("*"===e||e===t)return!0;const n=function(e){const t=e.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&").replace(/\\\*/gu,".*");return RegExp(`^${t}$`,"u")}(e);return n.test(t)}n.RpcOriginsStruct=(0,s.refine)((0,s.object)({dapps:(0,s.optional)((0,s.boolean)()),snaps:(0,s.optional)((0,s.boolean)()),allowedOrigins:(0,s.optional)(i)}),"RPC origins",(e=>!!Boolean(!0===e.snaps||!0===e.dapps||e.allowedOrigins&&e.allowedOrigins.length>0)||"Must specify at least one JSON-RPC origin.")),n.assertIsRpcOrigins=function(e,t){(0,a.assertStruct)(e,n.RpcOriginsStruct,"Invalid JSON-RPC origins",t)},n.KeyringOriginsStruct=(0,s.object)({allowedOrigins:(0,s.optional)(i)}),n.assertIsKeyringOrigins=function(e,t){(0,a.assertStruct)(e,n.KeyringOriginsStruct,"Invalid keyring origins",t)},n.isOriginAllowed=function(e,t,n){return"metamask"===n||(!!e.allowedOrigins?.some((e=>o(e,n)))||(!(t!==r.SubjectType.Website||!e.dapps)||Boolean(t===r.SubjectType.Snap&&e.snaps)))},n.assertIsJsonRpcSuccess=function(e){if(!(0,a.isJsonRpcSuccess)(e)){if((0,a.isJsonRpcFailure)(e))throw new Error(`JSON-RPC request failed: ${e.error.message}`);throw new Error("Invalid JSON-RPC response.")}}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/json-rpc.cjs"}],[2776,{"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getJsonSizeUnsafe=n.parseJson=void 0;const r=e("@metamask/utils");n.parseJson=function(e){return(0,r.getSafeJson)(JSON.parse(e))},n.getJsonSizeUnsafe=function(e){const t=JSON.stringify(e);return(new TextEncoder).encode(t).byteLength}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/json.cjs"}],[2777,{"./json.cjs":2776,"@metamask/snaps-sdk":2632,"@metamask/superstruct":2797},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.validateSnapManifestLocalizations=n.getLocalizedSnapManifest=n.translate=n.TRANSLATION_REGEX=n.getLocalizationFile=n.getValidatedLocalizationFiles=n.LocalizationFileStruct=n.LOCALIZABLE_FIELDS=void 0;const r=e("@metamask/snaps-sdk"),s=e("@metamask/superstruct"),a=e("./json.cjs");function i(e,t){const n=t.find((t=>t.locale===e));return n||t.find((e=>"en"===e.locale))}function o(e,t){const r=e.matchAll(n.TRANSLATION_REGEX);return Array.from(r).reduce(((n,[r,s])=>{if(!t)throw new Error(`Failed to translate "${e}": No localization file found.`);const a=t.messages[s.trim()];if(!a)throw new Error(`Failed to translate "${e}": No translation found for "${s.trim()}" in "${t.locale}" file.`);return n.replace(r,a.message)}),e)}function c(e,t,r){const s=i(t,r);return n.LOCALIZABLE_FIELDS.reduce(((e,t)=>{const n=o(e[t],s);return{...e,[t]:n}}),e)}n.LOCALIZABLE_FIELDS=["description","proposedName"],n.LocalizationFileStruct=(0,s.object)({locale:(0,s.string)(),messages:(0,s.record)((0,s.string)(),(0,s.object)({message:(0,s.string)(),description:(0,s.optional)((0,s.string)())}))}),n.getValidatedLocalizationFiles=function(e){for(const t of e)try{t.result=(0,s.create)((0,a.parseJson)(t.toString()),n.LocalizationFileStruct)}catch(e){if(e instanceof s.StructError)throw new Error(`Failed to validate localization file "${t.path}": ${e.message}.`);if(e instanceof SyntaxError)throw new Error(`Failed to parse localization file "${t.path}" as JSON.`);throw e}return e},n.getLocalizationFile=i,n.TRANSLATION_REGEX=/\{\{\s?([a-zA-Z0-9-_\s]+)\s?\}\}/gu,n.translate=o,n.getLocalizedSnapManifest=c,n.validateSnapManifestLocalizations=function(e,t){try{t.filter((e=>"en"!==e.locale)).forEach((n=>{c(e,n.locale,t)})),c(e,"en",t)}catch(e){throw new Error(`Failed to localize Snap manifest: ${(0,r.getErrorMessage)(e)}`)}}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/localization.cjs"}],[2778,{"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.logWarning=n.logError=n.logInfo=n.snapsLogger=void 0;const r=e("@metamask/utils");n.snapsLogger=(0,r.createProjectLogger)("snaps"),n.logInfo=function(e,...t){console.log(e,...t)},n.logError=function(e,...t){console.error(e,...t)},n.logWarning=function(e,...t){console.warn(e,...t)}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/logging.cjs"}],[2779,{"./validation.cjs":2780},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./validation.cjs"),n)}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/manifest/index.cjs"}],[2780,{"../array.cjs":2756,"../cronjob.cjs":2763,"../entropy.cjs":2768,"../json-rpc.cjs":2775,"../snaps.cjs":2784,"../structs.cjs":2786,"../types.cjs":2788,"@metamask/key-tree":1883,"@metamask/superstruct":2797,"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createSnapManifest=n.assertIsSnapManifest=n.isSnapManifest=n.SnapManifestStruct=n.InitialConnectionsStruct=n.SnapAuxilaryFilesStruct=n.PermissionsStruct=n.EmptyObjectStruct=n.HandlerCaveatsStruct=n.ProtocolScopesStruct=n.MaxRequestTimeStruct=n.MAXIMUM_REQUEST_TIMEOUT=n.MINIMUM_REQUEST_TIMEOUT=n.LookupMatchersStruct=n.ChainIdsStruct=n.SnapIdsStruct=n.SemVerRangeStruct=n.SnapGetBip32EntropyPermissionsStruct=n.Bip32EntropyStruct=n.CurveStruct=n.bip32entropy=n.Bip32PathStruct=n.FORBIDDEN_COIN_TYPES=void 0;const r=e("@metamask/key-tree"),s=e("@metamask/superstruct"),a=e("@metamask/utils"),i=e("../array.cjs"),o=e("../cronjob.cjs"),c=e("../entropy.cjs"),u=e("../json-rpc.cjs"),l=e("../snaps.cjs"),d=e("../structs.cjs"),m=e("../types.cjs"),p=[c.SIP_6_MAGIC_VALUE,c.STATE_ENCRYPTION_MAGIC_VALUE];n.FORBIDDEN_COIN_TYPES=[60];const h=n.FORBIDDEN_COIN_TYPES.map((e=>["m","44'",`${e}'`]));n.Bip32PathStruct=(0,s.refine)((0,s.array)((0,s.string)()),"BIP-32 path",(e=>0===e.length?"Path must be a non-empty BIP-32 derivation path array":"m"!==e[0]?'Path must start with "m".':e.length<3?"Paths must have a length of at least three.":e.slice(1).some((e=>!(0,r.isValidBIP32PathSegment)(e)))?"Path must be a valid BIP-32 derivation path array.":p.includes(e[1])?`The purpose "${e[1]}" is not allowed for entropy derivation.`:!h.some((t=>(0,i.isEqual)(e.slice(0,t.length),t)))||`The path "${e.join("/")}" is not allowed for entropy derivation.`));n.bip32entropy=e=>(0,s.refine)(e,"BIP-32 entropy",(e=>"ed25519"!==e.curve||!e.path.slice(1).some((e=>!e.endsWith("'")))||"Ed25519 does not support unhardened paths.")),n.CurveStruct=(0,s.enums)(["ed25519","secp256k1","ed25519Bip32"]),n.Bip32EntropyStruct=(0,n.bip32entropy)((0,s.type)({path:n.Bip32PathStruct,curve:n.CurveStruct})),n.SnapGetBip32EntropyPermissionsStruct=(0,s.size)((0,s.array)(n.Bip32EntropyStruct),1,Infinity),n.SemVerRangeStruct=(0,s.refine)((0,s.string)(),"SemVer range",(e=>!!(0,a.isValidSemVerRange)(e)||"Expected a valid SemVer range.")),n.SnapIdsStruct=(0,s.refine)((0,s.record)(l.SnapIdStruct,(0,s.object)({version:(0,s.optional)(n.SemVerRangeStruct)})),"SnapIds",(e=>0!==Object.keys(e).length)),n.ChainIdsStruct=(0,s.size)((0,s.array)(a.CaipChainIdStruct),1,Infinity),n.LookupMatchersStruct=(0,s.union)([(0,s.object)({tlds:(0,s.size)((0,s.array)((0,s.string)()),1,Infinity)}),(0,s.object)({schemes:(0,s.size)((0,s.array)((0,s.string)()),1,Infinity)}),(0,s.object)({tlds:(0,s.size)((0,s.array)((0,s.string)()),1,Infinity),schemes:(0,s.size)((0,s.array)((0,s.string)()),1,Infinity)})]),n.MINIMUM_REQUEST_TIMEOUT=(0,a.inMilliseconds)(5,a.Duration.Second),n.MAXIMUM_REQUEST_TIMEOUT=(0,a.inMilliseconds)(3,a.Duration.Minute),n.MaxRequestTimeStruct=(0,s.size)((0,s.integer)(),n.MINIMUM_REQUEST_TIMEOUT,n.MAXIMUM_REQUEST_TIMEOUT),n.ProtocolScopesStruct=(0,s.record)(a.CaipChainIdStruct,(0,s.object)({methods:(0,s.array)((0,s.string)())})),n.HandlerCaveatsStruct=(0,s.object)({maxRequestTime:(0,s.optional)(n.MaxRequestTimeStruct)}),n.EmptyObjectStruct=(0,s.object)({}),n.PermissionsStruct=(0,s.type)({"endowment:assets":(0,s.optional)((0,d.mergeStructs)(n.HandlerCaveatsStruct,(0,s.object)({scopes:n.ChainIdsStruct}))),"endowment:cronjob":(0,s.optional)((0,d.mergeStructs)(n.HandlerCaveatsStruct,(0,s.object)({jobs:(0,s.optional)(o.CronjobSpecificationArrayStruct)}))),"endowment:ethereum-provider":(0,s.optional)(n.EmptyObjectStruct),"endowment:keyring":(0,s.optional)((0,d.mergeStructs)(n.HandlerCaveatsStruct,u.KeyringOriginsStruct)),"endowment:protocol":(0,s.optional)((0,d.mergeStructs)(n.HandlerCaveatsStruct,(0,s.object)({scopes:n.ProtocolScopesStruct}))),"endowment:lifecycle-hooks":(0,s.optional)(n.HandlerCaveatsStruct),"endowment:name-lookup":(0,s.optional)((0,d.mergeStructs)(n.HandlerCaveatsStruct,(0,s.object)({chains:(0,s.optional)(n.ChainIdsStruct),matchers:(0,s.optional)(n.LookupMatchersStruct)}))),"endowment:network-access":(0,s.optional)(n.EmptyObjectStruct),"endowment:page-home":(0,s.optional)(n.HandlerCaveatsStruct),"endowment:rpc":(0,s.optional)((0,d.mergeStructs)(n.HandlerCaveatsStruct,u.RpcOriginsStruct)),"endowment:signature-insight":(0,s.optional)((0,d.mergeStructs)(n.HandlerCaveatsStruct,(0,s.object)({allowSignatureOrigin:(0,s.optional)((0,s.boolean)())}))),"endowment:transaction-insight":(0,s.optional)((0,d.mergeStructs)(n.HandlerCaveatsStruct,(0,s.object)({allowTransactionOrigin:(0,s.optional)((0,s.boolean)())}))),"endowment:webassembly":(0,s.optional)(n.EmptyObjectStruct),snap_dialog:(0,s.optional)(n.EmptyObjectStruct),snap_manageState:(0,s.optional)(n.EmptyObjectStruct),snap_manageAccounts:(0,s.optional)(n.EmptyObjectStruct),snap_notify:(0,s.optional)(n.EmptyObjectStruct),snap_getBip32Entropy:(0,s.optional)(n.SnapGetBip32EntropyPermissionsStruct),snap_getBip32PublicKey:(0,s.optional)(n.SnapGetBip32EntropyPermissionsStruct),snap_getBip44Entropy:(0,s.optional)((0,s.size)((0,s.array)((0,s.object)({coinType:(0,s.size)((0,s.integer)(),0,2**32-1)})),1,Infinity)),snap_getEntropy:(0,s.optional)(n.EmptyObjectStruct),snap_getLocale:(0,s.optional)(n.EmptyObjectStruct),wallet_snap:(0,s.optional)(n.SnapIdsStruct)}),n.SnapAuxilaryFilesStruct=(0,s.array)((0,s.string)()),n.InitialConnectionsStruct=(0,s.record)((0,s.intersection)([(0,s.string)(),(0,m.uri)()]),(0,s.object)({})),n.SnapManifestStruct=(0,s.object)({version:a.VersionStruct,description:(0,s.size)((0,s.string)(),1,280),proposedName:(0,s.size)((0,s.string)(),1,214),repository:(0,s.optional)((0,s.type)({type:(0,s.size)((0,s.string)(),1,Infinity),url:(0,s.size)((0,s.string)(),1,Infinity)})),source:(0,s.object)({shasum:a.ChecksumStruct,location:(0,s.object)({npm:(0,s.object)({filePath:(0,s.size)((0,s.string)(),1,Infinity),iconPath:(0,s.optional)((0,s.size)((0,s.string)(),1,Infinity)),packageName:m.NameStruct,registry:(0,s.union)([(0,s.literal)("https://registry.npmjs.org"),(0,s.literal)("https://registry.npmjs.org/")])})}),files:(0,s.optional)(n.SnapAuxilaryFilesStruct),locales:(0,s.optional)(n.SnapAuxilaryFilesStruct)}),initialConnections:(0,s.optional)(n.InitialConnectionsStruct),initialPermissions:n.PermissionsStruct,manifestVersion:(0,s.literal)("0.1"),platformVersion:(0,s.optional)(a.VersionStruct),$schema:(0,s.optional)((0,s.string)())}),n.isSnapManifest=function(e){return(0,s.is)(e,n.SnapManifestStruct)},n.assertIsSnapManifest=function(e){(0,a.assertStruct)(e,n.SnapManifestStruct,`"${m.NpmSnapFileNames.Manifest}" is invalid`)},n.createSnapManifest=function(e){return(0,s.create)(e,n.SnapManifestStruct)}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/manifest/validation.cjs"}],[2781,{"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.normalizeRelative=void 0;const r=e("@metamask/utils");n.normalizeRelative=function(e){return(0,r.assert)(!e.startsWith("/")),(0,r.assert)(-1===e.search(/:|\/\//u),`Path "${e}" potentially an URI instead of local relative`),e.startsWith("./")?e.slice(2):e}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/path.cjs"}],[2782,{"@metamask/snaps-sdk/package.json":2755},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.getPlatformVersion=void 0;const s=r(e("@metamask/snaps-sdk/package.json"));n.getPlatformVersion=function(){return s.default.version}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/platform-version.cjs"}],[2783,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/promise.cjs"}],[2784,{"./caveats.cjs":2760,"./checksum.cjs":2761,"./types.cjs":2788,"@metamask/superstruct":2797,"@metamask/utils":2872,"@scure/base":2951,"fast-json-stable-stringify":4302,"validate-npm-package-name":5611},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.verifyRequestedSnapPermissions=n.isSnapPermitted=n.assertIsValidSnapId=n.isSnapId=n.stripSnapPrefix=n.getSnapPrefix=n.SnapIdStruct=n.HttpSnapIdStruct=n.NpmSnapIdStruct=n.LocalSnapIdStruct=n.BaseSnapIdStruct=n.LOCALHOST_HOSTNAMES=n.validateSnapShasum=n.getSnapChecksum=n.SnapStatusEvents=n.SnapStatus=n.PROPOSED_NAME_REGEX=void 0;const s=e("@metamask/superstruct"),a=e("@metamask/utils"),i=e("@scure/base"),o=r(e("fast-json-stable-stringify")),c=r(e("validate-npm-package-name")),u=e("./caveats.cjs"),l=e("./checksum.cjs"),d=e("./types.cjs");var m,p;function h(e){const t=e.clone();return delete t.result.source.shasum,t.value=(0,o.default)(t.result),t}async function f(e){const{manifest:t,sourceCode:n,svgIcon:r,auxiliaryFiles:s,localizationFiles:a}=e,o=[h(t),n,r,...s,...a].filter((e=>e!==undefined));return i.base64.encode(await(0,l.checksumFiles)(o))}n.PROPOSED_NAME_REGEX=/^(?:[A-Za-z0-9-_]+( [A-Za-z0-9-_]+)*)|(?:(?:@[A-Za-z0-9-*~][A-Za-z0-9-*._~]*\/)?[A-Za-z0-9-~][A-Za-z0-9-._~]*)$/u,function(e){e.Installing="installing",e.Updating="updating",e.Running="running",e.Stopped="stopped",e.Crashed="crashed"}(m||(n.SnapStatus=m={})),function(e){e.Start="START",e.Stop="STOP",e.Crash="CRASH",e.Update="UPDATE"}(p||(n.SnapStatusEvents=p={})),n.getSnapChecksum=f,n.validateSnapShasum=async function(e,t="Invalid Snap manifest: manifest shasum does not match computed shasum."){if(e.manifest.result.source.shasum!==await f(e))throw new Error(t)},n.LOCALHOST_HOSTNAMES=["localhost","127.0.0.1","[::1]"],n.BaseSnapIdStruct=(0,s.pattern)((0,s.string)(),/^[\x21-\x7E]*$/u);const g=(0,d.uri)({protocol:(0,s.enums)(["http:","https:"]),hostname:(0,s.enums)(n.LOCALHOST_HOSTNAMES),hash:(0,s.empty)((0,s.string)()),search:(0,s.empty)((0,s.string)())});function y(e){const t=Object.values(d.SnapIdPrefixes).find((t=>e.startsWith(t)));if(t!==undefined)return t;throw new Error(`Invalid or no prefix found for "${e}"`)}n.LocalSnapIdStruct=(0,s.refine)(n.BaseSnapIdStruct,"local Snap Id",(e=>{if(!e.startsWith(d.SnapIdPrefixes.local))return`Expected local snap ID, got "${e}".`;const[t]=(0,s.validate)(e.slice(d.SnapIdPrefixes.local.length),g);return t??!0})),n.NpmSnapIdStruct=(0,s.intersection)([n.BaseSnapIdStruct,(0,d.uri)({protocol:(0,s.literal)(d.SnapIdPrefixes.npm),pathname:(0,s.refine)((0,s.string)(),"package name",(function*(e){const t=e.startsWith("/")?e.slice(1):e,{errors:n,validForNewPackages:r,warnings:s}=(0,c.default)(t);return r||(n===undefined?((0,a.assert)(s!==undefined),yield*s):yield*n),!0})),search:(0,s.empty)((0,s.string)()),hash:(0,s.empty)((0,s.string)())})]),n.HttpSnapIdStruct=(0,s.intersection)([n.BaseSnapIdStruct,(0,d.uri)({protocol:(0,s.enums)(["http:","https:"]),search:(0,s.empty)((0,s.string)()),hash:(0,s.empty)((0,s.string)())})]),n.SnapIdStruct=(0,s.union)([n.NpmSnapIdStruct,n.LocalSnapIdStruct]),n.getSnapPrefix=y,n.stripSnapPrefix=function(e){return e.replace(y(e),"")},n.isSnapId=function(e){return(0,s.is)(e,n.SnapIdStruct)},n.assertIsValidSnapId=function(e){(0,a.assertStruct)(e,n.SnapIdStruct,"Invalid snap ID")},n.isSnapPermitted=function(e,t){return Boolean((e?.wallet_snap?.caveats?.find((e=>e.type===u.SnapCaveatType.SnapIds))??{}).value?.[t])},n.verifyRequestedSnapPermissions=function(e){(0,a.assert)((0,a.isObject)(e),"Requested permissions must be an object.");const{wallet_snap:t}=e;(0,a.assert)((0,a.isObject)(t),"wallet_snap is missing from the requested permissions.");const{caveats:n}=t;(0,a.assert)(Array.isArray(n)&&1===n.length,"wallet_snap must have a caveat property with a single-item array value.");const[r]=n;(0,a.assert)((0,a.isObject)(r)&&r.type===u.SnapCaveatType.SnapIds&&(0,a.isObject)(r.value),`The requested permissions do not have a valid ${u.SnapCaveatType.SnapIds} caveat.`)}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/snaps.cjs"}],[2785,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.indent=void 0,n.indent=function(e,t=2){return e.replace(/^/gmu," ".repeat(t))}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/strings.cjs"}],[2786,{"./strings.cjs":2785,"@metamask/snaps-sdk":2632,"@metamask/superstruct":2797,"@metamask/utils":2872,chalk:3962},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.mergeStructs=n.createUnion=n.validateUnion=n.getStructErrorMessage=n.getStructFailureMessage=n.getStructErrorPrefix=n.getUnionStructNames=n.getStructFromPath=n.createFromStruct=n.getError=n.arrayToGenerator=n.SnapsStructError=n.named=void 0;const r=e("@metamask/snaps-sdk"),s=e("@metamask/superstruct"),a=e("@metamask/utils"),i=e("chalk"),o=e("./strings.cjs");function c(e,t,n){return n?t(e):e}n.named=function(e,t){return new s.Struct({...t,type:e})};class u extends s.StructError{constructor(e,t,n,r,s,a=!0){super(r,s),this.name="SnapsStructError",this.message=`${t}.\n\n${g(e,[...s()],a)}${n?`\n\n${n}`:""}`}}function*l(e){for(const t of e)yield t}function d({struct:e,prefix:t,suffix:n="",error:r,colorize:s}){return new u(e,t,n,r,(()=>l(r.failures())),s)}function m(e,t){return t.reduce(((t,n)=>(0,a.isObject)(e.schema)&&e.schema[n]?e.schema[n]:t),e)}function p(e,t=!0){return Array.isArray(e.schema)?e.schema.map((({type:e})=>c(e,i.green,t))):null}function h(e,t=!0){return"never"===e.type||0===e.path.length?"":`At path: ${c(e.path.join("."),i.bold,t)} — `}function f(e,t,n=!0){const r=c(JSON.stringify(t.value),i.red,n),s=h(t,n);if("union"===t.type){const a=p(m(e,t.path),n);return a?`${s}Expected the value to be one of: ${a.join(", ")}, but received: ${r}.`:`${s}${t.message}.`}if("literal"===t.type){return`${s}${t.message.replace(/the literal `(.+)`,/u,`the value to be \`${c("$1",i.green,n)}\`,`).replace(/, but received: (.+)/u,`, but received: ${c("$1",i.red,n)}`)}.`}if("never"===t.type)return`Unknown key: ${c(t.path.join("."),i.bold,n)}, received: ${r}.`;if("size"===t.refinement){return`${s}${t.message.replace(/length between `(\d+)` and `(\d+)`/u,`length between ${c("$1",i.green,n)} and ${c("$2",i.green,n)},`).replace(/length of `(\d+)`/u,`length of ${c("$1",i.red,n)}`).replace(/a array/u,"an array")}.`}return t.refinement!==undefined?`${s}${t.message}.`:`${s}Expected a value of type ${c(t.type,i.green,n)}, but received: ${r}.`}function g(e,t,n=!0){return t.map((t=>(0,o.indent)(`• ${f(e,t,n)}`))).join("\n")}function y(e,t,n,i=!1){(0,a.assert)(t.schema,"Expected a struct with a schema. Make sure to use `union` from `@metamask/snaps-sdk`."),(0,a.assert)(t.schema.length>0,"Expected a non-empty array of structs.");const o=t.schema.map((e=>e.schema[n])),c=(0,s.type)({[n]:(0,r.union)(o)}),[u]=(0,s.validate)(e,c,{coerce:i});if(u)throw new Error(f(c,u.failures()[0],!1));const l=e,d=t.schema.filter((e=>(0,s.is)(l[n],e.schema[n])));(0,a.assert)(d.length>0,"Expected a struct to match the value.");const m=d.map((e=>(0,s.validate)(l,e,{coerce:i}))),p=m.find((([e])=>!e));if(p)return p[1];(0,a.assert)(m[0][0],"Expected at least one error.");const h=m.reduce(((e,[t])=>((0,a.assert)(t,"Expected an error."),t.failures().length<e.failures().length?t:e)),m[0][0]);throw new Error(f(t,h.failures()[0],!1))}n.SnapsStructError=u,n.arrayToGenerator=l,n.getError=d,n.createFromStruct=function(e,t,n,r=""){try{return(0,s.create)(e,t)}catch(e){if(e instanceof s.StructError)throw d({struct:t,prefix:n,suffix:r,error:e});throw e}},n.getStructFromPath=m,n.getUnionStructNames=p,n.getStructErrorPrefix=h,n.getStructFailureMessage=f,n.getStructErrorMessage=g,n.validateUnion=y,n.createUnion=function(e,t,n){return y(e,t,n,!0)},n.mergeStructs=function(...e){const t=s.assign(...e);return new s.Struct({...t,*refiner(t,n){for(const r of e)yield*r.refiner(t,n)}})}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/structs.cjs"}],[2787,{"@metamask/utils":2872,"fast-xml-parser":4304},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isSvg=n.parseSvg=void 0;const r=e("@metamask/utils"),s=e("fast-xml-parser");function a(e){try{const t=e.trim();(0,r.assert)(t.length>0);const n=new s.XMLParser({ignoreAttributes:!1,parseAttributeValue:!0}).parse(t,!0);return(0,r.assert)((0,r.hasProperty)(n,"svg")),(0,r.isObject)(n.svg)?n.svg:{}}catch{throw new Error("Snap icon must be a valid SVG.")}}n.parseSvg=a,n.isSvg=function(e){try{return a(e),!0}catch{return!1}}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/svg.cjs"}],[2788,{"@metamask/superstruct":2797,"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.WALLET_SNAP_PERMISSION_KEY=n.isValidUrl=n.uri=n.SNAP_STREAM_NAMES=n.SnapIdPrefixes=n.NpmSnapPackageJsonStruct=n.NameStruct=n.NpmSnapFileNames=void 0;const r=e("@metamask/superstruct"),s=e("@metamask/utils");var a,i,o;!function(e){e.PackageJson="package.json",e.Manifest="snap.manifest.json"}(a||(n.NpmSnapFileNames=a={})),n.NameStruct=(0,r.size)((0,r.pattern)((0,r.string)(),/^(?:@[a-z0-9-*~][a-z0-9-*._~]*\/)?[a-z0-9-~][a-z0-9-._~]*$/u),1,214),n.NpmSnapPackageJsonStruct=(0,r.type)({version:s.VersionStruct,name:n.NameStruct,main:(0,r.optional)((0,r.size)((0,r.string)(),1,Infinity)),repository:(0,r.optional)((0,r.type)({type:(0,r.size)((0,r.string)(),1,Infinity),url:(0,r.size)((0,r.string)(),1,Infinity)}))}),function(e){e.npm="npm:",e.local="local:"}(i||(n.SnapIdPrefixes=i={})),function(e){e.JSON_RPC="jsonRpc",e.COMMAND="command"}(o||(n.SNAP_STREAM_NAMES=o={}));n.uri=(e={})=>(0,r.refine)((0,r.union)([(0,r.string)(),(0,r.instance)(URL)]),"uri",(t=>{try{const n=new URL(t),s=(0,r.type)(e);return(0,r.assert)(n,s),!0}catch{return`Expected URL, got "${t.toString()}".`}})),n.isValidUrl=function(e,t={}){return(0,r.is)(e,(0,n.uri)(t))},n.WALLET_SNAP_PERMISSION_KEY="wallet_snap"}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/types.cjs"}],[2789,{"./url.cjs":2790,"@metamask/snaps-sdk":2632,"@metamask/snaps-sdk/jsx":2754,"@metamask/snaps-sdk/jsx-runtime":2753,"@metamask/utils":2872,marked:4798},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.serialiseJsx=n.walkJsx=n.getJsxChildren=n.hasChildren=n.getTotalTextLength=n.validateJsxLinks=n.validateTextLinks=n.validateLink=n.getJsxElementFromComponent=n.getTextChildren=void 0;const r=e("@metamask/snaps-sdk/jsx-runtime"),s=e("@metamask/snaps-sdk"),a=e("@metamask/snaps-sdk/jsx"),i=e("@metamask/utils"),o=e("marked"),c=e("./url.cjs"),u=5e4,l=["https:","mailto:","metamask:"];function d(e){switch(e){case"primary":return"primary";case"secondary":return"destructive";default:return undefined}}function m(e){return 1===e.length?e[0]:e}function p(e){return e.tokens&&e.tokens.length>0?m(e.tokens.flatMap(f)):e.href}function h(e){return m(e.flatMap(f))}function f(e){switch(e.type){case"link":return(0,r.jsx)(a.Link,{href:e.href,children:p(e)});case"text":return e.text;case"strong":return(0,r.jsx)(a.Bold,{children:h(e.tokens)});case"em":return(0,r.jsx)(a.Italic,{children:h(e.tokens)});default:return null}}function g(e){const t=(0,o.lexer)(e,{gfm:!1}),n=[];return(0,o.walkTokens)(t,(e=>{if("paragraph"===e.type){n.length>0&&n.push("\n\n");const{tokens:t}=e;n.push(...t.flatMap(f))}})),n.filter((e=>null!==e))}function y(e,t,n){try{const r=new URL(e);if((0,i.assert)(l.includes(r.protocol),`Protocol must be one of: ${l.join(", ")}.`),"metamask:"===r.protocol){const t=(0,c.parseMetaMaskUrl)(e);t.snapId&&(0,i.assert)(n(t.snapId),"The Snap being navigated to is not installed.")}else if("mailto:"===r.protocol){const e=r.pathname.split(",");for(const n of e){const e=n.split("@")[1];(0,i.assert)(!e.includes(":"));const r=`https://${e}`;(0,i.assert)(!t(r),"The specified URL is not allowed.")}return}(0,i.assert)(!t(r.href),"The specified URL is not allowed.")}catch(e){throw new Error(`Invalid URL: ${"ERR_ASSERTION"===e?.code?e.message:"Unable to parse URL."}`)}}function b(e){const{type:t}=e;switch(t){case s.NodeType.Panel:return e.children.reduce(((e,t)=>e+b(t)),0);case s.NodeType.Row:return b(e.value);case s.NodeType.Text:return e.value.length;default:return 0}}function x(e){return(0,i.hasProperty)(e.props,"children")}function v(e){return Boolean(e)&&!0!==e}function S(e){if(x(e)){if(Array.isArray(e.props.children))return e.props.children.filter(v).flat(Infinity);if(e.props.children)return[e.props.children]}return[]}function w(e,t,n=0){if(Array.isArray(e)){for(const r of e){const e=w(r,t,n);if(e!==undefined)return e}return undefined}const r=t(e,n);if(r!==undefined)return r;if((0,i.hasProperty)(e,"props")&&(0,i.isPlainObject)(e.props)&&(0,i.hasProperty)(e.props,"children")){const r=S(e);for(const e of r)if((0,i.isPlainObject)(e)){const r=w(e,t,n+1);if(r!==undefined)return r}}return undefined}function k(e){return Object.entries(e).filter((([e])=>"children"!==e)).sort((([e],[t])=>e.localeCompare(t))).map((([e,t])=>{return` ${e}=${n=t,"string"==typeof n?`"${n}"`:`{${JSON.stringify(n)}}`}`;var n})).join("")}n.getTextChildren=g,n.getJsxElementFromComponent=function(e){return function(e){const t=b(e);(0,i.assert)(t<=u,`The text in a Snap UI may not be larger than ${u/1e3} kB.`)}(e),function e(t){switch(t.type){case s.NodeType.Address:return(0,r.jsx)(a.Address,{address:t.value});case s.NodeType.Button:return(0,r.jsx)(a.Button,{name:t.name,variant:d(t.variant),type:t.buttonType,children:t.value});case s.NodeType.Copyable:return(0,r.jsx)(a.Copyable,{value:t.value,sensitive:t.sensitive});case s.NodeType.Divider:return(0,r.jsx)(a.Divider,{});case s.NodeType.Form:return(0,r.jsx)(a.Form,{name:t.name,children:m(t.children.map(e))});case s.NodeType.Heading:return(0,r.jsx)(a.Heading,{children:t.value});case s.NodeType.Image:return(0,r.jsx)(a.Image,{src:t.value});case s.NodeType.Input:return(0,r.jsx)(a.Field,{label:t.label,error:t.error,children:(0,r.jsx)(a.Input,{name:t.name,type:t.inputType,value:t.value,placeholder:t.placeholder})});case s.NodeType.Panel:return(0,r.jsx)(a.Box,{children:m(t.children.map(e))});case s.NodeType.Row:return(0,r.jsx)(a.Row,{label:t.label,variant:t.variant,children:e(t.value)});case s.NodeType.Spinner:return(0,r.jsx)(a.Spinner,{});case s.NodeType.Text:return(0,r.jsx)(a.Text,{children:m(g(t.value))});default:return(0,i.assertExhaustive)(t)}}(e)},n.validateLink=y,n.validateTextLinks=function(e,t,n){const r=function(e){const t=(0,o.lexer)(e,{gfm:!1}),n=[];return(0,o.walkTokens)(t,(e=>{"link"===e.type&&n.push(e)})),n}(e);for(const e of r)y(e.href,t,n)},n.validateJsxLinks=function(e,t,n){w(e,(e=>{"Link"===e.type&&y(e.props.href,t,n)}))},n.getTotalTextLength=b,n.hasChildren=x,n.getJsxChildren=S,n.walkJsx=w,n.serialiseJsx=function e(t,n=0){if(Array.isArray(t))return t.map((t=>e(t,n))).join("");const r="  ".repeat(n);if("string"==typeof t)return`${r}${t}\n`;if(!t)return"";const{type:s,props:a}=t,o=n>0?"\n":"";if((0,i.hasProperty)(a,"children")){const t=e(a.children,n+1);return`${r}<${s}${k(a)}>\n${t}${r}</${s}>${o}`}return`${r}<${s}${k(a)} />${o}`}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/ui.cjs"}],[2790,{"./snaps.cjs":2784,"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.parseMetaMaskUrl=n.SNAP_PATHS=n.CLIENT_PATHS=void 0;const r=e("@metamask/utils"),s=e("./snaps.cjs");n.CLIENT_PATHS=["/"],n.SNAP_PATHS=["/home"],n.parseMetaMaskUrl=function(e){const t=new URL(e),{protocol:a}=t;if("metamask:"!==a)throw new Error(`Unable to parse URL. Expected the protocol to be "metamask:", but received "${a}".`);const[i,...o]=t.href.replace("metamask://","").split("/"),c=`/${o.join("/")}`;switch(i){case"client":return(0,r.assert)(n.CLIENT_PATHS.includes(c),`Unable to navigate to "${c}". The provided path is not allowed.`),{authority:i,path:c};case"snap":return function(e){const t="Invalid MetaMask url:",a=(0,s.stripSnapPrefix)(e.slice(1)),i=e.slice(1).startsWith("npm:")?"npm:":"local:",o=a.startsWith("@"),c=a.split("/"),u=`/${c[c.length-1]}`;let l;if("local:"===i){const[e,,...s]=c.slice(0,-1);l=`${e}//${s.join("/")}`,(0,r.assert)(n.SNAP_PATHS.includes(u),`${t} invalid snap path.`)}else l=o?`${c[0]}/${c[1]}`:c[0],(0,r.assert)(o?3===c.length&&n.SNAP_PATHS.includes(u):2===c.length&&n.SNAP_PATHS.includes(u),`${t} invalid snap path.`);const d=`${i}${l}`;return(0,s.assertIsValidSnapId)(d),{authority:"snap",snapId:d,path:u}}(c);default:throw new Error(`Expected "metamask:" URL to start with "client" or "snap", but received "${i}".`)}}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/url.cjs"}],[2791,{"./icon.cjs":2772,"./localization.cjs":2777,"./manifest/validation.cjs":2780,"./snaps.cjs":2784},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.validateFetchedSnap=void 0;const r=e("./icon.cjs"),s=e("./localization.cjs"),a=e("./manifest/validation.cjs"),i=e("./snaps.cjs");n.validateFetchedSnap=async function(e){(0,a.assertIsSnapManifest)(e.manifest.result),await(0,i.validateSnapShasum)(e),(0,s.validateSnapManifestLocalizations)(e.manifest.result,e.localizationFiles.map((e=>e.result))),e.svgIcon&&(0,r.assertIsSnapIcon)(e.svgIcon)}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/validation.cjs"}],[2792,{"@metamask/superstruct":2797,"@metamask/utils":2872,semver:5479},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.resolveVersionRange=n.getTargetVersion=n.DEFAULT_REQUESTED_SNAP_VERSION=void 0;const r=e("@metamask/superstruct"),s=e("@metamask/utils"),a=e("semver");n.DEFAULT_REQUESTED_SNAP_VERSION="*",n.getTargetVersion=function(e,t){const n=(0,a.maxSatisfying)(e,t);return n||(0,a.maxSatisfying)(e,t,{includePrerelease:!0})},n.resolveVersionRange=function(e){return e===undefined||"latest"===e?[undefined,n.DEFAULT_REQUESTED_SNAP_VERSION]:(0,r.validate)(e,s.VersionRangeStruct)}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/versions.cjs"}],[2793,{"../deep-clone.cjs":2765,"@metamask/utils":2872,"@scure/base":2951},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.VirtualFile=void 0;const r=e("@metamask/utils"),s=e("@scure/base"),a=e("../deep-clone.cjs");class i{constructor(e){let t;t="string"==typeof e||e instanceof Uint8Array?{value:e}:e,this.value=t?.value??"",this.result=t?.result??undefined,this.data=t?.data??{},this.path=t?.path??"/"}get size(){return"string"==typeof this.value?this.value.length:this.value.byteLength}toString(e){if("string"==typeof this.value)return(0,r.assert)(e===undefined,"Tried to encode string."),this.value;if(this.value instanceof Uint8Array&&"hex"===e)return(0,r.bytesToHex)(this.value);if(this.value instanceof Uint8Array&&"base64"===e)return s.base64.encode(this.value);return new TextDecoder(e).decode(this.value)}clone(){const e=new i;return"string"==typeof this.value?e.value=this.value:e.value=this.value.slice(0),e.result=(0,a.deepClone)(this.result),e.data=(0,a.deepClone)(this.data),e.path=this.path,e}}n.VirtualFile=i}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/virtual-file/VirtualFile.cjs"}],[2794,{"./VirtualFile.cjs":2793},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./VirtualFile.cjs"),n)}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/virtual-file/index.cjs"}],[2795,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports={snapId:"npm:@metamask/solana-wallet-snap",manifest:{version:"1.11.0",description:"Manage Solana using MetaMask",proposedName:"Solana",repository:{type:"git",url:"https://github.com/MetaMask/snap-solana-wallet.git"},source:{shasum:"hn7NnhF2Mer5kmsPdeoITydSw6rRCTviyttxMwlgouM=",location:{npm:{filePath:"dist/bundle.js",iconPath:"images/icon.svg",packageName:"@metamask/solana-wallet-snap",registry:"https://registry.npmjs.org/"}},locales:["locales/en.json"]},initialConnections:{"https://portfolio.metamask.io":{}},initialPermissions:{"endowment:rpc":{dapps:!0,snaps:!1},"endowment:keyring":{allowedOrigins:["https://portfolio.metamask.io"]},snap_getBip32Entropy:[{path:["m","44'","501'"],curve:"ed25519"}],"endowment:network-access":{},"endowment:cronjob":{jobs:[{expression:"* * * * *",request:{method:"refreshSend",params:{}}},{expression:"* * * * *",request:{method:"refreshConfirmationEstimation",params:{}}},{expression:"* * * * *",request:{method:"refreshTransactions",params:{}}},{expression:"* * * * *",request:{method:"refreshAssets",params:{}}}]},"endowment:protocol":{scopes:{"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":{methods:["getGenesisHash"]},"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1":{methods:["getGenesisHash"]}}},"endowment:assets":{scopes:["solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"]},snap_manageAccounts:{},snap_manageState:{},snap_dialog:{},snap_getPreferences:{}},manifestVersion:"0.1"},files:[{path:"images/icon.svg",value:'<svg width="101" height="101" viewBox="0 0 101 101" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M100.48 69.3817L83.8068 86.8015C83.4444 87.1799 83.0058 87.4816 82.5185 87.6878C82.0312 87.894 81.5055 88.0003 80.9743 88H1.93563C1.55849 88 1.18957 87.8926 0.874202 87.6912C0.558829 87.4897 0.31074 87.2029 0.160416 86.8659C0.0100923 86.529 -0.0359181 86.1566 0.0280382 85.7945C0.0919944 85.4324 0.263131 85.0964 0.520422 84.8278L17.2061 67.408C17.5676 67.0306 18.0047 66.7295 18.4904 66.5234C18.9762 66.3172 19.5002 66.2104 20.0301 66.2095H99.0644C99.4415 66.2095 99.8104 66.3169 100.126 66.5183C100.441 66.7198 100.689 67.0067 100.84 67.3436C100.99 67.6806 101.036 68.0529 100.972 68.415C100.908 68.7771 100.737 69.1131 100.48 69.3817ZM83.8068 34.3032C83.4444 33.9248 83.0058 33.6231 82.5185 33.4169C82.0312 33.2108 81.5055 33.1045 80.9743 33.1048H1.93563C1.55849 33.1048 1.18957 33.2121 0.874202 33.4136C0.558829 33.6151 0.31074 33.9019 0.160416 34.2388C0.0100923 34.5758 -0.0359181 34.9482 0.0280382 35.3103C0.0919944 35.6723 0.263131 36.0083 0.520422 36.277L17.2061 53.6968C17.5676 54.0742 18.0047 54.3752 18.4904 54.5814C18.9762 54.7875 19.5002 54.8944 20.0301 54.8952H99.0644C99.4415 54.8952 99.8104 54.7879 100.126 54.5864C100.441 54.3849 100.689 54.0981 100.84 53.7612C100.99 53.4242 101.036 53.0518 100.972 52.6897C100.908 52.3277 100.737 51.9917 100.48 51.723L83.8068 34.3032ZM1.93563 21.7905H80.9743C81.5055 21.7907 82.0312 21.6845 82.5185 21.4783C83.0058 21.2721 83.4444 20.9704 83.8068 20.592L100.48 3.17219C100.737 2.90357 100.908 2.56758 100.972 2.2055C101.036 1.84342 100.99 1.47103 100.84 1.13408C100.689 0.79713 100.441 0.510296 100.126 0.308823C99.8104 0.107349 99.4415 1.24074e-05 99.0644 0L20.0301 0C19.5002 0.000878397 18.9762 0.107699 18.4904 0.313848C18.0047 0.519998 17.5676 0.821087 17.2061 1.19848L0.524723 18.6183C0.267681 18.8866 0.0966198 19.2223 0.0325185 19.5839C-0.0315829 19.9456 0.0140624 20.3177 0.163856 20.6545C0.31365 20.9913 0.561081 21.2781 0.875804 21.4799C1.19053 21.6817 1.55886 21.7896 1.93563 21.7905Z" fill="url(#paint0_linear_174_4403)"/>\n<defs>\n<linearGradient id="paint0_linear_174_4403" x1="8.52558" y1="90.0973" x2="88.9933" y2="-3.01622" gradientUnits="userSpaceOnUse">\n<stop offset="0.08" stop-color="#9945FF"/>\n<stop offset="0.3" stop-color="#8752F3"/>\n<stop offset="0.5" stop-color="#5497D5"/>\n<stop offset="0.6" stop-color="#43B4CA"/>\n<stop offset="0.72" stop-color="#28E0B9"/>\n<stop offset="0.97" stop-color="#19FB9B"/>\n</linearGradient>\n</defs>\n</svg>\n'},{path:"dist/bundle.js",value:'(()=>{var e={7991:(e,t)=>{"use strict";t.byteLength=function(e){var t=s(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,i=s(e),a=i[0],c=i[1],u=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,c)),l=0,d=c>0?a-4:a;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;2===c&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,u[l++]=255&t);1===c&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t);return u},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i=[],a=16383,s=0,u=r-o;s<u;s+=a)i.push(c(e,s,s+a>u?u:s+a));1===o?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return i.join("")};for(var n=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)n[a]=i[a],r[i.charCodeAt(a)]=a;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,r){for(var o,i,a=[],s=t;s<r;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},6586:(e,t)=>{"use strict";t.I=void 0;const n="qpzry9x8gf2tvdw0s3jn54khce6mua7l",r={};for(let e=0;e<32;e++){const t=n.charAt(e);r[t]=e}function o(e){const t=e>>25;return(33554431&e)<<5^996825010&-(t>>0&1)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function i(e){let t=1;for(let n=0;n<e.length;++n){const r=e.charCodeAt(n);if(r<33||r>126)return"Invalid prefix ("+e+")";t=o(t)^r>>5}t=o(t);for(let n=0;n<e.length;++n){const r=e.charCodeAt(n);t=o(t)^31&r}return t}function a(e,t,n,r){let o=0,i=0;const a=(1<<n)-1,s=[];for(let r=0;r<e.length;++r)for(o=o<<t|e[r],i+=t;i>=n;)i-=n,s.push(o>>i&a);if(r)i>0&&s.push(o<<n-i&a);else{if(i>=t)return"Excess padding";if(o<<n-i&a)return"Non-zero padding"}return s}function s(e){return a(e,8,5,!0)}function c(e){const t=a(e,5,8,!1);if(Array.isArray(t))return t}function u(e){const t=a(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}function l(e){let t;function a(e,n){if(n=n||90,e.length<8)return e+" too short";if(e.length>n)return"Exceeds length limit";const a=e.toLowerCase(),s=e.toUpperCase();if(e!==a&&e!==s)return"Mixed-case string "+e;const c=(e=a).lastIndexOf("1");if(-1===c)return"No separator character for "+e;if(0===c)return"Missing prefix for "+e;const u=e.slice(0,c),l=e.slice(c+1);if(l.length<6)return"Data too short";let d=i(u);if("string"==typeof d)return d;const f=[];for(let e=0;e<l.length;++e){const t=l.charAt(e),n=r[t];if(void 0===n)return"Unknown character "+t;d=o(d)^n,e+6>=l.length||f.push(n)}return d!==t?"Invalid checksum for "+e:{prefix:u,words:f}}return t="bech32"===e?1:734539939,{decodeUnsafe:function(e,t){const n=a(e,t);if("object"==typeof n)return n},decode:function(e,t){const n=a(e,t);if("object"==typeof n)return n;throw new Error(n)},encode:function(e,r,a){if(a=a||90,e.length+7+r.length>a)throw new TypeError("Exceeds length limit");let s=i(e=e.toLowerCase());if("string"==typeof s)throw new Error(s);let c=e+"1";for(let e=0;e<r.length;++e){const t=r[e];if(t>>5!=0)throw new Error("Non 5-bit word");s=o(s)^t,c+=n.charAt(t)}for(let e=0;e<6;++e)s=o(s);s^=t;for(let e=0;e<6;++e){c+=n.charAt(s>>5*(5-e)&31)}return c},toWords:s,fromWordsUnsafe:c,fromWords:u}}t.I=l("bech32"),l("bech32m")},1048:(e,t,n)=>{"use strict";const r=n(7991),o=n(9318),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.hp=c,t.IS=50;const a=2147483647;function s(e){if(e>a)throw new RangeError(\'The value "\'+e+\'" is invalid for option "size"\');const t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError(\'The "string" argument must be of type string. Received type number\');return d(e)}return u(e,t,n)}function u(e,t,n){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|g(e,t);let r=s(n);const o=r.write(e,t);o!==n&&(r=r.slice(0,o));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(J(e,Uint8Array)){const t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return f(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(J(e,ArrayBuffer)||e&&J(e.buffer,ArrayBuffer))return p(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(J(e,SharedArrayBuffer)||e&&J(e.buffer,SharedArrayBuffer)))return p(e,t,n);if("number"==typeof e)throw new TypeError(\'The "value" argument must not be of type number. Received type number\');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return c.from(r,t,n);const o=function(e){if(c.isBuffer(e)){const t=0|h(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!=typeof e.length||Z(e.length)?s(0):f(e);if("Buffer"===e.type&&Array.isArray(e.data))return f(e.data)}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw new TypeError(\'"size" argument must be of type number\');if(e<0)throw new RangeError(\'The value "\'+e+\'" is invalid for option "size"\')}function d(e){return l(e),s(e<0?0:0|h(e))}function f(e){const t=e.length<0?0:0|h(e.length),n=s(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function p(e,t,n){if(t<0||e.byteLength<t)throw new RangeError(\'"offset" is outside of buffer bounds\');if(e.byteLength<t+(n||0))throw new RangeError(\'"length" is outside of buffer bounds\');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,c.prototype),r}function h(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function g(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||J(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError(\'The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type \'+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let o=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return K(e).length;default:if(o)return r?-1:V(e).length;t=(""+t).toLowerCase(),o=!0}}function m(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return C(this,t,n);case"utf8":case"utf-8":return T(this,t,n);case"ascii":return O(this,t,n);case"latin1":case"binary":return B(this,t,n);case"base64":return k(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Z(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:w(e,t,n,r,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):w(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function w(e,t,n,r,o){let i,a=1,s=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){let r=-1;for(i=n;i<s;i++)if(u(e,i)===u(t,-1===r?0:i-r)){if(-1===r&&(r=i),i-r+1===c)return r*a}else-1!==r&&(i-=i-r),r=-1}else for(n+c>s&&(n=s-c),i=n;i>=0;i--){let n=!0;for(let r=0;r<c;r++)if(u(e,i+r)!==u(t,r)){n=!1;break}if(n)return i}return-1}function A(e,t,n,r){n=Number(n)||0;const o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;const i=t.length;let a;for(r>i/2&&(r=i/2),a=0;a<r;++a){const r=parseInt(t.substr(2*a,2),16);if(Z(r))return a;e[n+a]=r}return a}function b(e,t,n,r){return H(V(t,e.length-n),e,n,r)}function S(e,t,n,r){return H(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function x(e,t,n,r){return H(K(t),e,n,r)}function E(e,t,n,r){return H(function(e,t){let n,r,o;const i=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function k(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function T(e,t,n){n=Math.min(e.length,n);const r=[];let o=t;for(;o<n;){const t=e[o];let i=null,a=t>239?4:t>223?3:t>191?2:1;if(o+a<=n){let n,r,s,c;switch(a){case 1:t<128&&(i=t);break;case 2:n=e[o+1],128==(192&n)&&(c=(31&t)<<6|63&n,c>127&&(i=c));break;case 3:n=e[o+1],r=e[o+2],128==(192&n)&&128==(192&r)&&(c=(15&t)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(i=c));break;case 4:n=e[o+1],r=e[o+2],s=e[o+3],128==(192&n)&&128==(192&r)&&128==(192&s)&&(c=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&s,c>65535&&c<1114112&&(i=c))}}null===i?(i=65533,a=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),o+=a}return function(e){const t=e.length;if(t<=I)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=I));return n}(r)}c.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,n){return u(e,t,n)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,n){return function(e,t,n){return l(e),e<=0?s(e):void 0!==t?"string"==typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}(e,t,n)},c.allocUnsafe=function(e){return d(e)},c.allocUnsafeSlow=function(e){return d(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(J(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),J(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError(\'The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array\');if(e===t)return 0;let n=e.length,r=t.length;for(let o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError(\'"list" argument must be an Array of Buffers\');if(0===e.length)return c.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=c.allocUnsafe(t);let o=0;for(n=0;n<e.length;++n){let t=e[n];if(J(t,Uint8Array))o+t.length>r.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(r,o)):Uint8Array.prototype.set.call(r,t,o);else{if(!c.isBuffer(t))throw new TypeError(\'"list" argument must be an Array of Buffers\');t.copy(r,o)}o+=t.length}return r},c.byteLength=g,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)y(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?T(this,0,e):m.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e="";const n=t.IS;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},i&&(c.prototype[i]=c.prototype.inspect),c.prototype.compare=function(e,t,n,r,o){if(J(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError(\'The "target" argument must be one of type Buffer or Uint8Array. Received type \'+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;let i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0);const s=Math.min(i,a),u=this.slice(r,o),l=e.slice(t,n);for(let e=0;e<s;++e)if(u[e]!==l[e]){i=u[e],a=l[e];break}return i<a?-1:a<i?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let i=!1;for(;;)switch(r){case"hex":return A(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":case"latin1":case"binary":return S(this,e,t,n);case"base64":return x(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const I=4096;function O(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function B(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function C(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let o="";for(let r=t;r<n;++r)o+=Y[e[r]];return o}function R(e,t,n){const r=e.slice(t,n);let o="";for(let e=0;e<r.length-1;e+=2)o+=String.fromCharCode(r[e]+256*r[e+1]);return o}function j(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function N(e,t,n,r,o,i){if(!c.isBuffer(e))throw new TypeError(\'"buffer" argument must be a Buffer instance\');if(t>o||t<i)throw new RangeError(\'"value" argument is out of bounds\');if(n+r>e.length)throw new RangeError("Index out of range")}function P(e,t,n,r,o){$(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,n}function _(e,t,n,r,o){$(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n+7]=i,i>>=8,e[n+6]=i,i>>=8,e[n+5]=i,i>>=8,e[n+4]=i;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=a,a>>=8,e[n+2]=a,a>>=8,e[n+1]=a,a>>=8,e[n]=a,n+8}function L(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function M(e,t,n,r,i){return t=+t,n>>>=0,i||L(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function U(e,t,n,r,i){return t=+t,n>>>=0,i||L(e,0,n,8),o.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,c.prototype),r},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||j(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return r},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||j(e,t,this.length);let r=this[e+--t],o=1;for(;t>0&&(o*=256);)r+=this[e+--t]*o;return r},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||j(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||j(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||j(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||j(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||j(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=Q((function(e){q(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,o=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(o)<<BigInt(32))})),c.prototype.readBigUInt64BE=Q((function(e){q(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],o=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(o)})),c.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||j(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||j(e,t,this.length);let r=t,o=1,i=this[e+--r];for(;r>0&&(o*=256);)i+=this[e+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},c.prototype.readInt8=function(e,t){return e>>>=0,t||j(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||j(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){e>>>=0,t||j(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||j(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||j(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=Q((function(e){q(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),c.prototype.readBigInt64BE=Q((function(e){q(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||j(e,4,this.length),o.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||j(e,4,this.length),o.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||j(e,8,this.length),o.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||j(e,8,this.length),o.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){N(this,e,t,n,Math.pow(2,8*n)-1,0)}let o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){N(this,e,t,n,Math.pow(2,8*n)-1,0)}let o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=Q((function(e,t=0){return P(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=Q((function(e,t=0){return _(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);N(this,e,t,n,r-1,-r)}let o=0,i=1,a=0;for(this[t]=255&e;++o<n&&(i*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/i>>0)-a&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);N(this,e,t,n,r-1,-r)}let o=n-1,i=1,a=0;for(this[t+o]=255&e;--o>=0&&(i*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/i>>0)-a&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=Q((function(e,t=0){return P(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=Q((function(e,t=0){return _(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(e,t,n){return M(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return M(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return U(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return U(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const o=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),o},c.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{const i=c.isBuffer(e)?e:c.from(e,r),a=i.length;if(0===a)throw new TypeError(\'The value "\'+e+\'" is invalid for argument "value"\');for(o=0;o<n-t;++o)this[o+t]=i[o%a]}return this};const z={};function F(e,t,n){z[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function D(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function $(e,t,n,r,o,i){if(e>n||e<t){const r="bigint"==typeof t?"n":"";let o;throw o=i>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(i+1)}${r}`:`>= -(2${r} ** ${8*(i+1)-1}${r}) and < 2 ** ${8*(i+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new z.ERR_OUT_OF_RANGE("value",o,e)}!function(e,t,n){q(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||W(t,e.length-(n+1))}(r,o,i)}function q(e,t){if("number"!=typeof e)throw new z.ERR_INVALID_ARG_TYPE(t,"number",e)}function W(e,t,n){if(Math.floor(e)!==e)throw q(e,n),new z.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new z.ERR_BUFFER_OUT_OF_BOUNDS;throw new z.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}F("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),F("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),F("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,o=n;return Number.isInteger(n)&&Math.abs(n)>2**32?o=D(String(n)):"bigint"==typeof n&&(o=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(o=D(o)),o+="n"),r+=` It must be ${t}. Received ${o}`,r}),RangeError);const G=/[^+/0-9A-Za-z-_]/g;function V(e,t){let n;t=t||1/0;const r=e.length;let o=null;const i=[];for(let a=0;a<r;++a){if(n=e.charCodeAt(a),n>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function K(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(G,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function H(e,t,n,r){let o;for(o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function J(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Z(e){return e!=e}const Y=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let o=0;o<16;++o)t[r+o]=e[n]+e[o]}return t}();function Q(e){return"undefined"==typeof BigInt?X:e}function X(){throw new Error("BigInt not supported")}},282:e=>{e.exports=a,a.default=a,a.stable=l,a.stableStringify=l;var t="[...]",n="[Circular]",r=[],o=[];function i(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function a(e,t,n,a){var s;void 0===a&&(a=i()),c(e,"",0,[],void 0,0,a);try{s=0===o.length?JSON.stringify(e,t,n):JSON.stringify(e,f(t),n)}catch(e){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==r.length;){var u=r.pop();4===u.length?Object.defineProperty(u[0],u[1],u[3]):u[0][u[1]]=u[2]}}return s}function s(e,t,n,i){var a=Object.getOwnPropertyDescriptor(i,n);void 0!==a.get?a.configurable?(Object.defineProperty(i,n,{value:e}),r.push([i,n,t,a])):o.push([t,n,e]):(i[n]=e,r.push([i,n,t]))}function c(e,r,o,i,a,u,l){var d;if(u+=1,"object"==typeof e&&null!==e){for(d=0;d<i.length;d++)if(i[d]===e)return void s(n,e,r,a);if(void 0!==l.depthLimit&&u>l.depthLimit)return void s(t,e,r,a);if(void 0!==l.edgesLimit&&o+1>l.edgesLimit)return void s(t,e,r,a);if(i.push(e),Array.isArray(e))for(d=0;d<e.length;d++)c(e[d],d,d,i,e,u,l);else{var f=Object.keys(e);for(d=0;d<f.length;d++){var p=f[d];c(e[p],p,d,i,e,u,l)}}i.pop()}}function u(e,t){return e<t?-1:e>t?1:0}function l(e,t,n,a){void 0===a&&(a=i());var s,c=d(e,"",0,[],void 0,0,a)||e;try{s=0===o.length?JSON.stringify(c,t,n):JSON.stringify(c,f(t),n)}catch(e){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==r.length;){var u=r.pop();4===u.length?Object.defineProperty(u[0],u[1],u[3]):u[0][u[1]]=u[2]}}return s}function d(e,o,i,a,c,l,f){var p;if(l+=1,"object"==typeof e&&null!==e){for(p=0;p<a.length;p++)if(a[p]===e)return void s(n,e,o,c);try{if("function"==typeof e.toJSON)return}catch(e){return}if(void 0!==f.depthLimit&&l>f.depthLimit)return void s(t,e,o,c);if(void 0!==f.edgesLimit&&i+1>f.edgesLimit)return void s(t,e,o,c);if(a.push(e),Array.isArray(e))for(p=0;p<e.length;p++)d(e[p],p,p,a,e,l,f);else{var h={},g=Object.keys(e).sort(u);for(p=0;p<g.length;p++){var m=g[p];d(e[m],m,p,a,e,l,f),h[m]=e[m]}if(void 0===c)return h;r.push([c,o,e]),c[o]=h}a.pop()}}function f(e){return e=void 0!==e?e:function(e,t){return t},function(t,n){if(o.length>0)for(var r=0;r<o.length;r++){var i=o[r];if(i[1]===t&&i[0]===n){n=i[2],o.splice(r,1);break}}return e.call(this,t,n)}}},9318:(e,t)=>{t.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,c=(1<<s)-1,u=c>>1,l=-7,d=n?o-1:0,f=n?-1:1,p=e[t+d];for(d+=f,i=p&(1<<-l)-1,p>>=-l,l+=s;l>0;i=256*i+e[t+d],d+=f,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;l>0;a=256*a+e[t+d],d+=f,l-=8);if(0===i)i=1-u;else{if(i===c)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),i-=u}return(p?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,s,c,u=8*i-o-1,l=(1<<u)-1,d=l>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,h=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+d>=1?f/c:f*Math.pow(2,1-d))*c>=2&&(a++,c/=2),a+d>=l?(s=0,a=l):a+d>=1?(s=(t*c-1)*Math.pow(2,o),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,o),a=0));o>=8;e[n+p]=255&s,p+=h,s/=256,o-=8);for(a=a<<o|s,u+=o;u>0;e[n+p]=255&a,p+=h,a/=256,u-=8);e[n+p-h]|=128*g}},3103:(e,t,n)=>{var r=n(4715)(n(8942),"DataView");e.exports=r},5098:(e,t,n)=>{var r=n(3305),o=n(9361),i=n(1112),a=n(5276),s=n(5071);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},7553:(e,t,n)=>{var r=n(9747),o=n(5962);function i(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}i.prototype=r(o.prototype),i.prototype.constructor=i,e.exports=i},1386:(e,t,n)=>{var r=n(2393),o=n(2049),i=n(7144),a=n(7452),s=n(3964);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},528:(e,t,n)=>{var r=n(9747),o=n(5962);function i(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}i.prototype=r(o.prototype),i.prototype.constructor=i,e.exports=i},9770:(e,t,n)=>{var r=n(4715)(n(8942),"Map");e.exports=r},8250:(e,t,n)=>{var r=n(9753),o=n(5681),i=n(88),a=n(4732),s=n(9068);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},9413:(e,t,n)=>{var r=n(4715)(n(8942),"Promise");e.exports=r},4512:(e,t,n)=>{var r=n(4715)(n(8942),"Set");e.exports=r},3212:(e,t,n)=>{var r=n(8250),o=n(1877),i=n(8006);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,e.exports=a},1340:(e,t,n)=>{var r=n(1386),o=n(4103),i=n(1779),a=n(4162),s=n(7462),c=n(6638);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=o,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=s,u.prototype.set=c,e.exports=u},5650:(e,t,n)=>{var r=n(8942).Symbol;e.exports=r},1623:(e,t,n)=>{var r=n(8942).Uint8Array;e.exports=r},9270:(e,t,n)=>{var r=n(4715)(n(8942),"WeakMap");e.exports=r},6912:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},9968:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},9847:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}},9756:(e,t,n)=>{var r=n(2478);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},358:(e,t,n)=>{var r=n(6137),o=n(3283),i=n(3142),a=n(5853),s=n(9632),c=n(8666),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),l=!n&&o(e),d=!n&&!l&&a(e),f=!n&&!l&&!d&&c(e),p=n||l||d||f,h=p?r(e.length,String):[],g=h.length;for(var m in e)!t&&!u.call(e,m)||p&&("length"==m||d&&("offset"==m||"parent"==m)||f&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,g))||h.push(m);return h}},5111:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},1129:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},6465:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},3422:(e,t,n)=>{var r=n(7073),o=n(6285),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];i.call(e,t)&&o(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},7034:(e,t,n)=>{var r=n(6285);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},7930:(e,t,n)=>{var r=n(9032),o=n(1211);e.exports=function(e,t){return e&&r(t,o(t),e)}},125:(e,t,n)=>{var r=n(9032),o=n(5288);e.exports=function(e,t){return e&&r(t,o(t),e)}},7073:(e,t,n)=>{var r=n(2532);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},9334:(e,t,n)=>{var r=n(1340),o=n(9968),i=n(3422),a=n(7930),s=n(125),c=n(7099),u=n(4354),l=n(3546),d=n(4733),f=n(393),p=n(3650),h=n(8486),g=n(7350),m=n(424),y=n(5964),v=n(3142),w=n(5853),A=n(7681),b=n(1580),S=n(3943),x=n(1211),E=n(5288),k="[object Arguments]",T="[object Function]",I="[object Object]",O={};O[k]=O["[object Array]"]=O["[object ArrayBuffer]"]=O["[object DataView]"]=O["[object Boolean]"]=O["[object Date]"]=O["[object Float32Array]"]=O["[object Float64Array]"]=O["[object Int8Array]"]=O["[object Int16Array]"]=O["[object Int32Array]"]=O["[object Map]"]=O["[object Number]"]=O[I]=O["[object RegExp]"]=O["[object Set]"]=O["[object String]"]=O["[object Symbol]"]=O["[object Uint8Array]"]=O["[object Uint8ClampedArray]"]=O["[object Uint16Array]"]=O["[object Uint32Array]"]=!0,O["[object Error]"]=O[T]=O["[object WeakMap]"]=!1,e.exports=function e(t,n,B,C,R,j){var N,P=1&n,_=2&n,L=4&n;if(B&&(N=R?B(t,C,R,j):B(t)),void 0!==N)return N;if(!b(t))return t;var M=v(t);if(M){if(N=g(t),!P)return u(t,N)}else{var U=h(t),z=U==T||"[object GeneratorFunction]"==U;if(w(t))return c(t,P);if(U==I||U==k||z&&!R){if(N=_||z?{}:y(t),!P)return _?d(t,s(N,t)):l(t,a(N,t))}else{if(!O[U])return R?t:{};N=m(t,U,P)}}j||(j=new r);var F=j.get(t);if(F)return F;j.set(t,N),S(t)?t.forEach((function(r){N.add(e(r,n,B,r,t,j))})):A(t)&&t.forEach((function(r,o){N.set(o,e(r,n,B,o,t,j))}));var D=M?void 0:(L?_?p:f:_?E:x)(t);return o(D||t,(function(r,o){D&&(r=t[o=r]),i(N,o,e(r,n,B,o,t,j))})),N}},9747:(e,t,n)=>{var r=n(1580),o=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},7250:e=>{e.exports=function(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}},313:(e,t,n)=>{var r=n(1129),o=n(714);e.exports=function e(t,n,i,a,s){var c=-1,u=t.length;for(i||(i=o),s||(s=[]);++c<u;){var l=t[c];n>0&&i(l)?n>1?e(l,n-1,i,a,s):r(s,l):a||(s[s.length]=l)}return s}},7923:(e,t,n)=>{var r=n(3526),o=n(6040);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}},8244:(e,t,n)=>{var r=n(1129),o=n(3142);e.exports=function(e,t,n){var i=t(e);return o(e)?i:r(i,n(e))}},7379:(e,t,n)=>{var r=n(5650),o=n(8870),i=n(9005),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},3636:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},2478:(e,t,n)=>{var r=n(7250),o=n(9454),i=n(7706);e.exports=function(e,t,n){return t==t?i(e,t,n):r(e,o,n)}},6027:(e,t,n)=>{var r=n(7379),o=n(547);e.exports=function(e){return o(e)&&"[object Arguments]"==r(e)}},4687:(e,t,n)=>{var r=n(353),o=n(547);e.exports=function e(t,n,i,a,s){return t===n||(null==t||null==n||!o(t)&&!o(n)?t!=t&&n!=n:r(t,n,i,a,e,s))}},353:(e,t,n)=>{var r=n(1340),o=n(3934),i=n(8861),a=n(1182),s=n(8486),c=n(3142),u=n(5853),l=n(8666),d="[object Arguments]",f="[object Array]",p="[object Object]",h=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,g,m,y){var v=c(e),w=c(t),A=v?f:s(e),b=w?f:s(t),S=(A=A==d?p:A)==p,x=(b=b==d?p:b)==p,E=A==b;if(E&&u(e)){if(!u(t))return!1;v=!0,S=!1}if(E&&!S)return y||(y=new r),v||l(e)?o(e,t,n,g,m,y):i(e,t,A,n,g,m,y);if(!(1&n)){var k=S&&h.call(e,"__wrapped__"),T=x&&h.call(t,"__wrapped__");if(k||T){var I=k?e.value():e,O=T?t.value():t;return y||(y=new r),m(I,O,n,g,y)}}return!!E&&(y||(y=new r),a(e,t,n,g,m,y))}},777:(e,t,n)=>{var r=n(8486),o=n(547);e.exports=function(e){return o(e)&&"[object Map]"==r(e)}},8330:(e,t,n)=>{var r=n(1340),o=n(4687);e.exports=function(e,t,n,i){var a=n.length,s=a,c=!i;if(null==e)return!s;for(e=Object(e);a--;){var u=n[a];if(c&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<s;){var l=(u=n[a])[0],d=e[l],f=u[1];if(c&&u[2]){if(void 0===d&&!(l in e))return!1}else{var p=new r;if(i)var h=i(d,f,l,e,t,p);if(!(void 0===h?o(f,d,3,i,p):h))return!1}}return!0}},9454:e=>{e.exports=function(e){return e!=e}},9624:(e,t,n)=>{var r=n(3655),o=n(4759),i=n(1580),a=n(4066),s=/^\\[object .+?Constructor\\]$/,c=Function.prototype,u=Object.prototype,l=c.toString,d=u.hasOwnProperty,f=RegExp("^"+l.call(d).replace(/[\\\\^$.*+?()[\\]{}|]/g,"\\\\$&").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(r(e)?f:s).test(a(e))}},1935:(e,t,n)=>{var r=n(8486),o=n(547);e.exports=function(e){return o(e)&&"[object Set]"==r(e)}},674:(e,t,n)=>{var r=n(7379),o=n(5387),i=n(547),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[r(e)]}},3334:(e,t,n)=>{var r=n(6526),o=n(2343),i=n(2053),a=n(3142),s=n(3282);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?a(e)?o(e[0],e[1]):r(e):s(e)}},195:(e,t,n)=>{var r=n(4882),o=n(8121),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},7200:(e,t,n)=>{var r=n(1580),o=n(4882),i=n(8546),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=o(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},5962:e=>{e.exports=function(){}},6526:(e,t,n)=>{var r=n(8330),o=n(4367),i=n(3904);e.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},2343:(e,t,n)=>{var r=n(4687),o=n(6123),i=n(7276),a=n(5187),s=n(7267),c=n(3904),u=n(6040);e.exports=function(e,t){return a(e)&&s(t)?c(u(e),t):function(n){var a=o(n,e);return void 0===a&&a===t?i(n,e):r(t,a,3)}}},2762:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},8880:(e,t,n)=>{var r=n(7923);e.exports=function(e){return function(t){return r(t,e)}}},4943:(e,t,n)=>{var r=n(2053),o=n(6065),i=o?function(e,t){return o.set(e,t),e}:r;e.exports=i},7403:(e,t,n)=>{var r=n(2619),o=n(2532),i=n(2053),a=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:i;e.exports=a},6137:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},2291:(e,t,n)=>{var r=n(5650),o=n(5111),i=n(3142),a=n(1187),s=r?r.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(a(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},6403:(e,t,n)=>{var r=n(2945),o=/^\\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(o,""):e}},9460:e=>{e.exports=function(e){return function(t){return e(t)}}},5568:e=>{e.exports=function(e,t){return e.has(t)}},3526:(e,t,n)=>{var r=n(3142),o=n(5187),i=n(6493),a=n(5243);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:i(a(e))}},8898:(e,t,n)=>{var r=n(1623);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},7099:(e,t,n)=>{e=n.nmd(e);var r=n(8942),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}},2480:(e,t,n)=>{var r=n(8898);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},8340:e=>{var t=/\\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},8069:(e,t,n)=>{var r=n(5650),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;e.exports=function(e){return i?Object(i.call(e)):{}}},2264:(e,t,n)=>{var r=n(8898);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},4977:e=>{var t=Math.max;e.exports=function(e,n,r,o){for(var i=-1,a=e.length,s=r.length,c=-1,u=n.length,l=t(a-s,0),d=Array(u+l),f=!o;++c<u;)d[c]=n[c];for(;++i<s;)(f||i<a)&&(d[r[i]]=e[i]);for(;l--;)d[c++]=e[i++];return d}},5755:e=>{var t=Math.max;e.exports=function(e,n,r,o){for(var i=-1,a=e.length,s=-1,c=r.length,u=-1,l=n.length,d=t(a-c,0),f=Array(d+l),p=!o;++i<d;)f[i]=e[i];for(var h=i;++u<l;)f[h+u]=n[u];for(;++s<c;)(p||i<a)&&(f[h+r[s]]=e[i++]);return f}},4354:e=>{e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},9032:(e,t,n)=>{var r=n(3422),o=n(7073);e.exports=function(e,t,n,i){var a=!n;n||(n={});for(var s=-1,c=t.length;++s<c;){var u=t[s],l=i?i(n[u],e[u],u,n,e):void 0;void 0===l&&(l=e[u]),a?o(n,u,l):r(n,u,l)}return n}},3546:(e,t,n)=>{var r=n(9032),o=n(7979);e.exports=function(e,t){return r(e,o(e),t)}},4733:(e,t,n)=>{var r=n(9032),o=n(5832);e.exports=function(e,t){return r(e,o(e),t)}},1950:(e,t,n)=>{var r=n(8942)["__core-js_shared__"];e.exports=r},3816:e=>{e.exports=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}},6713:(e,t,n)=>{var r=n(4364),o=n(8942);e.exports=function(e,t,n){var i=1&t,a=r(e);return function t(){return(this&&this!==o&&this instanceof t?a:e).apply(i?n:this,arguments)}}},4364:(e,t,n)=>{var r=n(9747),o=n(1580);e.exports=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=r(e.prototype),i=e.apply(n,t);return o(i)?i:n}}},2443:(e,t,n)=>{var r=n(6912),o=n(4364),i=n(3504),a=n(4216),s=n(6850),c=n(8813),u=n(8942);e.exports=function(e,t,n){var l=o(e);return function o(){for(var d=arguments.length,f=Array(d),p=d,h=s(o);p--;)f[p]=arguments[p];var g=d<3&&f[0]!==h&&f[d-1]!==h?[]:c(f,h);return(d-=g.length)<n?a(e,t,i,o.placeholder,void 0,f,g,void 0,void 0,n-d):r(this&&this!==u&&this instanceof o?l:e,this,f)}}},1942:(e,t,n)=>{var r=n(528),o=n(1439),i=n(5196),a=n(961),s=n(3142),c=n(6648);e.exports=function(e){return o((function(t){var n=t.length,o=n,u=r.prototype.thru;for(e&&t.reverse();o--;){var l=t[o];if("function"!=typeof l)throw new TypeError("Expected a function");if(u&&!d&&"wrapper"==a(l))var d=new r([],!0)}for(o=d?o:n;++o<n;){l=t[o];var f=a(l),p="wrapper"==f?i(l):void 0;d=p&&c(p[0])&&424==p[1]&&!p[4].length&&1==p[9]?d[a(p[0])].apply(d,p[3]):1==l.length&&c(l)?d[f]():d.thru(l)}return function(){var e=arguments,r=e[0];if(d&&1==e.length&&s(r))return d.plant(r).value();for(var o=0,i=n?t[o].apply(this,e):r;++o<n;)i=t[o].call(this,i);return i}}))}},3504:(e,t,n)=>{var r=n(4977),o=n(5755),i=n(3816),a=n(4364),s=n(4216),c=n(6850),u=n(6591),l=n(8813),d=n(8942);e.exports=function e(t,n,f,p,h,g,m,y,v,w){var A=128&n,b=1&n,S=2&n,x=24&n,E=512&n,k=S?void 0:a(t);return function T(){for(var I=arguments.length,O=Array(I),B=I;B--;)O[B]=arguments[B];if(x)var C=c(T),R=i(O,C);if(p&&(O=r(O,p,h,x)),g&&(O=o(O,g,m,x)),I-=R,x&&I<w){var j=l(O,C);return s(t,n,e,T.placeholder,f,O,j,y,v,w-I)}var N=b?f:this,P=S?N[t]:t;return I=O.length,y?O=u(O,y):E&&I>1&&O.reverse(),A&&v<I&&(O.length=v),this&&this!==d&&this instanceof T&&(P=k||a(P)),P.apply(N,O)}}},6341:(e,t,n)=>{var r=n(6912),o=n(4364),i=n(8942);e.exports=function(e,t,n,a){var s=1&t,c=o(e);return function t(){for(var o=-1,u=arguments.length,l=-1,d=a.length,f=Array(d+u),p=this&&this!==i&&this instanceof t?c:e;++l<d;)f[l]=a[l];for(;u--;)f[l++]=arguments[++o];return r(p,s?n:this,f)}}},4216:(e,t,n)=>{var r=n(6648),o=n(5512),i=n(5620);e.exports=function(e,t,n,a,s,c,u,l,d,f){var p=8&t;t|=p?32:64,4&(t&=~(p?64:32))||(t&=-4);var h=[e,t,s,p?c:void 0,p?u:void 0,p?void 0:c,p?void 0:u,l,d,f],g=n.apply(void 0,h);return r(e)&&o(g,h),g.placeholder=a,i(g,e,t)}},8638:(e,t,n)=>{var r=n(4943),o=n(6713),i=n(2443),a=n(3504),s=n(6341),c=n(5196),u=n(7028),l=n(5512),d=n(5620),f=n(7642),p=Math.max;e.exports=function(e,t,n,h,g,m,y,v){var w=2&t;if(!w&&"function"!=typeof e)throw new TypeError("Expected a function");var A=h?h.length:0;if(A||(t&=-97,h=g=void 0),y=void 0===y?y:p(f(y),0),v=void 0===v?v:f(v),A-=g?g.length:0,64&t){var b=h,S=g;h=g=void 0}var x=w?void 0:c(e),E=[e,t,n,h,g,b,S,m,y,v];if(x&&u(E,x),e=E[0],t=E[1],n=E[2],h=E[3],g=E[4],!(v=E[9]=void 0===E[9]?w?0:e.length:p(E[9]-A,0))&&24&t&&(t&=-25),t&&1!=t)k=8==t||16==t?i(e,t,v):32!=t&&33!=t||g.length?a.apply(void 0,E):s(e,t,n,h);else var k=o(e,t,n);return d((x?r:l)(k,E),e,t)}},2532:(e,t,n)=>{var r=n(4715),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},3934:(e,t,n)=>{var r=n(3212),o=n(6465),i=n(5568);e.exports=function(e,t,n,a,s,c){var u=1&n,l=e.length,d=t.length;if(l!=d&&!(u&&d>l))return!1;var f=c.get(e),p=c.get(t);if(f&&p)return f==t&&p==e;var h=-1,g=!0,m=2&n?new r:void 0;for(c.set(e,t),c.set(t,e);++h<l;){var y=e[h],v=t[h];if(a)var w=u?a(v,y,h,t,e,c):a(y,v,h,e,t,c);if(void 0!==w){if(w)continue;g=!1;break}if(m){if(!o(t,(function(e,t){if(!i(m,t)&&(y===e||s(y,e,n,a,c)))return m.push(t)}))){g=!1;break}}else if(y!==v&&!s(y,v,n,a,c)){g=!1;break}}return c.delete(e),c.delete(t),g}},8861:(e,t,n)=>{var r=n(5650),o=n(1623),i=n(6285),a=n(3934),s=n(5894),c=n(9828),u=r?r.prototype:void 0,l=u?u.valueOf:void 0;e.exports=function(e,t,n,r,u,d,f){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new o(e),new o(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=s;case"[object Set]":var h=1&r;if(p||(p=c),e.size!=t.size&&!h)return!1;var g=f.get(e);if(g)return g==t;r|=2,f.set(e,t);var m=a(p(e),p(t),r,u,d,f);return f.delete(e),m;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},1182:(e,t,n)=>{var r=n(393),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,a,s){var c=1&n,u=r(e),l=u.length;if(l!=r(t).length&&!c)return!1;for(var d=l;d--;){var f=u[d];if(!(c?f in t:o.call(t,f)))return!1}var p=s.get(e),h=s.get(t);if(p&&h)return p==t&&h==e;var g=!0;s.set(e,t),s.set(t,e);for(var m=c;++d<l;){var y=e[f=u[d]],v=t[f];if(i)var w=c?i(v,y,f,t,e,s):i(y,v,f,e,t,s);if(!(void 0===w?y===v||a(y,v,n,i,s):w)){g=!1;break}m||(m="constructor"==f)}if(g&&!m){var A=e.constructor,b=t.constructor;A==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof A&&A instanceof A&&"function"==typeof b&&b instanceof b||(g=!1)}return s.delete(e),s.delete(t),g}},1439:(e,t,n)=>{var r=n(5857),o=n(5234),i=n(796);e.exports=function(e){return i(o(e,void 0,r),e+"")}},4967:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},393:(e,t,n)=>{var r=n(8244),o=n(7979),i=n(1211);e.exports=function(e){return r(e,i,o)}},3650:(e,t,n)=>{var r=n(8244),o=n(5832),i=n(5288);e.exports=function(e){return r(e,i,o)}},5196:(e,t,n)=>{var r=n(6065),o=n(9071),i=r?function(e){return r.get(e)}:o;e.exports=i},961:(e,t,n)=>{var r=n(3476),o=Object.prototype.hasOwnProperty;e.exports=function(e){for(var t=e.name+"",n=r[t],i=o.call(r,t)?n.length:0;i--;){var a=n[i],s=a.func;if(null==s||s==e)return a.name}return t}},6850:e=>{e.exports=function(e){return e.placeholder}},4700:(e,t,n)=>{var r=n(9067);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},4367:(e,t,n)=>{var r=n(7267),o=n(1211);e.exports=function(e){for(var t=o(e),n=t.length;n--;){var i=t[n],a=e[i];t[n]=[i,a,r(a)]}return t}},4715:(e,t,n)=>{var r=n(9624),o=n(155);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},4784:(e,t,n)=>{var r=n(3766)(Object.getPrototypeOf,Object);e.exports=r},8870:(e,t,n)=>{var r=n(5650),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o}},7979:(e,t,n)=>{var r=n(9847),o=n(9306),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return i.call(e,t)})))}:o;e.exports=s},5832:(e,t,n)=>{var r=n(1129),o=n(4784),i=n(7979),a=n(9306),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,i(e)),e=o(e);return t}:a;e.exports=s},8486:(e,t,n)=>{var r=n(3103),o=n(9770),i=n(9413),a=n(4512),s=n(9270),c=n(7379),u=n(4066),l="[object Map]",d="[object Promise]",f="[object Set]",p="[object WeakMap]",h="[object DataView]",g=u(r),m=u(o),y=u(i),v=u(a),w=u(s),A=c;(r&&A(new r(new ArrayBuffer(1)))!=h||o&&A(new o)!=l||i&&A(i.resolve())!=d||a&&A(new a)!=f||s&&A(new s)!=p)&&(A=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case g:return h;case m:return l;case y:return d;case v:return f;case w:return p}return t}),e.exports=A},155:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},8788:e=>{var t=/\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,n=/,? & /;e.exports=function(e){var r=e.match(t);return r?r[1].split(n):[]}},5899:(e,t,n)=>{var r=n(3526),o=n(3283),i=n(3142),a=n(9632),s=n(5387),c=n(6040);e.exports=function(e,t,n){for(var u=-1,l=(t=r(t,e)).length,d=!1;++u<l;){var f=c(t[u]);if(!(d=null!=e&&n(e,f)))break;e=e[f]}return d||++u!=l?d:!!(l=null==e?0:e.length)&&s(l)&&a(f,l)&&(i(e)||o(e))}},3305:(e,t,n)=>{var r=n(4497);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},9361:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},1112:(e,t,n)=>{var r=n(4497),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},5276:(e,t,n)=>{var r=n(4497),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},5071:(e,t,n)=>{var r=n(4497);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},7350:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,r=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},424:(e,t,n)=>{var r=n(8898),o=n(2480),i=n(8340),a=n(8069),s=n(2264);e.exports=function(e,t,n){var c=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new c(+e);case"[object DataView]":return o(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":case"[object Set]":return new c;case"[object Number]":case"[object String]":return new c(e);case"[object RegExp]":return i(e);case"[object Symbol]":return a(e)}}},5964:(e,t,n)=>{var r=n(9747),o=n(4784),i=n(4882);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:r(o(e))}},9141:e=>{var t=/\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/;e.exports=function(e,n){var r=n.length;if(!r)return e;var o=r-1;return n[o]=(r>1?"& ":"")+n[o],n=n.join(r>2?", ":" "),e.replace(t,"{\\n/* [wrapped with "+n+"] */\\n")}},714:(e,t,n)=>{var r=n(5650),o=n(3283),i=n(3142),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||o(e)||!!(a&&e&&e[a])}},9632:e=>{var t=/^(?:0|[1-9]\\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},5187:(e,t,n)=>{var r=n(3142),o=n(1187),i=/\\.|\\[(?:[^[\\]]*|(["\'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,a=/^\\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||(a.test(e)||!i.test(e)||null!=t&&e in Object(t))}},9067:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},6648:(e,t,n)=>{var r=n(7553),o=n(5196),i=n(961),a=n(3321);e.exports=function(e){var t=i(e),n=a[t];if("function"!=typeof n||!(t in r.prototype))return!1;if(e===n)return!0;var s=o(n);return!!s&&e===s[0]}},4759:(e,t,n)=>{var r,o=n(1950),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!i&&i in e}},4882:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},7267:(e,t,n)=>{var r=n(1580);e.exports=function(e){return e==e&&!r(e)}},2393:e=>{e.exports=function(){this.__data__=[],this.size=0}},2049:(e,t,n)=>{var r=n(7034),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():o.call(t,n,1),--this.size,!0)}},7144:(e,t,n)=>{var r=n(7034);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},7452:(e,t,n)=>{var r=n(7034);e.exports=function(e){return r(this.__data__,e)>-1}},3964:(e,t,n)=>{var r=n(7034);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},9753:(e,t,n)=>{var r=n(5098),o=n(1386),i=n(9770);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},5681:(e,t,n)=>{var r=n(4700);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},88:(e,t,n)=>{var r=n(4700);e.exports=function(e){return r(this,e).get(e)}},4732:(e,t,n)=>{var r=n(4700);e.exports=function(e){return r(this,e).has(e)}},9068:(e,t,n)=>{var r=n(4700);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},5894:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},3904:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},6853:(e,t,n)=>{var r=n(9011);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},7028:(e,t,n)=>{var r=n(4977),o=n(5755),i=n(8813),a="__lodash_placeholder__",s=128,c=Math.min;e.exports=function(e,t){var n=e[1],u=t[1],l=n|u,d=l<131,f=u==s&&8==n||u==s&&256==n&&e[7].length<=t[8]||384==u&&t[7].length<=t[8]&&8==n;if(!d&&!f)return e;1&u&&(e[2]=t[2],l|=1&n?0:4);var p=t[3];if(p){var h=e[3];e[3]=h?r(h,p,t[4]):p,e[4]=h?i(e[3],a):t[4]}return(p=t[5])&&(h=e[5],e[5]=h?o(h,p,t[6]):p,e[6]=h?i(e[5],a):t[6]),(p=t[7])&&(e[7]=p),u&s&&(e[8]=null==e[8]?t[8]:c(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=l,e}},6065:(e,t,n)=>{var r=n(9270),o=r&&new r;e.exports=o},4497:(e,t,n)=>{var r=n(4715)(Object,"create");e.exports=r},8121:(e,t,n)=>{var r=n(3766)(Object.keys,Object);e.exports=r},8546:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},2306:(e,t,n)=>{e=n.nmd(e);var r=n(4967),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o&&r.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s},9005:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},3766:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},5234:(e,t,n)=>{var r=n(6912),o=Math.max;e.exports=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,s=o(i.length-t,0),c=Array(s);++a<s;)c[a]=i[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=i[a];return u[t]=n(c),r(e,this,u)}}},3476:e=>{e.exports={}},6591:(e,t,n)=>{var r=n(4354),o=n(9632),i=Math.min;e.exports=function(e,t){for(var n=e.length,a=i(t.length,n),s=r(e);a--;){var c=t[a];e[a]=o(c,n)?s[c]:void 0}return e}},8813:e=>{var t="__lodash_placeholder__";e.exports=function(e,n){for(var r=-1,o=e.length,i=0,a=[];++r<o;){var s=e[r];s!==n&&s!==t||(e[r]=t,a[i++]=r)}return a}},8942:(e,t,n)=>{var r=n(4967),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},1877:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},8006:e=>{e.exports=function(e){return this.__data__.has(e)}},5512:(e,t,n)=>{var r=n(4943),o=n(3316)(r);e.exports=o},9828:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},796:(e,t,n)=>{var r=n(7403),o=n(3316)(r);e.exports=o},5620:(e,t,n)=>{var r=n(8788),o=n(9141),i=n(796),a=n(33);e.exports=function(e,t,n){var s=t+"";return i(e,o(s,a(r(s),n)))}},3316:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var o=t(),i=16-(o-r);if(r=o,i>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},4103:(e,t,n)=>{var r=n(1386);e.exports=function(){this.__data__=new r,this.size=0}},1779:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},4162:e=>{e.exports=function(e){return this.__data__.get(e)}},7462:e=>{e.exports=function(e){return this.__data__.has(e)}},6638:(e,t,n)=>{var r=n(1386),o=n(9770),i=n(8250);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!o||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(a)}return n.set(e,t),this.size=n.size,this}},7706:e=>{e.exports=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}},6493:(e,t,n)=>{var r=n(6853),o=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|(["\'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,i=/\\\\(\\\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,n,r,o){t.push(r?o.replace(i,"$1"):n||e)})),t}));e.exports=a},6040:(e,t,n)=>{var r=n(1187);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},4066:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},2945:e=>{var t=/\\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},33:(e,t,n)=>{var r=n(9968),o=n(9756),i=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];e.exports=function(e,t){return r(i,(function(n){var r="_."+n[0];t&n[1]&&!o(e,r)&&e.push(r)})),e.sort()}},3410:(e,t,n)=>{var r=n(7553),o=n(528),i=n(4354);e.exports=function(e){if(e instanceof r)return e.clone();var t=new o(e.__wrapped__,e.__chain__);return t.__actions__=i(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}},5353:(e,t,n)=>{var r=n(8638);e.exports=function(e,t,n){return t=n?void 0:t,t=e&&null==t?e.length:t,r(e,128,void 0,void 0,void 0,void 0,t)}},2846:(e,t,n)=>{var r=n(9334);e.exports=function(e){return r(e,4)}},2619:e=>{e.exports=function(e){return function(){return e}}},7336:(e,t,n)=>{var r=n(8638);function o(e,t,n){var i=r(e,8,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return i.placeholder=o.placeholder,i}o.placeholder={},e.exports=o},2784:(e,t,n)=>{var r=n(1580),o=n(4495),i=n(6131),a=Math.max,s=Math.min;e.exports=function(e,t,n){var c,u,l,d,f,p,h=0,g=!1,m=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=c,r=u;return c=u=void 0,h=t,d=e.apply(r,n)}function w(e){var n=e-p;return void 0===p||n>=t||n<0||m&&e-h>=l}function A(){var e=o();if(w(e))return b(e);f=setTimeout(A,function(e){var n=t-(e-p);return m?s(n,l-(e-h)):n}(e))}function b(e){return f=void 0,y&&c?v(e):(c=u=void 0,d)}function S(){var e=o(),n=w(e);if(c=arguments,u=this,p=e,n){if(void 0===f)return function(e){return h=e,f=setTimeout(A,t),g?v(e):d}(p);if(m)return clearTimeout(f),f=setTimeout(A,t),v(p)}return void 0===f&&(f=setTimeout(A,t)),d}return t=i(t)||0,r(n)&&(g=!!n.leading,l=(m="maxWait"in n)?a(i(n.maxWait)||0,t):l,y="trailing"in n?!!n.trailing:y),S.cancel=function(){void 0!==f&&clearTimeout(f),h=0,c=p=u=f=void 0},S.flush=function(){return void 0===f?d:b(o())},S}},6285:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},5857:(e,t,n)=>{var r=n(313);e.exports=function(e){return(null==e?0:e.length)?r(e,1):[]}},2879:(e,t,n)=>{var r=n(1942)();e.exports=r},3579:(e,t,n)=>{var r=n(3565),o=n(2991),i=Array.prototype.push;function a(e,t){return 2==t?function(t,n){return e(t,n)}:function(t){return e(t)}}function s(e){for(var t=e?e.length:0,n=Array(t);t--;)n[t]=e[t];return n}function c(e,t){return function(){var n=arguments.length;if(n){for(var r=Array(n);n--;)r[n]=arguments[n];var o=r[0]=t.apply(void 0,r);return e.apply(void 0,r),o}}}e.exports=function e(t,n,u,l){var d="function"==typeof n,f=n===Object(n);if(f&&(l=u,u=n,n=void 0),null==u)throw new TypeError;l||(l={});var p={cap:!("cap"in l)||l.cap,curry:!("curry"in l)||l.curry,fixed:!("fixed"in l)||l.fixed,immutable:!("immutable"in l)||l.immutable,rearg:!("rearg"in l)||l.rearg},h=d?u:o,g="curry"in l&&l.curry,m="fixed"in l&&l.fixed,y="rearg"in l&&l.rearg,v=d?u.runInContext():void 0,w=d?u:{ary:t.ary,assign:t.assign,clone:t.clone,curry:t.curry,forEach:t.forEach,isArray:t.isArray,isError:t.isError,isFunction:t.isFunction,isWeakMap:t.isWeakMap,iteratee:t.iteratee,keys:t.keys,rearg:t.rearg,toInteger:t.toInteger,toPath:t.toPath},A=w.ary,b=w.assign,S=w.clone,x=w.curry,E=w.forEach,k=w.isArray,T=w.isError,I=w.isFunction,O=w.isWeakMap,B=w.keys,C=w.rearg,R=w.toInteger,j=w.toPath,N=B(r.aryMethod),P={castArray:function(e){return function(){var t=arguments[0];return k(t)?e(s(t)):e.apply(void 0,arguments)}},iteratee:function(e){return function(){var t=arguments[1],n=e(arguments[0],t),r=n.length;return p.cap&&"number"==typeof t?(t=t>2?t-2:1,r&&r<=t?n:a(n,t)):n}},mixin:function(e){return function(t){var n=this;if(!I(n))return e(n,Object(t));var r=[];return E(B(t),(function(e){I(t[e])&&r.push([e,n.prototype[e]])})),e(n,Object(t)),E(r,(function(e){var t=e[1];I(t)?n.prototype[e[0]]=t:delete n.prototype[e[0]]})),n}},nthArg:function(e){return function(t){var n=t<0?1:R(t)+1;return x(e(t),n)}},rearg:function(e){return function(t,n){var r=n?n.length:0;return x(e(t,n),r)}},runInContext:function(n){return function(r){return e(t,n(r),l)}}};function _(e,t){if(p.cap){var n=r.iterateeRearg[e];if(n)return function(e,t){return F(e,(function(e){var n=t.length;return function(e,t){return 2==t?function(t,n){return e.apply(void 0,arguments)}:function(t){return e.apply(void 0,arguments)}}(C(a(e,n),t),n)}))}(t,n);var o=!d&&r.iterateeAry[e];if(o)return function(e,t){return F(e,(function(e){return"function"==typeof e?a(e,t):e}))}(t,o)}return t}function L(e,t,n){if(p.fixed&&(m||!r.skipFixed[e])){var o=r.methodSpread[e],a=o&&o.start;return void 0===a?A(t,n):function(e,t){return function(){for(var n=arguments.length,r=n-1,o=Array(n);n--;)o[n]=arguments[n];var a=o[t],s=o.slice(0,t);return a&&i.apply(s,a),t!=r&&i.apply(s,o.slice(t+1)),e.apply(this,s)}}(t,a)}return t}function M(e,t,n){return p.rearg&&n>1&&(y||!r.skipRearg[e])?C(t,r.methodRearg[e]||r.aryRearg[n]):t}function U(e,t){for(var n=-1,r=(t=j(t)).length,o=r-1,i=S(Object(e)),a=i;null!=a&&++n<r;){var s=t[n],c=a[s];null==c||I(c)||T(c)||O(c)||(a[s]=S(n==o?c:Object(c))),a=a[s]}return i}function z(t,n){var o=r.aliasToReal[t]||t,i=r.remap[o]||o,a=l;return function(t){var r=d?v:w,s=d?v[i]:n,c=b(b({},a),t);return e(r,o,s,c)}}function F(e,t){return function(){var n=arguments.length;if(!n)return e();for(var r=Array(n);n--;)r[n]=arguments[n];var o=p.rearg?0:n-1;return r[o]=t(r[o]),e.apply(void 0,r)}}function D(e,t,n){var o,i=r.aliasToReal[e]||e,a=t,u=P[i];return u?a=u(t):p.immutable&&(r.mutate.array[i]?a=c(t,s):r.mutate.object[i]?a=c(t,function(e){return function(t){return e({},t)}}(t)):r.mutate.set[i]&&(a=c(t,U))),E(N,(function(e){return E(r.aryMethod[e],(function(t){if(i==t){var n=r.methodSpread[i],s=n&&n.afterRearg;return o=s?L(i,M(i,a,e),e):M(i,L(i,a,e),e),o=function(e,t,n){return g||p.curry&&n>1?x(t,n):t}(0,o=_(i,o),e),!1}})),!o})),o||(o=a),o==t&&(o=g?x(o,1):function(){return t.apply(this,arguments)}),o.convert=z(i,t),o.placeholder=t.placeholder=n,o}if(!f)return D(n,u,h);var $=u,q=[];return E(N,(function(e){E(r.aryMethod[e],(function(e){var t=$[r.remap[e]||e];t&&q.push([e,D(e,t,$)])}))})),E(B($),(function(e){var t=$[e];if("function"==typeof t){for(var n=q.length;n--;)if(q[n][0]==e)return;t.convert=z(e,t),q.push([e,t])}})),E(q,(function(e){$[e[0]]=e[1]})),$.convert=function(e){return $.runInContext.convert(e)(void 0)},$.placeholder=$,E(B($),(function(e){E(r.realToAlias[e]||[],(function(t){$[t]=$[e]}))})),$}},3565:(e,t)=>{t.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},t.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},t.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},t.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},t.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},t.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},t.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},t.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},t.realToAlias=function(){var e=Object.prototype.hasOwnProperty,n=t.aliasToReal,r={};for(var o in n){var i=n[o];e.call(r,i)?r[i].push(o):r[i]=[o]}return r}(),t.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},t.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},t.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}},8055:(e,t,n)=>{e.exports={ary:n(5353),assign:n(7930),clone:n(2846),curry:n(7336),forEach:n(9968),isArray:n(3142),isError:n(441),isFunction:n(3655),isWeakMap:n(7769),iteratee:n(2590),keys:n(195),rearg:n(864),toInteger:n(7642),toPath:n(2613)}},2673:(e,t,n)=>{var r=n(3579),o=n(8055);e.exports=function(e,t,n){return r(o,e,t,n)}},4255:(e,t,n)=>{var r=n(2673)("debounce",n(2784));r.placeholder=n(2991),e.exports=r},3092:(e,t,n)=>{var r=n(2673)("flow",n(2879));r.placeholder=n(2991),e.exports=r},3804:(e,t,n)=>{e.exports=n(3092)},2991:e=>{e.exports={}},6123:(e,t,n)=>{var r=n(7923);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},7276:(e,t,n)=>{var r=n(3636),o=n(5899);e.exports=function(e,t){return null!=e&&o(e,t,r)}},2053:e=>{e.exports=function(e){return e}},3283:(e,t,n)=>{var r=n(6027),o=n(547),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return o(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},3142:e=>{var t=Array.isArray;e.exports=t},6529:(e,t,n)=>{var r=n(3655),o=n(5387);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},5853:(e,t,n)=>{e=n.nmd(e);var r=n(8942),o=n(4772),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,s=a&&a.exports===i?r.Buffer:void 0,c=(s?s.isBuffer:void 0)||o;e.exports=c},441:(e,t,n)=>{var r=n(7379),o=n(547),i=n(8360);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Error]"==t||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!i(e)}},3655:(e,t,n)=>{var r=n(7379),o=n(1580);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},5387:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},7681:(e,t,n)=>{var r=n(777),o=n(9460),i=n(2306),a=i&&i.isMap,s=a?o(a):r;e.exports=s},1580:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},547:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},8360:(e,t,n)=>{var r=n(7379),o=n(4784),i=n(547),a=Function.prototype,s=Object.prototype,c=a.toString,u=s.hasOwnProperty,l=c.call(Object);e.exports=function(e){if(!i(e)||"[object Object]"!=r(e))return!1;var t=o(e);if(null===t)return!0;var n=u.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==l}},3943:(e,t,n)=>{var r=n(1935),o=n(9460),i=n(2306),a=i&&i.isSet,s=a?o(a):r;e.exports=s},1187:(e,t,n)=>{var r=n(7379),o=n(547);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},8666:(e,t,n)=>{var r=n(674),o=n(9460),i=n(2306),a=i&&i.isTypedArray,s=a?o(a):r;e.exports=s},7769:(e,t,n)=>{var r=n(8486),o=n(547);e.exports=function(e){return o(e)&&"[object WeakMap]"==r(e)}},2590:(e,t,n)=>{var r=n(9334),o=n(3334);e.exports=function(e){return o("function"==typeof e?e:r(e,1))}},1211:(e,t,n)=>{var r=n(358),o=n(195),i=n(6529);e.exports=function(e){return i(e)?r(e):o(e)}},5288:(e,t,n)=>{var r=n(358),o=n(7200),i=n(6529);e.exports=function(e){return i(e)?r(e,!0):o(e)}},9011:(e,t,n)=>{var r=n(8250);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o},9071:e=>{e.exports=function(){}},4495:(e,t,n)=>{var r=n(8942);e.exports=function(){return r.Date.now()}},3282:(e,t,n)=>{var r=n(2762),o=n(8880),i=n(5187),a=n(6040);e.exports=function(e){return i(e)?r(a(e)):o(e)}},864:(e,t,n)=>{var r=n(8638),o=n(1439),i=o((function(e,t){return r(e,256,void 0,void 0,void 0,t)}));e.exports=i},9306:e=>{e.exports=function(){return[]}},4772:e=>{e.exports=function(){return!1}},3301:(e,t,n)=>{var r=n(6131),o=1/0;e.exports=function(e){return e?(e=r(e))===o||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},7642:(e,t,n)=>{var r=n(3301);e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},6131:(e,t,n)=>{var r=n(6403),o=n(1580),i=n(1187),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||c.test(e)?u(e.slice(2),n?2:8):a.test(e)?NaN:+e}},2613:(e,t,n)=>{var r=n(5111),o=n(4354),i=n(3142),a=n(1187),s=n(6493),c=n(6040),u=n(5243);e.exports=function(e){return i(e)?r(e,c):a(e)?[e]:o(s(u(e)))}},5243:(e,t,n)=>{var r=n(2291);e.exports=function(e){return null==e?"":r(e)}},3321:(e,t,n)=>{var r=n(7553),o=n(528),i=n(5962),a=n(3142),s=n(547),c=n(3410),u=Object.prototype.hasOwnProperty;function l(e){if(s(e)&&!a(e)&&!(e instanceof r)){if(e instanceof o)return e;if(u.call(e,"__wrapped__"))return c(e)}return new o(e)}l.prototype=i.prototype,l.prototype.constructor=l,e.exports=l}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r](i,i.exports,n),i.loaded=!0,i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var r={};(()=>{"use strict";n.r(r),n.d(r,{onAssetsConversion:()=>Hg,onAssetsLookup:()=>Kg,onCronjob:()=>Vg,onKeyringRequest:()=>Wg,onProtocolRequest:()=>Jg,onRpcRequest:()=>qg,onUserInput:()=>Gg});var e="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";(()=>{const t=Array(256).fill(-1);for(let n=0;n<58;++n)t[e.charCodeAt(n)]=n})();var t,o,i,a=(t=function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.bech32m=t.bech32=void 0;const n="qpzry9x8gf2tvdw0s3jn54khce6mua7l",r={};for(let e=0;e<32;e++){const t=n.charAt(e);r[t]=e}function o(e){const t=e>>25;return(33554431&e)<<5^996825010&-(t>>0&1)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function i(e){let t=1;for(let n=0;n<e.length;++n){const r=e.charCodeAt(n);if(r<33||r>126)return"Invalid prefix ("+e+")";t=o(t)^r>>5}t=o(t);for(let n=0;n<e.length;++n){const r=e.charCodeAt(n);t=o(t)^31&r}return t}function a(e,t,n,r){let o=0,i=0;const a=(1<<n)-1,s=[];for(let r=0;r<e.length;++r)for(o=o<<t|e[r],i+=t;i>=n;)i-=n,s.push(o>>i&a);if(r)i>0&&s.push(o<<n-i&a);else{if(i>=t)return"Excess padding";if(o<<n-i&a)return"Non-zero padding"}return s}function s(e){return a(e,8,5,!0)}function c(e){const t=a(e,5,8,!1);if(Array.isArray(t))return t}function u(e){const t=a(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}function l(e){let t;function a(e,n){if(n=n||90,e.length<8)return e+" too short";if(e.length>n)return"Exceeds length limit";const a=e.toLowerCase(),s=e.toUpperCase();if(e!==a&&e!==s)return"Mixed-case string "+e;const c=(e=a).lastIndexOf("1");if(-1===c)return"No separator character for "+e;if(0===c)return"Missing prefix for "+e;const u=e.slice(0,c),l=e.slice(c+1);if(l.length<6)return"Data too short";let d=i(u);if("string"==typeof d)return d;const f=[];for(let e=0;e<l.length;++e){const t=l.charAt(e),n=r[t];if(void 0===n)return"Unknown character "+t;d=o(d)^n,e+6>=l.length||f.push(n)}return d!==t?"Invalid checksum for "+e:{prefix:u,words:f}}return t="bech32"===e?1:734539939,{decodeUnsafe:function(e,t){const n=a(e,t);if("object"==typeof n)return n},decode:function(e,t){const n=a(e,t);if("object"==typeof n)return n;throw new Error(n)},encode:function(e,r,a){if(a=a||90,e.length+7+r.length>a)throw new TypeError("Exceeds length limit");let s=i(e=e.toLowerCase());if("string"==typeof s)throw new Error(s);let c=e+"1";for(let e=0;e<r.length;++e){const t=r[e];if(t>>5!=0)throw new Error("Non 5-bit word");s=o(s)^t,c+=n.charAt(t)}for(let e=0;e<6;++e)s=o(s);s^=t;for(let e=0;e<6;++e)c+=n.charAt(s>>5*(5-e)&31);return c},toWords:s,fromWordsUnsafe:c,fromWords:u}}t.bech32=l("bech32"),t.bech32m=l("bech32m")},t(o={exports:{}},o.exports),o.exports);(i=a)&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")&&i.default;a.bech32m,a.bech32;new Int32Array(64);new Uint8Array(new Uint16Array([65279]).buffer)[0];var s,c;!function(e){e.mainnet="mainnet",e.testnet="testnet",e.regtest="regtest"}(s||(s={})),function(e){e.p2pkh="p2pkh",e.p2sh="p2sh",e.p2wpkh="p2wpkh",e.p2wsh="p2wsh",e.p2tr="p2tr"}(c||(c={}));c.p2pkh,s.mainnet,c.p2pkh,s.testnet,c.p2sh,s.mainnet,c.p2sh,s.testnet;class u extends TypeError{constructor(e,t){let n;const{message:r,explanation:o,...i}=e,{path:a}=e,s=0===a.length?r:`At path: ${a.join(".")} -- ${r}`;super(o??s),null!=o&&(this.cause=s),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...t()])}}function l(e){return"object"==typeof e&&null!==e}function d(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function f(e,t,n,r){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});const{path:o,branch:i}=t,{type:a}=n,{refinement:s,message:c=`Expected a value of type \\`${a}\\`${s?` with refinement \\`${s}\\``:""}, but received: \\`${d(r)}\\``}=e;return{value:r,type:a,refinement:s,key:o[o.length-1],path:o,branch:i,...e,message:c}}function*p(e,t,n,r){(function(e){return l(e)&&"function"==typeof e[Symbol.iterator]})(e)||(e=[e]);for(const o of e){const e=f(o,t,n,r);e&&(yield e)}}function*h(e,t,n={}){const{path:r=[],branch:o=[e],coerce:i=!1,mask:a=!1}=n,s={path:r,branch:o};if(i&&(e=t.coercer(e,s),a&&"type"!==t.type&&l(t.schema)&&l(e)&&!Array.isArray(e)))for(const n in e)void 0===t.schema[n]&&delete e[n];let c="valid";for(const r of t.validator(e,s))r.explanation=n.message,c="not_valid",yield[r,void 0];for(let[u,d,f]of t.entries(e,s)){const t=h(d,f,{path:void 0===u?r:[...r,u],branch:void 0===u?o:[...o,d],coerce:i,mask:a,message:n.message});for(const n of t)n[0]?(c=null===n[0].refinement||void 0===n[0].refinement?"not_valid":"not_refined",yield[n[0],void 0]):i&&(d=n[1],void 0===u?e=d:e instanceof Map?e.set(u,d):e instanceof Set?e.add(d):l(e)&&(void 0!==d||u in e)&&(e[u]=d))}if("not_valid"!==c)for(const r of t.refiner(e,s))r.explanation=n.message,c="not_refined",yield[r,void 0];"valid"===c&&(yield[void 0,e])}class g{constructor(e){const{type:t,schema:n,validator:r,refiner:o,coercer:i=(e=>e),entries:a=function*(){}}=e;this.type=t,this.schema=n,this.entries=a,this.coercer=i,this.validator=r?(e,t)=>p(r(e,t),t,this,e):()=>[],this.refiner=o?(e,t)=>p(o(e,t),t,this,e):()=>[]}assert(e,t){return m(e,this,t)}create(e,t){return y(e,this,t)}is(e){return v(e,this)}mask(e,t){return function(e,t,n){const r=w(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}(e,this,t)}validate(e,t={}){return w(e,this,t)}}function m(e,t,n){const r=w(e,t,{message:n});if(r[0])throw r[0]}function y(e,t,n){const r=w(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function v(e,t){return!w(e,t)[0]}function w(e,t,n={}){const r=h(e,t,n),o=function(e){const{done:t,value:n}=e.next();return t?void 0:n}(r);if(o[0]){return[new u(o[0],(function*(){for(const e of r)e[0]&&(yield e[0])})),void 0]}return[void 0,o[1]]}function A(){return U("any",(()=>!0))}function b(e){return new g({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${d(e)}`})}function S(){return U("bigint",(e=>"bigint"==typeof e))}function x(){return U("boolean",(e=>"boolean"==typeof e))}function E(e){const t={},n=e.map((e=>d(e))).join();for(const n of e)t[n]=n;return new g({type:"enums",schema:t,validator:t=>e.includes(t)||`Expected one of \\`${n}\\`, but received: ${d(t)}`})}function k(){return U("integer",(e=>"number"==typeof e&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${d(e)}`))}function T(e){const t=d(e),n=typeof e;return new g({type:"literal",schema:"string"===n||"number"===n||"boolean"===n?e:null,validator:n=>n===e||`Expected the literal \\`${t}\\`, but received: ${d(n)}`})}function I(){return U("never",(()=>!1))}function O(e){return new g({...e,validator:(t,n)=>null===t||e.validator(t,n),refiner:(t,n)=>null===t||e.refiner(t,n)})}function B(){return U("number",(e=>"number"==typeof e&&!isNaN(e)||`Expected a number, but received: ${d(e)}`))}function C(e){const t=e?Object.keys(e):[],n=I();return new g({type:"object",schema:e??null,*entries(r){if(e&&l(r)){const o=new Set(Object.keys(r));for(const n of t)o.delete(n),yield[n,r[n],e[n]];for(const e of o)yield[e,r[e],n]}},validator:e=>l(e)||`Expected an object, but received: ${d(e)}`,coercer:e=>l(e)?{...e}:e})}function R(e){return new g({...e,validator:(t,n)=>void 0===t||e.validator(t,n),refiner:(t,n)=>void 0===t||e.refiner(t,n)})}function j(e,t){return new g({type:"record",schema:null,*entries(n){if(l(n))for(const r in n){const o=n[r];yield[r,r,e],yield[r,o,t]}},validator:e=>l(e)||`Expected an object, but received: ${d(e)}`})}function N(){return U("string",(e=>"string"==typeof e||`Expected a string, but received: ${d(e)}`))}function P(e){const t=Object.keys(e);return new g({type:"type",schema:e,*entries(n){if(l(n))for(const r of t)yield[r,n[r],e[r]]},validator:e=>l(e)||`Expected an object, but received: ${d(e)}`,coercer:e=>l(e)?{...e}:e})}function _(e){const t=e.map((e=>e.type)).join(" | ");return new g({type:"union",schema:null,coercer(t){for(const n of e){const[e,r]=n.validate(t,{coerce:!0});if(!e)return r}return t},validator(n,r){const o=[];for(const t of e){const[...e]=h(n,t,r),[i]=e;if(!i?.[0])return[];for(const[t]of e)t&&o.push(t)}return[`Expected the value to satisfy a union of \\`${t}\\`, but received: ${d(n)}`,...o]}})}function L(){return U("unknown",(()=>!0))}function M(...e){const t="type"===e[0]?.type,n=e.map((({schema:e})=>e)),r=Object.assign({},...n);return t?P(r):C(r)}function U(e,t){return new g({type:e,schema:null,validator:t})}function z(e,t){return U(e,(e=>"string"==typeof e&&t.test(e)))}const F=z("UuidV4",/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/iu),D=F,$=U("Url",(e=>{try{const t=new URL(e);return"http:"===t.protocol||"https:"===t.protocol}catch{return!1}})),q=z("StringNumber",/^\\d+(\\.\\d+)?$/u);function W(e){return C(e)}function G(e){return e.path[e.path.length-1]in e.branch[e.branch.length-2]}function V(e){return new g({...e,validator:(t,n)=>!G(n)||e.validator(t,n),refiner:(t,n)=>!G(n)||e.refiner(t,n)})}function K(e,t,n){return new g({...e,coercer:(r,o)=>v(r,t)?e.coercer(n(r,o),o):e.coercer(r,o)})}function H(e){return e instanceof Map||e instanceof Set?e.size:e.length}function J(e){return Y(e,"nonempty",(t=>H(t)>0||`Expected a nonempty ${e.type} but received an empty one`))}function Z(e,t){return Y(e,"pattern",(n=>t.test(n)||`Expected a ${e.type} matching \\`/${t.source}/\\` but received "${n}"`))}function Y(e,t,n){return new g({...e,*refiner(r,o){yield*e.refiner(r,o);const i=p(n(r,o),o,e,r);for(const e of i)yield{...e,refinement:t}}})}const Q=(e,t)=>Object.hasOwnProperty.call(e,t);var X;!function(e){e[e.Null=4]="Null",e[e.Comma=1]="Comma",e[e.Wrapper=1]="Wrapper",e[e.True=4]="True",e[e.False=5]="False",e[e.Quote=1]="Quote",e[e.Colon=1]="Colon",e[e.Date=24]="Date"}(X=X||(X={}));const ee=e=>C(e);function te({path:e,branch:t}){const n=e[e.length-1];return Q(t[t.length-2],n)}function ne(e){return new g({...e,type:`optional ${e.type}`,validator:(t,n)=>!te(n)||e.validator(t,n),refiner:(t,n)=>!te(n)||e.refiner(t,n)})}function re(e){if(null===e||"boolean"==typeof e||"string"==typeof e)return!0;if("number"==typeof e&&Number.isFinite(e))return!0;if("object"==typeof e){let t=!0;if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(!re(e[n])){t=!1;break}return t}const n=Object.entries(e);for(let e=0;e<n.length;e++)if("string"!=typeof n[e][0]||!re(n[e][1])){t=!1;break}return t}return!1}const oe=U("JSON",(e=>re(e))),ie=K(oe,Y(A(),"JSON",(e=>v(e,oe))),(e=>JSON.parse(JSON.stringify(e,((e,t)=>{if("__proto__"!==e&&"constructor"!==e)return t})))));const ae=T("2.0"),se=O(_([B(),N()])),ce=ee({code:k(),message:N(),data:ne(ie),stack:ne(N())}),ue=_([j(N(),ie),b(ie)]);ee({id:se,jsonrpc:ae,method:N(),params:ne(ue)}),ee({jsonrpc:ae,method:N(),params:ne(ue)});C({id:se,jsonrpc:ae,result:R(L()),error:R(ce)});const le=ee({id:se,jsonrpc:ae,result:ie}),de=ee({id:se,jsonrpc:ae,error:ce});_([le,de]);const fe=W({jsonrpc:T("2.0"),id:_([N(),B(),T(null)]),method:N(),params:V(_([b(ie),j(N(),ie)]))});const pe=(e,t)=>Object.hasOwnProperty.call(e,t);var he;!function(e){e[e.Null=4]="Null",e[e.Comma=1]="Comma",e[e.Wrapper=1]="Wrapper",e[e.True=4]="True",e[e.False=5]="False",e[e.Quote=1]="Quote",e[e.Colon=1]="Colon",e[e.Date=24]="Date"}(he=he||(he={}));const ge=e=>C(e);function me({path:e,branch:t}){const n=e[e.length-1];return pe(t[t.length-2],n)}function ye(e){return new g({...e,type:`optional ${e.type}`,validator:(t,n)=>!me(n)||e.validator(t,n),refiner:(t,n)=>!me(n)||e.refiner(t,n)})}function ve(e){if(null===e||"boolean"==typeof e||"string"==typeof e)return!0;if("number"==typeof e&&Number.isFinite(e))return!0;if("object"==typeof e){let t=!0;if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(!ve(e[n])){t=!1;break}return t}const n=Object.entries(e);for(let e=0;e<n.length;e++)if("string"!=typeof n[e][0]||!ve(n[e][1])){t=!1;break}return t}return!1}const we=U("JSON",(e=>ve(e))),Ae=K(we,Y(A(),"JSON",(e=>v(e,we))),(e=>JSON.parse(JSON.stringify(e,((e,t)=>{if("__proto__"!==e&&"constructor"!==e)return t})))));const be=T("2.0"),Se=O(_([B(),N()])),xe=ge({code:k(),message:N(),data:ye(Ae),stack:ye(N())}),Ee=_([j(N(),Ae),b(Ae)]);ge({id:Se,jsonrpc:be,method:N(),params:ye(Ee)}),ge({jsonrpc:be,method:N(),params:ye(Ee)});C({id:Se,jsonrpc:be,result:R(L()),error:R(xe)});const ke=ge({id:Se,jsonrpc:be,result:Ae}),Te=ge({id:Se,jsonrpc:be,error:xe});_([ke,Te]);function Ie(e,t){return U(e,(e=>"string"==typeof e&&t.test(e)))}const Oe=/^(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})$/u,Be=/^[-a-z0-9]{3,8}$/u,Ce=/^[-_a-zA-Z0-9]{1,32}$/u,Re=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})):(?<accountAddress>[-.%a-zA-Z0-9]{1,128})$/u,je=/^[-.%a-zA-Z0-9]{1,128}$/u,Ne=/^[-a-z0-9]{3,8}$/u,Pe=/^[-.%a-zA-Z0-9]{1,128}$/u,_e=/^[-.%a-zA-Z0-9]{1,78}$/u,Le=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})$/u,Me=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})\\/(?<tokenId>[-.%a-zA-Z0-9]{1,78})$/u,Ue=Ie("CaipChainId",Oe),ze=(Ie("CaipNamespace",Be),Ie("CaipReference",Ce),Ie("CaipAccountId",Re)),Fe=(Ie("CaipAccountAddress",je),Ie("CaipAssetNamespace",Ne),Ie("CaipAssetReference",Pe),Ie("CaipTokenId",_e),Ie("CaipAssetType",Le)),De=Ie("CaipAssetId",Me),$e=Ie("CaipAssetTypeOrId",/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})(\\/(?<tokenId>[-.%a-zA-Z0-9]{1,78}))?$/u);var qe,We,Ge,Ve;!function(e){e.Bip122="bip122",e.Solana="solana",e.Eip155="eip155",e.Wallet="wallet"}(qe=qe||(qe={})),function(e){e.Eoa="eip155:eoa",e.Erc4337="eip155:erc4337"}(We||(We={})),function(e){e.P2wpkh="bip122:p2wpkh"}(Ge||(Ge={})),function(e){e.DataAccount="solana:data-account"}(Ve||(Ve={}));const Ke=W({id:D,type:E([`${We.Eoa}`,`${We.Erc4337}`,`${Ge.P2wpkh}`,`${Ve.DataAccount}`]),address:N(),scopes:J(b(Ue)),options:j(N(),Ae),methods:b(N())}),He=(C({address:ze}),W({unit:N(),amount:q})),Je=W({fungible:T(!0),type:Fe,...He.schema}),Ze=W({fungible:T(!1),id:De}),Ye=(Qe=e=>function(e){if("object"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}}(e)&&!e.fungible?Ze:Je,new g({type:"union",schema:null,*entries(e,t){yield*Qe(e).entries(e,t)},*refiner(e,t){yield*Qe(e).refiner(e,t)},coercer:(e,t)=>Qe(e).coercer(e,t),validator:(e,t)=>Qe(e).validator(e,t)}));var Qe;const Xe=W({amount:q,unit:N()}),et=(j(N(),Ae),W({id:F,scope:N(),account:F,request:W({method:N(),params:V(_([b(Ae),j(N(),Ae)]))})})),tt=(_([W({pending:T(!0),redirect:V(W({message:V(N()),url:V(N())}))}),W({pending:T(!1),result:Ae})]),W({address:N(),asset:O(Ye)}));var nt;!function(e){e.Base="base",e.Priority="priority"}(nt||(nt={}));const rt=W({type:E([`${nt.Base}`,`${nt.Priority}`]),asset:Ye});var ot,it;!function(e){e.Submitted="submitted",e.Unconfirmed="unconfirmed",e.Confirmed="confirmed",e.Failed="failed"}(ot||(ot={})),function(e){e.Send="send",e.Receive="receive",e.Swap="swap"}(it||(it={}));const at=W({status:E([`${ot.Submitted}`,`${ot.Unconfirmed}`,`${ot.Confirmed}`,`${ot.Failed}`]),timestamp:O(B())}),st=W({id:N(),chain:Ue,account:F,status:E([`${ot.Submitted}`,`${ot.Unconfirmed}`,`${ot.Confirmed}`,`${ot.Failed}`]),timestamp:O(B()),type:E([`${it.Send}`,`${it.Receive}`,`${it.Swap}`]),from:b(tt),to:b(tt),fees:b(rt),events:b(at)}),ct=(W({data:b(st),next:O(N())}),W({limit:B(),next:V(O(N()))}));var ut;!function(e){e.Mainnet="bip122:000000000019d6689c085ae165831e93",e.Testnet="bip122:000000000933ea01ad0ee984209779ba",e.Testnet4="bip122:00000000da84f2bafbbc53dee25a72ae",e.Signet="bip122:00000008819873e925422c1ff0f99f7c",e.Regtest="bip122:regtest"}(ut||(ut={}));var lt=n(6586);const dt=Y(N(),"BtcP2wpkhAddressStruct",(e=>{try{lt.I.decode(e)}catch(e){return new Error(`Could not decode P2WPKH address: ${e.message}`)}return!0}));var ft;!function(e){e.SendBitcoin="sendBitcoin"}(ft||(ft={}));W({...Ke.schema,address:dt,type:T(`${Ge.P2wpkh}`),scopes:function(e,t,n=t){const r=`Expected a ${e.type}`,o=t===n?`of \\`${t}\\``:`between \\`${t}\\` and \\`${n}\\``;return Y(e,"size",(e=>{if("number"==typeof e||e instanceof Date)return t<=e&&e<=n||`${r} ${o} but received \\`${e}\\``;if(e instanceof Map||e instanceof Set){const{size:i}=e;return t<=i&&i<=n||`${r} with a size ${o} but received one with a size of \\`${i}\\``}const{length:i}=e;return t<=i&&i<=n||`${r} with a length ${o} but received one with a length of \\`${i}\\``}))}(b(Ue),1),methods:b(E([`${ft.SendBitcoin}`]))});var pt;!function(e){e.Devnet="solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",e.Mainnet="solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",e.Testnet="solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"}(pt||(pt={}));const ht=Ie("SolAddress",/^[1-9A-HJ-NP-Za-km-z]{32,44}$/iu);var gt;!function(e){e.SendAndConfirmTransaction="sendAndConfirmTransaction",e.SignAndSendTransaction="signAndSendTransaction",e.SignTransaction="signTransaction",e.SignMessage="signMessage",e.SignIn="signIn"}(gt||(gt={}));W({...Ke.schema,address:ht,type:T(`${Ve.DataAccount}`),scopes:J(b(Ue)),methods:b(E(Object.values(gt)))});var mt;!function(e){e.Eoa="eip155:0",e.Mainnet="eip155:1",e.Testnet="eip155:11155111"}(mt||(mt={}));const yt=Ie("EthBytes",/^0x[0-9a-f]*$/iu),vt=Ie("EthAddress",/^0x[0-9a-f]{40}$/iu),wt=Ie("EthUint256",/^0x([1-9a-f][0-9a-f]*|0)$/iu);var At;!function(e){e.PersonalSign="personal_sign",e.Sign="eth_sign",e.SignTransaction="eth_signTransaction",e.SignTypedDataV1="eth_signTypedData_v1",e.SignTypedDataV3="eth_signTypedData_v3",e.SignTypedDataV4="eth_signTypedData_v4",e.PrepareUserOperation="eth_prepareUserOperation",e.PatchUserOperation="eth_patchUserOperation",e.SignUserOperation="eth_signUserOperation"}(At||(At={}));W({...Ke.schema,address:vt,type:T(`${We.Eoa}`),scopes:J(b(T(mt.Eoa))),methods:b(E([`${At.PersonalSign}`,`${At.Sign}`,`${At.SignTransaction}`,`${At.SignTypedDataV1}`,`${At.SignTypedDataV3}`,`${At.SignTypedDataV4}`]))}),W({...Ke.schema,address:vt,type:T(`${We.Erc4337}`),scopes:J(b(Ue)),methods:b(E([`${At.PersonalSign}`,`${At.Sign}`,`${At.SignTypedDataV1}`,`${At.SignTypedDataV3}`,`${At.SignTypedDataV4}`,`${At.PrepareUserOperation}`,`${At.PatchUserOperation}`,`${At.SignUserOperation}`]))}),W({sender:vt,nonce:wt,initCode:yt,callData:yt,callGasLimit:wt,verificationGasLimit:wt,preVerificationGas:wt,maxFeePerGas:wt,maxPriorityFeePerGas:wt,paymasterAndData:yt,signature:yt}),W({to:vt,value:wt,data:yt}),W({nonce:wt,initCode:yt,callData:yt,gasLimits:V(W({callGasLimit:wt,verificationGasLimit:wt,preVerificationGas:wt})),dummyPaymasterAndData:yt,dummySignature:yt,bundlerUrl:$}),W({paymasterAndData:yt,callGasLimit:V(wt),verificationGasLimit:V(wt),preVerificationGas:V(wt)});var bt;!function(e){e.ListAccounts="keyring_listAccounts",e.GetAccount="keyring_getAccount",e.CreateAccount="keyring_createAccount",e.ListAccountAssets="keyring_listAccountAssets",e.ListAccountTransactions="keyring_listAccountTransactions",e.GetAccountBalances="keyring_getAccountBalances",e.ResolveAccountAddress="keyring_resolveAccountAddress",e.FilterAccountChains="keyring_filterAccountChains",e.UpdateAccount="keyring_updateAccount",e.DeleteAccount="keyring_deleteAccount",e.ExportAccount="keyring_exportAccount",e.ListRequests="keyring_listRequests",e.GetRequest="keyring_getRequest",e.SubmitRequest="keyring_submitRequest",e.ApproveRequest="keyring_approveRequest",e.RejectRequest="keyring_rejectRequest"}(bt||(bt={}));const St={jsonrpc:T("2.0"),id:_([N(),B(),T(null)])},xt=W({...St,method:T("keyring_listAccounts")}),Et=(b(Ke),W({...St,method:T("keyring_getAccount"),params:W({id:F})})),kt=W({...St,method:T("keyring_createAccount"),params:W({options:j(N(),Ae)})}),Tt=W({...St,method:T("keyring_listAccountTransactions"),params:W({id:F,pagination:ct})}),It=W({...St,method:T("keyring_listAccountAssets"),params:W({id:F})}),Ot=(b($e),W({...St,method:T(`${bt.GetAccountBalances}`),params:W({id:F,assets:b(Fe)})})),Bt=(j(Fe,Xe),W({...St,method:T("keyring_resolveAccountAddress"),params:W({scope:Ue,request:fe})})),Ct=(O(W({address:ze})),W({...St,method:T("keyring_filterAccountChains"),params:W({id:F,chains:b(N())})})),Rt=(b(N()),W({...St,method:T("keyring_updateAccount"),params:W({account:Ke})})),jt=(T(null),W({...St,method:T("keyring_deleteAccount"),params:W({id:F})})),Nt=(T(null),W({...St,method:T("keyring_exportAccount"),params:W({id:F})})),Pt=W({...St,method:T("keyring_listRequests")}),_t=(b(et),W({...St,method:T("keyring_getRequest"),params:W({id:F})})),Lt=W({...St,method:T("keyring_submitRequest"),params:et}),Mt=W({...St,method:T("keyring_approveRequest"),params:W({id:F,data:j(N(),Ae)})}),Ut=(T(null),W({...St,method:T("keyring_rejectRequest"),params:W({id:F})}));T(null);var zt;!function(e){e.AccountCreated="notify:accountCreated",e.AccountUpdated="notify:accountUpdated",e.AccountDeleted="notify:accountDeleted",e.RequestApproved="notify:requestApproved",e.RequestRejected="notify:requestRejected",e.AccountBalancesUpdated="notify:accountBalancesUpdated",e.AccountAssetListUpdated="notify:accountAssetListUpdated",e.AccountTransactionsUpdated="notify:accountTransactionsUpdated"}(zt||(zt={}));W({method:T(`${zt.AccountCreated}`),params:W({account:Ke,accountNameSuggestion:V(N()),displayConfirmation:V(x()),displayAccountNameSuggestion:V(x())})}),W({method:T(`${zt.AccountUpdated}`),params:W({account:Ke})}),W({method:T(`${zt.AccountDeleted}`),params:W({id:F})}),W({method:T(`${zt.RequestApproved}`),params:W({id:F,result:Ae})}),W({method:T(`${zt.RequestRejected}`),params:W({id:F})}),W({method:T(`${zt.AccountBalancesUpdated}`),params:W({balances:j(D,j(Fe,He))})}),W({method:T(`${zt.AccountTransactionsUpdated}`),params:W({transactions:j(D,b(st))})}),W({method:T(`${zt.AccountAssetListUpdated}`),params:W({assets:j(D,W({added:b($e),removed:b($e)}))})});class Ft extends Error{constructor(e){super(`Method not supported: ${e}`)}}async function Dt(e,t){try{return await async function(e,t){switch(m(t,fe),t.method){case`${bt.ListAccounts}`:return m(t,xt),e.listAccounts();case`${bt.GetAccount}`:return m(t,Et),e.getAccount(t.params.id);case`${bt.CreateAccount}`:return m(t,kt),e.createAccount(t.params.options);case`${bt.ListAccountTransactions}`:if(void 0===e.listAccountTransactions)throw new Ft(t.method);return m(t,Tt),e.listAccountTransactions(t.params.id,t.params.pagination);case`${bt.ListAccountAssets}`:if(void 0===e.listAccountAssets)throw new Ft(t.method);return m(t,It),e.listAccountAssets(t.params.id);case`${bt.GetAccountBalances}`:if(void 0===e.getAccountBalances)throw new Ft(t.method);return m(t,Ot),e.getAccountBalances(t.params.id,t.params.assets);case`${bt.ResolveAccountAddress}`:if(void 0===e.resolveAccountAddress)throw new Ft(t.method);return m(t,Bt),e.resolveAccountAddress(t.params.scope,t.params.request);case`${bt.FilterAccountChains}`:return m(t,Ct),e.filterAccountChains(t.params.id,t.params.chains);case`${bt.UpdateAccount}`:return m(t,Rt),e.updateAccount(t.params.account);case`${bt.DeleteAccount}`:return m(t,jt),e.deleteAccount(t.params.id);case`${bt.ExportAccount}`:if(void 0===e.exportAccount)throw new Ft(t.method);return m(t,Nt),e.exportAccount(t.params.id);case`${bt.ListRequests}`:if(void 0===e.listRequests)throw new Ft(t.method);return m(t,Pt),e.listRequests();case`${bt.GetRequest}`:if(void 0===e.getRequest)throw new Ft(t.method);return m(t,_t),e.getRequest(t.params.id);case`${bt.SubmitRequest}`:return m(t,Lt),e.submitRequest(t.params);case`${bt.ApproveRequest}`:if(void 0===e.approveRequest)throw new Ft(t.method);return m(t,Mt),e.approveRequest(t.params.id,t.params.data);case`${bt.RejectRequest}`:if(void 0===e.rejectRequest)throw new Ft(t.method);return m(t,Ut),e.rejectRequest(t.params.id);default:throw new Ft(t.method)}}(e,t)}catch(e){const t=e instanceof Error&&"string"==typeof e.message?e.message:"An unknown error occurred while handling the keyring request";throw new Error(t)}}async function $t(e,t,n){await e.request({method:"snap_manageAccounts",params:{method:t,params:{...n}}})}function qt(e){return Boolean(e)&&"object"==typeof e&&!Array.isArray(e)}const Wt=(e,t)=>Object.hasOwnProperty.call(e,t);var Gt;!function(e){e[e.Null=4]="Null",e[e.Comma=1]="Comma",e[e.Wrapper=1]="Wrapper",e[e.True=4]="True",e[e.False=5]="False",e[e.Quote=1]="Quote",e[e.Colon=1]="Colon",e[e.Date=24]="Date"}(Gt=Gt||(Gt={}));var Vt=n(282);const Kt=e=>C(e);function Ht({path:e,branch:t}){const n=e[e.length-1];return Wt(t[t.length-2],n)}function Jt(e){return new g({...e,type:`optional ${e.type}`,validator:(t,n)=>!Ht(n)||e.validator(t,n),refiner:(t,n)=>!Ht(n)||e.refiner(t,n)})}function Zt(e){if(null===e||"boolean"==typeof e||"string"==typeof e)return!0;if("number"==typeof e&&Number.isFinite(e))return!0;if("object"==typeof e){let t=!0;if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(!Zt(e[n])){t=!1;break}return t}const n=Object.entries(e);for(let e=0;e<n.length;e++)if("string"!=typeof n[e][0]||!Zt(n[e][1])){t=!1;break}return t}return!1}const Yt=U("JSON",(e=>Zt(e))),Qt=K(Yt,Y(A(),"JSON",(e=>v(e,Yt))),(e=>JSON.parse(JSON.stringify(e,((e,t)=>{if("__proto__"!==e&&"constructor"!==e)return t})))));function Xt(e){try{return function(e){y(e,Qt)}(e),!0}catch{return!1}}const en=T("2.0"),tn=O(_([B(),N()])),nn=Kt({code:k(),message:N(),data:Jt(Qt),stack:Jt(N())}),rn=_([j(N(),Qt),b(Qt)]);Kt({id:tn,jsonrpc:en,method:N(),params:Jt(rn)}),Kt({jsonrpc:en,method:N(),params:Jt(rn)});C({id:tn,jsonrpc:en,result:R(L()),error:R(nn)});const on=Kt({id:tn,jsonrpc:en,result:Qt}),an=Kt({id:tn,jsonrpc:en,error:nn});_([on,an]);const sn={invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},cn={userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901},un={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}},ln=sn.internal,dn="Unspecified error message. This is a bug, please report it.",fn=(pn(ln),"Unspecified server error.");function pn(e,t=dn){if(function(e){return Number.isInteger(e)}(e)){const t=e.toString();if(Wt(un,t))return un[t].message;if(function(e){return e>=-32099&&e<=-32e3}(e))return fn}return t}function hn(e){return Array.isArray(e)?e.map((e=>Xt(e)?e:qt(e)?gn(e):null)):qt(e)?gn(e):Xt(e)?e:null}function gn(e){return Object.getOwnPropertyNames(e).reduce(((t,n)=>{const r=e[n];return Xt(r)&&(t[n]=r),t}),{})}const mn=(yn=Vt,yn?.__esModule?yn.default:yn);var yn;class vn extends Error{constructor(e,t,n){if(!Number.isInteger(e))throw new Error(\'"code" must be an integer.\');if(!t||"string"!=typeof t)throw new Error(\'"message" must be a non-empty string.\');!function(e){return qt(e)&&Wt(e,"cause")&&qt(e.cause)}(n)?super(t):(super(t,{cause:n.cause}),Wt(this,"cause")||Object.assign(this,{cause:n.cause})),void 0!==n&&(this.data=n),this.code=e}serialize(){const e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data,function(e){if("object"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}}(this.data)&&(e.data.cause=hn(this.data.cause))),this.stack&&(e.stack=this.stack),e}toString(){return mn(this.serialize(),An,2)}}class wn extends vn{constructor(e,t,n){if(!function(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(e))throw new Error(\'"code" must be an integer such that: 1000 <= code <= 4999\');super(e,t,n)}}function An(e,t){if("[Circular]"!==t)return t}const bn=e=>Mn(sn.parse,e),Sn=e=>Mn(sn.invalidRequest,e),xn=e=>Mn(sn.invalidParams,e),En=e=>Mn(sn.methodNotFound,e),kn=e=>Mn(sn.internal,e),Tn=e=>Mn(sn.invalidInput,e),In=e=>Mn(sn.resourceNotFound,e),On=e=>Mn(sn.resourceUnavailable,e),Bn=e=>Mn(sn.transactionRejected,e),Cn=e=>Mn(sn.methodNotSupported,e),Rn=e=>Mn(sn.limitExceeded,e),jn=e=>Un(cn.userRejectedRequest,e),Nn=e=>Un(cn.unauthorized,e),Pn=e=>Un(cn.unsupportedMethod,e),_n=e=>Un(cn.disconnected,e),Ln=e=>Un(cn.chainDisconnected,e);function Mn(e,t){const[n,r]=zn(t);return new vn(e,n??pn(e),r)}function Un(e,t){const[n,r]=zn(t);return new wn(e,n??pn(e),r)}function zn(e){if(e){if("string"==typeof e)return[e];if("object"==typeof e&&!Array.isArray(e)){const{message:t,data:n}=e;if(t&&"string"!=typeof t)throw new Error("Must specify string message.");return[t??void 0,n]}}return[]}function Fn(e){return Boolean(e)&&"object"==typeof e&&!Array.isArray(e)}const Dn=(e,t)=>Object.hasOwnProperty.call(e,t);var $n;!function(e){e[e.Null=4]="Null",e[e.Comma=1]="Comma",e[e.Wrapper=1]="Wrapper",e[e.True=4]="True",e[e.False=5]="False",e[e.Quote=1]="Quote",e[e.Colon=1]="Colon",e[e.Date=24]="Date"}($n=$n||($n={}));const qn=e=>C(e);function Wn({path:e,branch:t}){const n=e[e.length-1];return Dn(t[t.length-2],n)}function Gn(e){return new g({...e,type:`optional ${e.type}`,validator:(t,n)=>!Wn(n)||e.validator(t,n),refiner:(t,n)=>!Wn(n)||e.refiner(t,n)})}function Vn(e){if(null===e||"boolean"==typeof e||"string"==typeof e)return!0;if("number"==typeof e&&Number.isFinite(e))return!0;if("object"==typeof e){let t=!0;if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(!Vn(e[n])){t=!1;break}return t}const n=Object.entries(e);for(let e=0;e<n.length;e++)if("string"!=typeof n[e][0]||!Vn(n[e][1])){t=!1;break}return t}return!1}const Kn=U("JSON",(e=>Vn(e))),Hn=K(Kn,Y(A(),"JSON",(e=>v(e,Kn))),(e=>JSON.parse(JSON.stringify(e,((e,t)=>{if("__proto__"!==e&&"constructor"!==e)return t})))));function Jn(e){try{return function(e){y(e,Hn)}(e),!0}catch{return!1}}const Zn=T("2.0"),Yn=O(_([B(),N()])),Qn=qn({code:k(),message:N(),data:Gn(Hn),stack:Gn(N())}),Xn=_([j(N(),Hn),b(Hn)]);qn({id:Yn,jsonrpc:Zn,method:N(),params:Gn(Xn)}),qn({jsonrpc:Zn,method:N(),params:Gn(Xn)});C({id:Yn,jsonrpc:Zn,result:R(L()),error:R(Qn)});const er=qn({id:Yn,jsonrpc:Zn,result:Hn}),tr=qn({id:Yn,jsonrpc:Zn,error:Qn});_([er,tr]);function nr(e){return Fn(e)&&Dn(e,"data")&&"object"==typeof e.data&&null!==e.data&&Jn(e.data)&&!Array.isArray(e.data)?e.data:{}}var rr,or,ir,ar,sr=function(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n},cr=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};class ur extends Error{constructor(e,t={}){const n=function(e){return Fn(e)&&Dn(e,"message")&&"string"==typeof e.message?e.message:String(e)}(e);super(n),rr.set(this,void 0),or.set(this,void 0),ir.set(this,void 0),ar.set(this,void 0),sr(this,or,n,"f"),sr(this,rr,function(e){return Fn(e)&&Dn(e,"code")&&"number"==typeof e.code&&Number.isInteger(e.code)?e.code:-32603}(e),"f");const r={...nr(e),...t};Object.keys(r).length>0&&sr(this,ir,r,"f"),sr(this,ar,super.stack,"f")}get name(){return"SnapError"}get code(){return cr(this,rr,"f")}get message(){return cr(this,or,"f")}get data(){return cr(this,ir,"f")}get stack(){return cr(this,ar,"f")}toJSON(){return{code:-31002,message:"Snap Error",data:{cause:{code:this.code,message:this.message,stack:this.stack,...this.data?{data:this.data}:{}}}}}serialize(){return this.toJSON()}}function lr(e){return class extends ur{constructor(t,n){if("object"==typeof t){const n=e();return void super({code:n.code,message:n.message,data:t})}const r=e(t);super({code:r.code,message:r.message,data:n})}}}rr=new WeakMap,or=new WeakMap,ir=new WeakMap,ar=new WeakMap;const dr=lr(kn),fr=lr(Tn),pr=lr(xn),hr=lr(Sn),gr=lr(Rn),mr=lr(En),yr=lr(Cn),vr=lr(bn),wr=lr(In),Ar=lr(On),br=lr(Bn),Sr=lr(Ln),xr=lr(_n),Er=lr(Nn),kr=lr(Pn),Tr=lr(jn);var Ir=/^-?(?:\\d+(?:\\.\\d*)?|\\.\\d+)(?:e[+-]?\\d+)?$/i,Or=Math.ceil,Br=Math.floor,Cr="[BigNumber Error] ",Rr=Cr+"Number primitive has more than 15 significant digits: ",jr=1e14,Nr=14,Pr=9007199254740991,_r=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],Lr=1e7,Mr=1e9;function Ur(e){var t=0|e;return e>0||e===t?t:t-1}function zr(e){for(var t,n,r=1,o=e.length,i=e[0]+"";r<o;){for(t=e[r++]+"",n=Nr-t.length;n--;t="0"+t);i+=t}for(o=i.length;48===i.charCodeAt(--o););return i.slice(0,o+1||1)}function Fr(e,t){var n,r,o=e.c,i=t.c,a=e.s,s=t.s,c=e.e,u=t.e;if(!a||!s)return null;if(n=o&&!o[0],r=i&&!i[0],n||r)return n?r?0:-s:a;if(a!=s)return a;if(n=a<0,r=c==u,!o||!i)return r?0:!o^n?1:-1;if(!r)return c>u^n?1:-1;for(s=(c=o.length)<(u=i.length)?c:u,a=0;a<s;a++)if(o[a]!=i[a])return o[a]>i[a]^n?1:-1;return c==u?0:c>u^n?1:-1}function Dr(e,t,n,r){if(e<t||e>n||e!==Br(e))throw Error(Cr+(r||"Argument")+("number"==typeof e?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function $r(e){var t=e.c.length-1;return Ur(e.e/Nr)==t&&e.c[t]%2!=0}function qr(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function Wr(e,t,n){var r,o;if(t<0){for(o=n+".";++t;o+=n);e=o+e}else if(++t>(r=e.length)){for(o=n,t-=r;--t;o+=n);e+=o}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}var Gr=function e(t){var n,r,o,i,a,s,c,u,l,d,f=T.prototype={constructor:T,toString:null,valueOf:null},p=new T(1),h=20,g=4,m=-7,y=21,v=-1e7,w=1e7,A=!1,b=1,S=0,x={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},E="0123456789abcdefghijklmnopqrstuvwxyz",k=!0;function T(e,t){var n,i,a,s,c,u,l,d,f=this;if(!(f instanceof T))return new T(e,t);if(null==t){if(e&&!0===e._isBigNumber)return f.s=e.s,void(!e.c||e.e>w?f.c=f.e=null:e.e<v?f.c=[f.e=0]:(f.e=e.e,f.c=e.c.slice()));if((u="number"==typeof e)&&0*e==0){if(f.s=1/e<0?(e=-e,-1):1,e===~~e){for(s=0,c=e;c>=10;c/=10,s++);return void(s>w?f.c=f.e=null:(f.e=s,f.c=[e]))}d=String(e)}else{if(!Ir.test(d=String(e)))return o(f,d,u);f.s=45==d.charCodeAt(0)?(d=d.slice(1),-1):1}(s=d.indexOf("."))>-1&&(d=d.replace(".","")),(c=d.search(/e/i))>0?(s<0&&(s=c),s+=+d.slice(c+1),d=d.substring(0,c)):s<0&&(s=d.length)}else{if(Dr(t,2,E.length,"Base"),10==t&&k)return C(f=new T(e),h+f.e+1,g);if(d=String(e),u="number"==typeof e){if(0*e!=0)return o(f,d,u,t);if(f.s=1/e<0?(d=d.slice(1),-1):1,T.DEBUG&&d.replace(/^0\\.0*|\\./,"").length>15)throw Error(Rr+e)}else f.s=45===d.charCodeAt(0)?(d=d.slice(1),-1):1;for(n=E.slice(0,t),s=c=0,l=d.length;c<l;c++)if(n.indexOf(i=d.charAt(c))<0){if("."==i){if(c>s){s=l;continue}}else if(!a&&(d==d.toUpperCase()&&(d=d.toLowerCase())||d==d.toLowerCase()&&(d=d.toUpperCase()))){a=!0,c=-1,s=0;continue}return o(f,String(e),u,t)}u=!1,(s=(d=r(d,t,10,f.s)).indexOf("."))>-1?d=d.replace(".",""):s=d.length}for(c=0;48===d.charCodeAt(c);c++);for(l=d.length;48===d.charCodeAt(--l););if(d=d.slice(c,++l)){if(l-=c,u&&T.DEBUG&&l>15&&(e>Pr||e!==Br(e)))throw Error(Rr+f.s*e);if((s=s-c-1)>w)f.c=f.e=null;else if(s<v)f.c=[f.e=0];else{if(f.e=s,f.c=[],c=(s+1)%Nr,s<0&&(c+=Nr),c<l){for(c&&f.c.push(+d.slice(0,c)),l-=Nr;c<l;)f.c.push(+d.slice(c,c+=Nr));c=Nr-(d=d.slice(c)).length}else c-=l;for(;c--;d+="0");f.c.push(+d)}}else f.c=[f.e=0]}function I(e,t,n,r){var o,i,a,s,c;if(null==n?n=g:Dr(n,0,8),!e.c)return e.toString();if(o=e.c[0],a=e.e,null==t)c=zr(e.c),c=1==r||2==r&&(a<=m||a>=y)?qr(c,a):Wr(c,a,"0");else if(i=(e=C(new T(e),t,n)).e,s=(c=zr(e.c)).length,1==r||2==r&&(t<=i||i<=m)){for(;s<t;c+="0",s++);c=qr(c,i)}else if(t-=a,c=Wr(c,i,"0"),i+1>s){if(--t>0)for(c+=".";t--;c+="0");}else if((t+=i-s)>0)for(i+1==s&&(c+=".");t--;c+="0");return e.s<0&&o?"-"+c:c}function O(e,t){for(var n,r,o=1,i=new T(e[0]);o<e.length;o++)(!(r=new T(e[o])).s||(n=Fr(i,r))===t||0===n&&i.s===t)&&(i=r);return i}function B(e,t,n){for(var r=1,o=t.length;!t[--o];t.pop());for(o=t[0];o>=10;o/=10,r++);return(n=r+n*Nr-1)>w?e.c=e.e=null:n<v?e.c=[e.e=0]:(e.e=n,e.c=t),e}function C(e,t,n,r){var o,i,a,s,c,u,l,d=e.c,f=_r;if(d){e:{for(o=1,s=d[0];s>=10;s/=10,o++);if((i=t-o)<0)i+=Nr,a=t,c=d[u=0],l=Br(c/f[o-a-1]%10);else if((u=Or((i+1)/Nr))>=d.length){if(!r)break e;for(;d.length<=u;d.push(0));c=l=0,o=1,a=(i%=Nr)-Nr+1}else{for(c=s=d[u],o=1;s>=10;s/=10,o++);l=(a=(i%=Nr)-Nr+o)<0?0:Br(c/f[o-a-1]%10)}if(r=r||t<0||null!=d[u+1]||(a<0?c:c%f[o-a-1]),r=n<4?(l||r)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||r||6==n&&(i>0?a>0?c/f[o-a]:0:d[u-1])%10&1||n==(e.s<0?8:7)),t<1||!d[0])return d.length=0,r?(t-=e.e+1,d[0]=f[(Nr-t%Nr)%Nr],e.e=-t||0):d[0]=e.e=0,e;if(0==i?(d.length=u,s=1,u--):(d.length=u+1,s=f[Nr-i],d[u]=a>0?Br(c/f[o-a]%f[a])*s:0),r)for(;;){if(0==u){for(i=1,a=d[0];a>=10;a/=10,i++);for(a=d[0]+=s,s=1;a>=10;a/=10,s++);i!=s&&(e.e++,d[0]==jr&&(d[0]=1));break}if(d[u]+=s,d[u]!=jr)break;d[u--]=0,s=1}for(i=d.length;0===d[--i];d.pop());}e.e>w?e.c=e.e=null:e.e<v&&(e.c=[e.e=0])}return e}function R(e){var t,n=e.e;return null===n?e.toString():(t=zr(e.c),t=n<=m||n>=y?qr(t,n):Wr(t,n,"0"),e.s<0?"-"+t:t)}return T.clone=e,T.ROUND_UP=0,T.ROUND_DOWN=1,T.ROUND_CEIL=2,T.ROUND_FLOOR=3,T.ROUND_HALF_UP=4,T.ROUND_HALF_DOWN=5,T.ROUND_HALF_EVEN=6,T.ROUND_HALF_CEIL=7,T.ROUND_HALF_FLOOR=8,T.EUCLID=9,T.config=T.set=function(e){var t,n;if(null!=e){if("object"!=typeof e)throw Error(Cr+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(Dr(n=e[t],0,Mr,t),h=n),e.hasOwnProperty(t="ROUNDING_MODE")&&(Dr(n=e[t],0,8,t),g=n),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((n=e[t])&&n.pop?(Dr(n[0],-Mr,0,t),Dr(n[1],0,Mr,t),m=n[0],y=n[1]):(Dr(n,-Mr,Mr,t),m=-(y=n<0?-n:n))),e.hasOwnProperty(t="RANGE"))if((n=e[t])&&n.pop)Dr(n[0],-Mr,-1,t),Dr(n[1],1,Mr,t),v=n[0],w=n[1];else{if(Dr(n,-Mr,Mr,t),!n)throw Error(Cr+t+" cannot be zero: "+n);v=-(w=n<0?-n:n)}if(e.hasOwnProperty(t="CRYPTO")){if((n=e[t])!==!!n)throw Error(Cr+t+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw A=!n,Error(Cr+"crypto unavailable");A=n}else A=n}if(e.hasOwnProperty(t="MODULO_MODE")&&(Dr(n=e[t],0,9,t),b=n),e.hasOwnProperty(t="POW_PRECISION")&&(Dr(n=e[t],0,Mr,t),S=n),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(n=e[t]))throw Error(Cr+t+" not an object: "+n);x=n}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(n=e[t])||/^.?$|[+\\-.\\s]|(.).*\\1/.test(n))throw Error(Cr+t+" invalid: "+n);k="0123456789"==n.slice(0,10),E=n}}return{DECIMAL_PLACES:h,ROUNDING_MODE:g,EXPONENTIAL_AT:[m,y],RANGE:[v,w],CRYPTO:A,MODULO_MODE:b,POW_PRECISION:S,FORMAT:x,ALPHABET:E}},T.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!T.DEBUG)return!0;var t,n,r=e.c,o=e.e,i=e.s;e:if("[object Array]"=={}.toString.call(r)){if((1===i||-1===i)&&o>=-Mr&&o<=Mr&&o===Br(o)){if(0===r[0]){if(0===o&&1===r.length)return!0;break e}if((t=(o+1)%Nr)<1&&(t+=Nr),String(r[0]).length==t){for(t=0;t<r.length;t++)if((n=r[t])<0||n>=jr||n!==Br(n))break e;if(0!==n)return!0}}}else if(null===r&&null===o&&(null===i||1===i||-1===i))return!0;throw Error(Cr+"Invalid BigNumber: "+e)},T.maximum=T.max=function(){return O(arguments,-1)},T.minimum=T.min=function(){return O(arguments,1)},T.random=(i=9007199254740992,a=Math.random()*i&2097151?function(){return Br(Math.random()*i)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,n,r,o,i,s=0,c=[],u=new T(p);if(null==e?e=h:Dr(e,0,Mr),o=Or(e/Nr),A)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(o*=2));s<o;)(i=131072*t[s]+(t[s+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[s]=n[0],t[s+1]=n[1]):(c.push(i%1e14),s+=2);s=o/2}else{if(!crypto.randomBytes)throw A=!1,Error(Cr+"crypto unavailable");for(t=crypto.randomBytes(o*=7);s<o;)(i=281474976710656*(31&t[s])+1099511627776*t[s+1]+4294967296*t[s+2]+16777216*t[s+3]+(t[s+4]<<16)+(t[s+5]<<8)+t[s+6])>=9e15?crypto.randomBytes(7).copy(t,s):(c.push(i%1e14),s+=7);s=o/7}if(!A)for(;s<o;)(i=a())<9e15&&(c[s++]=i%1e14);for(o=c[--s],e%=Nr,o&&e&&(i=_r[Nr-e],c[s]=Br(o/i)*i);0===c[s];c.pop(),s--);if(s<0)c=[r=0];else{for(r=-1;0===c[0];c.splice(0,1),r-=Nr);for(s=1,i=c[0];i>=10;i/=10,s++);s<Nr&&(r-=Nr-s)}return u.e=r,u.c=c,u}),T.sum=function(){for(var e=1,t=arguments,n=new T(t[0]);e<t.length;)n=n.plus(t[e++]);return n},r=function(){var e="0123456789";function t(e,t,n,r){for(var o,i,a=[0],s=0,c=e.length;s<c;){for(i=a.length;i--;a[i]*=t);for(a[0]+=r.indexOf(e.charAt(s++)),o=0;o<a.length;o++)a[o]>n-1&&(null==a[o+1]&&(a[o+1]=0),a[o+1]+=a[o]/n|0,a[o]%=n)}return a.reverse()}return function(r,o,i,a,s){var c,u,l,d,f,p,m,y,v=r.indexOf("."),w=h,A=g;for(v>=0&&(d=S,S=0,r=r.replace(".",""),p=(y=new T(o)).pow(r.length-v),S=d,y.c=t(Wr(zr(p.c),p.e,"0"),10,i,e),y.e=y.c.length),l=d=(m=t(r,o,i,s?(c=E,e):(c=e,E))).length;0==m[--d];m.pop());if(!m[0])return c.charAt(0);if(v<0?--l:(p.c=m,p.e=l,p.s=a,m=(p=n(p,y,w,A,i)).c,f=p.r,l=p.e),v=m[u=l+w+1],d=i/2,f=f||u<0||null!=m[u+1],f=A<4?(null!=v||f)&&(0==A||A==(p.s<0?3:2)):v>d||v==d&&(4==A||f||6==A&&1&m[u-1]||A==(p.s<0?8:7)),u<1||!m[0])r=f?Wr(c.charAt(1),-w,c.charAt(0)):c.charAt(0);else{if(m.length=u,f)for(--i;++m[--u]>i;)m[u]=0,u||(++l,m=[1].concat(m));for(d=m.length;!m[--d];);for(v=0,r="";v<=d;r+=c.charAt(m[v++]));r=Wr(r,l,c.charAt(0))}return r}}(),n=function(){function e(e,t,n){var r,o,i,a,s=0,c=e.length,u=t%Lr,l=t/Lr|0;for(e=e.slice();c--;)s=((o=u*(i=e[c]%Lr)+(r=l*i+(a=e[c]/Lr|0)*u)%Lr*Lr+s)/n|0)+(r/Lr|0)+l*a,e[c]=o%n;return s&&(e=[s].concat(e)),e}function t(e,t,n,r){var o,i;if(n!=r)i=n>r?1:-1;else for(o=i=0;o<n;o++)if(e[o]!=t[o]){i=e[o]>t[o]?1:-1;break}return i}function n(e,t,n,r){for(var o=0;n--;)e[n]-=o,o=e[n]<t[n]?1:0,e[n]=o*r+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(r,o,i,a,s){var c,u,l,d,f,p,h,g,m,y,v,w,A,b,S,x,E,k=r.s==o.s?1:-1,I=r.c,O=o.c;if(!(I&&I[0]&&O&&O[0]))return new T(r.s&&o.s&&(I?!O||I[0]!=O[0]:O)?I&&0==I[0]||!O?0*k:k/0:NaN);for(m=(g=new T(k)).c=[],k=i+(u=r.e-o.e)+1,s||(s=jr,u=Ur(r.e/Nr)-Ur(o.e/Nr),k=k/Nr|0),l=0;O[l]==(I[l]||0);l++);if(O[l]>(I[l]||0)&&u--,k<0)m.push(1),d=!0;else{for(b=I.length,x=O.length,l=0,k+=2,(f=Br(s/(O[0]+1)))>1&&(O=e(O,f,s),I=e(I,f,s),x=O.length,b=I.length),A=x,v=(y=I.slice(0,x)).length;v<x;y[v++]=0);E=O.slice(),E=[0].concat(E),S=O[0],O[1]>=s/2&&S++;do{if(f=0,(c=t(O,y,x,v))<0){if(w=y[0],x!=v&&(w=w*s+(y[1]||0)),(f=Br(w/S))>1)for(f>=s&&(f=s-1),h=(p=e(O,f,s)).length,v=y.length;1==t(p,y,h,v);)f--,n(p,x<h?E:O,h,s),h=p.length,c=1;else 0==f&&(c=f=1),h=(p=O.slice()).length;if(h<v&&(p=[0].concat(p)),n(y,p,v,s),v=y.length,-1==c)for(;t(O,y,x,v)<1;)f++,n(y,x<v?E:O,v,s),v=y.length}else 0===c&&(f++,y=[0]);m[l++]=f,y[0]?y[v++]=I[A]||0:(y=[I[A]],v=1)}while((A++<b||null!=y[0])&&k--);d=null!=y[0],m[0]||m.splice(0,1)}if(s==jr){for(l=1,k=m[0];k>=10;k/=10,l++);C(g,i+(g.e=l+u*Nr-1)+1,a,d)}else g.e=u,g.r=+d;return g}}(),s=/^(-?)0([xbo])(?=\\w[\\w.]*$)/i,c=/^([^.]+)\\.$/,u=/^\\.([^.]+)$/,l=/^-?(Infinity|NaN)$/,d=/^\\s*\\+(?=[\\w.])|^\\s+|\\s+$/g,o=function(e,t,n,r){var o,i=n?t:t.replace(d,"");if(l.test(i))e.s=isNaN(i)?null:i<0?-1:1;else{if(!n&&(i=i.replace(s,(function(e,t,n){return o="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=o?e:t})),r&&(o=r,i=i.replace(c,"$1").replace(u,"0.$1")),t!=i))return new T(i,o);if(T.DEBUG)throw Error(Cr+"Not a"+(r?" base "+r:"")+" number: "+t);e.s=null}e.c=e.e=null},f.absoluteValue=f.abs=function(){var e=new T(this);return e.s<0&&(e.s=1),e},f.comparedTo=function(e,t){return Fr(this,new T(e,t))},f.decimalPlaces=f.dp=function(e,t){var n,r,o,i=this;if(null!=e)return Dr(e,0,Mr),null==t?t=g:Dr(t,0,8),C(new T(i),e+i.e+1,t);if(!(n=i.c))return null;if(r=((o=n.length-1)-Ur(this.e/Nr))*Nr,o=n[o])for(;o%10==0;o/=10,r--);return r<0&&(r=0),r},f.dividedBy=f.div=function(e,t){return n(this,new T(e,t),h,g)},f.dividedToIntegerBy=f.idiv=function(e,t){return n(this,new T(e,t),0,1)},f.exponentiatedBy=f.pow=function(e,t){var n,r,o,i,a,s,c,u,l=this;if((e=new T(e)).c&&!e.isInteger())throw Error(Cr+"Exponent not an integer: "+R(e));if(null!=t&&(t=new T(t)),a=e.e>14,!l.c||!l.c[0]||1==l.c[0]&&!l.e&&1==l.c.length||!e.c||!e.c[0])return u=new T(Math.pow(+R(l),a?e.s*(2-$r(e)):+R(e))),t?u.mod(t):u;if(s=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new T(NaN);(r=!s&&l.isInteger()&&t.isInteger())&&(l=l.mod(t))}else{if(e.e>9&&(l.e>0||l.e<-1||(0==l.e?l.c[0]>1||a&&l.c[1]>=24e7:l.c[0]<8e13||a&&l.c[0]<=9999975e7)))return i=l.s<0&&$r(e)?-0:0,l.e>-1&&(i=1/i),new T(s?1/i:i);S&&(i=Or(S/Nr+2))}for(a?(n=new T(.5),s&&(e.s=1),c=$r(e)):c=(o=Math.abs(+R(e)))%2,u=new T(p);;){if(c){if(!(u=u.times(l)).c)break;i?u.c.length>i&&(u.c.length=i):r&&(u=u.mod(t))}if(o){if(0===(o=Br(o/2)))break;c=o%2}else if(C(e=e.times(n),e.e+1,1),e.e>14)c=$r(e);else{if(0===(o=+R(e)))break;c=o%2}l=l.times(l),i?l.c&&l.c.length>i&&(l.c.length=i):r&&(l=l.mod(t))}return r?u:(s&&(u=p.div(u)),t?u.mod(t):i?C(u,S,g,undefined):u)},f.integerValue=function(e){var t=new T(this);return null==e?e=g:Dr(e,0,8),C(t,t.e+1,e)},f.isEqualTo=f.eq=function(e,t){return 0===Fr(this,new T(e,t))},f.isFinite=function(){return!!this.c},f.isGreaterThan=f.gt=function(e,t){return Fr(this,new T(e,t))>0},f.isGreaterThanOrEqualTo=f.gte=function(e,t){return 1===(t=Fr(this,new T(e,t)))||0===t},f.isInteger=function(){return!!this.c&&Ur(this.e/Nr)>this.c.length-2},f.isLessThan=f.lt=function(e,t){return Fr(this,new T(e,t))<0},f.isLessThanOrEqualTo=f.lte=function(e,t){return-1===(t=Fr(this,new T(e,t)))||0===t},f.isNaN=function(){return!this.s},f.isNegative=function(){return this.s<0},f.isPositive=function(){return this.s>0},f.isZero=function(){return!!this.c&&0==this.c[0]},f.minus=function(e,t){var n,r,o,i,a=this,s=a.s;if(t=(e=new T(e,t)).s,!s||!t)return new T(NaN);if(s!=t)return e.s=-t,a.plus(e);var c=a.e/Nr,u=e.e/Nr,l=a.c,d=e.c;if(!c||!u){if(!l||!d)return l?(e.s=-t,e):new T(d?a:NaN);if(!l[0]||!d[0])return d[0]?(e.s=-t,e):new T(l[0]?a:3==g?-0:0)}if(c=Ur(c),u=Ur(u),l=l.slice(),s=c-u){for((i=s<0)?(s=-s,o=l):(u=c,o=d),o.reverse(),t=s;t--;o.push(0));o.reverse()}else for(r=(i=(s=l.length)<(t=d.length))?s:t,s=t=0;t<r;t++)if(l[t]!=d[t]){i=l[t]<d[t];break}if(i&&(o=l,l=d,d=o,e.s=-e.s),(t=(r=d.length)-(n=l.length))>0)for(;t--;l[n++]=0);for(t=jr-1;r>s;){if(l[--r]<d[r]){for(n=r;n&&!l[--n];l[n]=t);--l[n],l[r]+=jr}l[r]-=d[r]}for(;0==l[0];l.splice(0,1),--u);return l[0]?B(e,l,u):(e.s=3==g?-1:1,e.c=[e.e=0],e)},f.modulo=f.mod=function(e,t){var r,o,i=this;return e=new T(e,t),!i.c||!e.s||e.c&&!e.c[0]?new T(NaN):!e.c||i.c&&!i.c[0]?new T(i):(9==b?(o=e.s,e.s=1,r=n(i,e,0,3),e.s=o,r.s*=o):r=n(i,e,0,b),(e=i.minus(r.times(e))).c[0]||1!=b||(e.s=i.s),e)},f.multipliedBy=f.times=function(e,t){var n,r,o,i,a,s,c,u,l,d,f,p,h,g,m,y=this,v=y.c,w=(e=new T(e,t)).c;if(!(v&&w&&v[0]&&w[0]))return!y.s||!e.s||v&&!v[0]&&!w||w&&!w[0]&&!v?e.c=e.e=e.s=null:(e.s*=y.s,v&&w?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=Ur(y.e/Nr)+Ur(e.e/Nr),e.s*=y.s,(c=v.length)<(d=w.length)&&(h=v,v=w,w=h,o=c,c=d,d=o),o=c+d,h=[];o--;h.push(0));for(g=jr,m=Lr,o=d;--o>=0;){for(n=0,f=w[o]%m,p=w[o]/m|0,i=o+(a=c);i>o;)n=((u=f*(u=v[--a]%m)+(s=p*u+(l=v[a]/m|0)*f)%m*m+h[i]+n)/g|0)+(s/m|0)+p*l,h[i--]=u%g;h[i]=n}return n?++r:h.splice(0,1),B(e,h,r)},f.negated=function(){var e=new T(this);return e.s=-e.s||null,e},f.plus=function(e,t){var n,r=this,o=r.s;if(t=(e=new T(e,t)).s,!o||!t)return new T(NaN);if(o!=t)return e.s=-t,r.minus(e);var i=r.e/Nr,a=e.e/Nr,s=r.c,c=e.c;if(!i||!a){if(!s||!c)return new T(o/0);if(!s[0]||!c[0])return c[0]?e:new T(s[0]?r:0*o)}if(i=Ur(i),a=Ur(a),s=s.slice(),o=i-a){for(o>0?(a=i,n=c):(o=-o,n=s),n.reverse();o--;n.push(0));n.reverse()}for((o=s.length)-(t=c.length)<0&&(n=c,c=s,s=n,t=o),o=0;t;)o=(s[--t]=s[t]+c[t]+o)/jr|0,s[t]=jr===s[t]?0:s[t]%jr;return o&&(s=[o].concat(s),++a),B(e,s,a)},f.precision=f.sd=function(e,t){var n,r,o,i=this;if(null!=e&&e!==!!e)return Dr(e,1,Mr),null==t?t=g:Dr(t,0,8),C(new T(i),e,t);if(!(n=i.c))return null;if(r=(o=n.length-1)*Nr+1,o=n[o]){for(;o%10==0;o/=10,r--);for(o=n[0];o>=10;o/=10,r++);}return e&&i.e+1>r&&(r=i.e+1),r},f.shiftedBy=function(e){return Dr(e,-9007199254740991,Pr),this.times("1e"+e)},f.squareRoot=f.sqrt=function(){var e,t,r,o,i,a=this,s=a.c,c=a.s,u=a.e,l=h+4,d=new T("0.5");if(1!==c||!s||!s[0])return new T(!c||c<0&&(!s||s[0])?NaN:s?a:1/0);if(0==(c=Math.sqrt(+R(a)))||c==1/0?(((t=zr(s)).length+u)%2==0&&(t+="0"),c=Math.sqrt(+t),u=Ur((u+1)/2)-(u<0||u%2),r=new T(t=c==1/0?"5e"+u:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+u)):r=new T(c+""),r.c[0])for((c=(u=r.e)+l)<3&&(c=0);;)if(i=r,r=d.times(i.plus(n(a,i,l,1))),zr(i.c).slice(0,c)===(t=zr(r.c)).slice(0,c)){if(r.e<u&&--c,"9999"!=(t=t.slice(c-3,c+1))&&(o||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(C(r,r.e+h+2,1),e=!r.times(r).eq(a));break}if(!o&&(C(i,i.e+h+2,0),i.times(i).eq(a))){r=i;break}l+=4,c+=4,o=1}return C(r,r.e+h+1,g,e)},f.toExponential=function(e,t){return null!=e&&(Dr(e,0,Mr),e++),I(this,e,t,1)},f.toFixed=function(e,t){return null!=e&&(Dr(e,0,Mr),e=e+this.e+1),I(this,e,t)},f.toFormat=function(e,t,n){var r,o=this;if(null==n)null!=e&&t&&"object"==typeof t?(n=t,t=null):e&&"object"==typeof e?(n=e,e=t=null):n=x;else if("object"!=typeof n)throw Error(Cr+"Argument not an object: "+n);if(r=o.toFixed(e,t),o.c){var i,a=r.split("."),s=+n.groupSize,c=+n.secondaryGroupSize,u=n.groupSeparator||"",l=a[0],d=a[1],f=o.s<0,p=f?l.slice(1):l,h=p.length;if(c&&(i=s,s=c,c=i,h-=i),s>0&&h>0){for(i=h%s||s,l=p.substr(0,i);i<h;i+=s)l+=u+p.substr(i,s);c>0&&(l+=u+p.slice(i)),f&&(l="-"+l)}r=d?l+(n.decimalSeparator||"")+((c=+n.fractionGroupSize)?d.replace(new RegExp("\\\\d{"+c+"}\\\\B","g"),"$&"+(n.fractionGroupSeparator||"")):d):l}return(n.prefix||"")+r+(n.suffix||"")},f.toFraction=function(e){var t,r,o,i,a,s,c,u,l,d,f,h,m=this,y=m.c;if(null!=e&&(!(c=new T(e)).isInteger()&&(c.c||1!==c.s)||c.lt(p)))throw Error(Cr+"Argument "+(c.isInteger()?"out of range: ":"not an integer: ")+R(c));if(!y)return new T(m);for(t=new T(p),l=r=new T(p),o=u=new T(p),h=zr(y),a=t.e=h.length-m.e-1,t.c[0]=_r[(s=a%Nr)<0?Nr+s:s],e=!e||c.comparedTo(t)>0?a>0?t:l:c,s=w,w=1/0,c=new T(h),u.c[0]=0;d=n(c,t,0,1),1!=(i=r.plus(d.times(o))).comparedTo(e);)r=o,o=i,l=u.plus(d.times(i=l)),u=i,t=c.minus(d.times(i=t)),c=i;return i=n(e.minus(r),o,0,1),u=u.plus(i.times(l)),r=r.plus(i.times(o)),u.s=l.s=m.s,f=n(l,o,a*=2,g).minus(m).abs().comparedTo(n(u,r,a,g).minus(m).abs())<1?[l,o]:[u,r],w=s,f},f.toNumber=function(){return+R(this)},f.toPrecision=function(e,t){return null!=e&&Dr(e,1,Mr),I(this,e,t,2)},f.toString=function(e){var t,n=this,o=n.s,i=n.e;return null===i?o?(t="Infinity",o<0&&(t="-"+t)):t="NaN":(null==e?t=i<=m||i>=y?qr(zr(n.c),i):Wr(zr(n.c),i,"0"):10===e&&k?t=Wr(zr((n=C(new T(n),h+i+1,g)).c),n.e,"0"):(Dr(e,2,E.length,"Base"),t=r(Wr(zr(n.c),i,"0"),10,e,o,!0)),o<0&&n.c[0]&&(t="-"+t)),t},f.valueOf=f.toJSON=function(){return R(this)},f._isBigNumber=!0,f[Symbol.toStringTag]="BigNumber",f[Symbol.for("nodejs.util.inspect.custom")]=f.valueOf,null!=t&&T.set(t),T}();const Vr=Gr;var Kr=4,Hr=5,Jr=-32700,Zr=-32603,Yr=-32602,Qr=-32601,Xr=-32600,eo=-32015,to=-32014,no=-32012,ro=-32010,oo=-32009,io=-32007,ao=-32006,so=-32004,co=-32002,uo=-32001,lo=28e5,fo=2800001,po=2800003,ho=2800006,go=2800007,mo=2800008,yo=2800009,vo=32300001,wo=3230004,Ao=361e4,bo=3610001,So=3610003,xo=3610005,Eo=3610007,ko=3704001,To=4615e3,Io=4615026,Oo=4615045,Bo=5508e3,Co=5663e3,Ro=5663001,jo=5663002,No=5663004,Po=5663005,_o=5663006,Lo=5663007,Mo=5663008,Uo=5663009,zo=5663012,Fo=5663015,Do=5663016,$o=5663017,qo=5663018,Wo=5663019,Go=705e4,Vo=7050030,Ko=7050031,Ho=7050035,Jo=8078e3,Zo=8078001,Yo=8078004,Qo=8078005,Xo=8078006,ei=8078007,ti=8078011,ni=8078012,ri=8078013,oi=8078014,ii=81e5,ai=8100002,si=8100003,ci=9900003;function ui(e){if(Array.isArray(e)){return"%5B"+e.map(ui).join("%2C%20")+"%5D"}return"bigint"==typeof e?`${e}n`:encodeURIComponent(String(null!=e&&null===Object.getPrototypeOf(e)?{...e}:e))}function li([e,t]){return`${e}=${ui(t)}`}function di(e,t={}){{let n=`Solana error #${e}; Decode this error by running \\`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(n+=` \'${function(e){const t=Object.entries(e).map(li).join("&");return btoa(t)}(t)}\'`),`${n}\\``}}function fi(e,t){return!!(e instanceof Error&&"SolanaError"===e.name)&&(void 0===t||e.context.__code===t)}var pi=class extends Error{cause=this.cause;context;constructor(...[e,t]){let n,r;if(t){const{cause:e,...o}=t;e&&(r={cause:e}),Object.keys(o).length>0&&(n=o)}super(di(e,n),r),this.context={__code:e,...n},this.name="SolanaError"}};function hi(...e){"captureStackTrace"in Error&&"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(...e)}function gi({errorCodeBaseOffset:e,getErrorContext:t,orderedErrorNames:n,rpcEnumError:r},o){let i,a;"string"==typeof r?i=r:(i=Object.keys(r)[0],a=r[i]);const s=e+n.indexOf(i),c=t(s,i,a),u=new pi(s,c);return hi(u,o),u}var mi=["GenericError","InvalidArgument","InvalidInstructionData","InvalidAccountData","AccountDataTooSmall","InsufficientFunds","IncorrectProgramId","MissingRequiredSignature","AccountAlreadyInitialized","UninitializedAccount","UnbalancedInstruction","ModifiedProgramId","ExternalAccountLamportSpend","ExternalAccountDataModified","ReadonlyLamportChange","ReadonlyDataModified","DuplicateAccountIndex","ExecutableModified","RentEpochModified","NotEnoughAccountKeys","AccountDataSizeChanged","AccountNotExecutable","AccountBorrowFailed","AccountBorrowOutstanding","DuplicateAccountOutOfSync","Custom","InvalidError","ExecutableDataModified","ExecutableLamportChange","ExecutableAccountNotRentExempt","UnsupportedProgramId","CallDepth","MissingAccount","ReentrancyNotAllowed","MaxSeedLengthExceeded","InvalidSeeds","InvalidRealloc","ComputationalBudgetExceeded","PrivilegeEscalation","ProgramEnvironmentSetupFailure","ProgramFailedToComplete","ProgramFailedToCompile","Immutable","IncorrectAuthority","BorshIoError","AccountNotRentExempt","InvalidAccountOwner","ArithmeticOverflow","UnsupportedSysvar","IllegalOwner","MaxAccountsDataAllocationsExceeded","MaxAccountsExceeded","MaxInstructionTraceLengthExceeded","BuiltinProgramsMustConsumeComputeUnits"];function yi(e,t){const n=Number(e);return gi({errorCodeBaseOffset:4615001,getErrorContext:(e,t,r)=>e===To?{errorName:t,index:n,...void 0!==r?{instructionErrorContext:r}:null}:e===Io?{code:Number(r),index:n}:e===Oo?{encodedData:r,index:n}:{index:n},orderedErrorNames:mi,rpcEnumError:t},yi)}var vi=["AccountInUse","AccountLoadedTwice","AccountNotFound","ProgramAccountNotFound","InsufficientFundsForFee","InvalidAccountForFee","AlreadyProcessed","BlockhashNotFound","CallChainTooDeep","MissingSignatureForFee","InvalidAccountIndex","SignatureFailure","InvalidProgramForExecution","SanitizeFailure","ClusterMaintenance","AccountBorrowOutstanding","WouldExceedMaxBlockCostLimit","UnsupportedVersion","InvalidWritableAccount","WouldExceedMaxAccountCostLimit","WouldExceedAccountDataBlockLimit","TooManyAccountLocks","AddressLookupTableNotFound","InvalidAddressLookupTableOwner","InvalidAddressLookupTableData","InvalidAddressLookupTableIndex","InvalidRentPayingAccount","WouldExceedMaxVoteCostLimit","WouldExceedAccountDataTotalLimit","DuplicateInstruction","InsufficientFundsForRent","MaxLoadedAccountsDataSizeExceeded","InvalidLoadedAccountsDataSizeLimit","ResanitizationNeeded","ProgramExecutionTemporarilyRestricted","UnbalancedTransaction"];function wi(e){return"object"==typeof e&&"InstructionError"in e?yi(...e.InstructionError):gi({errorCodeBaseOffset:7050001,getErrorContext:(e,t,n)=>e===Go?{errorName:t,...void 0!==n?{transactionErrorContext:n}:null}:e===Vo?{index:Number(n)}:e===Ko||e===Ho?{accountIndex:Number(n.account_index)}:void 0,orderedErrorNames:vi,rpcEnumError:e},wi)}function Ai({code:e,data:t,message:n}){let r;const o=Number(e);if(o===co){const{err:e,...n}=t,o=e?{cause:wi(e)}:null;r=new pi(co,{...n,...o})}else{let e;switch(o){case Zr:case Yr:case Xr:case Qr:case Jr:case no:case uo:case so:case to:case ro:case oo:case io:case ao:case eo:e={__serverMessage:n};break;default:"object"!=typeof t||Array.isArray(t)||(e=t)}r=new pi(o,e)}return hi(r,Ai),r}var bi=(e,t)=>((e,t)=>{if(e.length>=t)return e;const n=new Uint8Array(t).fill(0);return n.set(e),n})(e.length<=t?e:e.slice(0,t),t);function Si(e,t){return"fixedSize"in t?t.fixedSize:t.getSizeFromValue(e)}function xi(e){return Object.freeze({...e,encode:t=>{const n=new Uint8Array(Si(t,e));return e.write(t,n,0),n}})}function Ei(e){return Object.freeze({...e,decode:(t,n=0)=>e.read(t,n)[0]})}function ki(e){return"fixedSize"in e&&"number"==typeof e.fixedSize}function Ti(e){return!ki(e)}function Ii(e,t){if(ki(e)!==ki(t))throw new pi(Yo);if(ki(e)&&ki(t)&&e.fixedSize!==t.fixedSize)throw new pi(Qo,{decoderFixedSize:t.fixedSize,encoderFixedSize:e.fixedSize});if(!ki(e)&&!ki(t)&&e.maxSize!==t.maxSize)throw new pi(Xo,{decoderMaxSize:t.maxSize,encoderMaxSize:e.maxSize});return{...t,...e,decode:t.decode,encode:e.encode,read:t.read,write:e.write}}function Oi(e,t,n,r=0){const o=n.length-r;if(o<t)throw new pi(Zo,{bytesLength:o,codecDescription:e,expected:t})}function Bi(e,t,n){if(t<0||t>n)throw new pi(oi,{bytesLength:n,codecDescription:e,offset:t})}function Ci(e,t){const n=(n,r,o)=>{const i=e.encode(n);return o=t.write(i.length,r,o),r.set(i,o),o+i.length};if(ki(t)&&ki(e))return xi({...e,fixedSize:t.fixedSize+e.fixedSize,write:n});const r=ki(t)?t.fixedSize:t.maxSize??null,o=ki(e)?e.fixedSize:e.maxSize??null,i=null!==r&&null!==o?r+o:null;return xi({...e,...null!==i?{maxSize:i}:{},getSizeFromValue:n=>{const r=Si(n,e);return Si(r,t)+r},write:n})}function Ri(e,t){const n=(n,r)=>{const[o,i]=t.read(n,r),a=Number(o);return((r=i)>0||n.length>a)&&(n=n.slice(r,r+a)),Oi("addDecoderSizePrefix",a,n),[e.decode(n),r+a]};if(ki(t)&&ki(e))return Ei({...e,fixedSize:t.fixedSize+e.fixedSize,read:n});const r=ki(t)?t.fixedSize:t.maxSize??null,o=ki(e)?e.fixedSize:e.maxSize??null,i=null!==r&&null!==o?r+o:null;return Ei({...e,...null!==i?{maxSize:i}:{},read:n})}function ji(e,t){return xi({fixedSize:t,write:(n,r,o)=>{const i=e.encode(n),a=i.length>t?i.slice(0,t):i;return r.set(a,o),o+t}})}function Ni(e,t){return Ei({fixedSize:t,read:(n,r)=>{Oi("fixCodecSize",t,n,r),(r>0||n.length>t)&&(n=n.slice(r,r+t)),ki(e)&&(n=bi(n,e.fixedSize));const[o]=e.read(n,0);return[o,r+t]}})}function Pi(e,t){return Ei({...e,read:(n,r)=>{const o=e=>_i(e,n.length),i=t.preOffset?t.preOffset({bytes:n,preOffset:r,wrapBytes:o}):r;Bi("offsetDecoder",i,n.length);const[a,s]=e.read(n,i),c=t.postOffset?t.postOffset({bytes:n,newPreOffset:i,postOffset:s,preOffset:r,wrapBytes:o}):s;return Bi("offsetDecoder",c,n.length),[a,c]}})}function _i(e,t){return 0===t?0:(e%t+t)%t}function Li(e,t){if(ki(e)){const n=t(e.fixedSize);if(n<0)throw new pi(ri,{bytesLength:n,codecDescription:"resizeDecoder"});return Ei({...e,fixedSize:n})}return e}function Mi(e,t){return Pi(Li(e,(e=>e+t)),{postOffset:({postOffset:e})=>e+t})}function Ui(e,t){return xi({...Ti(e)?{...e,getSizeFromValue:n=>e.getSizeFromValue(t(n))}:e,write:(n,r,o)=>e.write(t(n),r,o)})}function zi(e,t){return Ei({...e,read:(n,r)=>{const[o,i]=e.read(n,r);return[t(o,n,r),i]}})}function Fi(e,t,n=t){if(!t.match(new RegExp(`^[${e}]*$`)))throw new pi(ni,{alphabet:e,base:e.length,value:n})}var Di=e=>xi({getSizeFromValue:t=>{const[n,r]=qi(t,e[0]);if(!r)return t.length;const o=Wi(r,e);return n.length+Math.ceil(o.toString(16).length/2)},write(t,n,r){if(Fi(e,t),""===t)return r;const[o,i]=qi(t,e[0]);if(!i)return n.set(new Uint8Array(o.length).fill(0),r),r+o.length;let a=Wi(i,e);const s=[];for(;a>0n;)s.unshift(Number(a%256n)),a/=256n;const c=[...Array(o.length).fill(0),...s];return n.set(c,r),r+c.length}}),$i=e=>Ei({read(t,n){const r=0===n?t:t.slice(n);if(0===r.length)return["",0];let o=r.findIndex((e=>0!==e));o=-1===o?r.length:o;const i=e[0].repeat(o);if(o===r.length)return[i,t.length];const a=function(e,t){const n=BigInt(t.length),r=[];for(;e>0n;)r.unshift(t[Number(e%n)]),e/=n;return r.join("")}(r.slice(o).reduce(((e,t)=>256n*e+BigInt(t)),0n),e);return[i+a,t.length]}});function qi(e,t){const[n,r]=e.split(new RegExp(`((?!${t}).*)`));return[n,r]}function Wi(e,t){const n=BigInt(t.length);let r=0n;for(const o of e)r*=n,r+=BigInt(t.indexOf(o));return r}var Gi="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Vi=()=>Di(Gi),Ki=()=>$i(Gi);var Hi,Ji,Zi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Yi=()=>xi({getSizeFromValue:e=>{try{return atob(e).length}catch{throw new pi(ni,{alphabet:Zi,base:64,value:e})}},write(e,t,n){try{const r=atob(e).split("").map((e=>e.charCodeAt(0)));return t.set(r,n),r.length+n}catch{throw new pi(ni,{alphabet:Zi,base:64,value:e})}}}),Qi=()=>Ei({read(e,t=0){const n=e.slice(t);return[btoa(String.fromCharCode(...n)),e.length]}});globalThis.TextDecoder,globalThis.TextEncoder;function Xi(){if(!globalThis.isSecureContext)throw new pi(Ao)}function ea(){if(Xi(),void 0===globalThis.crypto||"function"!=typeof globalThis.crypto.subtle?.exportKey)throw new pi(So)}function ta(){return Hi||(Hi=Vi()),Hi}function na(e){if(e.length<32||e.length>44)throw new pi(fo,{actualLength:e.length});const t=ta().encode(e).byteLength;if(32!==t)throw new pi(lo,{actualLength:t})}function ra(e){return na(e),e}function oa(){return Ui(ji(ta(),32),(e=>ra(e)))}function ia(){return Ni((Ji||(Ji=Ki()),Ji),32)}function aa(){return Ii(oa(),ia())}function sa(){return new Intl.Collator("en",{caseFirst:"lower",ignorePunctuation:!1,localeMatcher:"best fit",numeric:!1,sensitivity:"variant",usage:"sort"}).compare}var ca=37095705934669439343138083508754565189542113879843219016388785533085940283555n,ua=57896044618658097711785492504343953926634992332820282019728792003956564819949n,la=19681161376707505956807079304988542015446066515923890162744021073123829784752n;function da(e){const t=e%ua;return t>=0n?t:ua+t}function fa(e,t){let n=e;for(;t-- >0n;)n*=n,n%=ua;return n}function pa(e,t){const n=da(t*t*t),r=function(e){const t=e*e%ua*e%ua,n=fa(t,2n)*t%ua,r=fa(n,1n)*e%ua,o=fa(r,5n)*r%ua,i=fa(o,10n)*o%ua,a=fa(i,20n)*i%ua,s=fa(a,40n)*a%ua,c=fa(s,80n)*s%ua,u=fa(c,80n)*s%ua,l=fa(u,10n)*o%ua;return fa(l,2n)*e%ua}(e*da(n*n*t));let o=da(e*n*r);const i=da(t*o*o),a=o,s=da(o*la),c=i===e,u=i===da(-e),l=i===da(-e*la);return c&&(o=a),(u||l)&&(o=s),1n===(1n&da(o))&&(o=da(-o)),c||u?o:null}function ha(e){if(32!==e.byteLength)return!1;const t=function(e){const t=e.reduce(((e,t,n)=>`${function(e){const t=e.toString(16);return 1===t.length?`0${t}`:t}(31===n?-129&t:t)}${e}`),"");return BigInt(`0x${t}`)}(e);return function(e,t){const n=da(e*e),r=pa(da(n-1n),da(ca*n+1n));return null!==r&&(0n!==r||!(0!=(128&t)))}(t,e[31])}var ga=32,ma=16,ya=[80,114,111,103,114,97,109,68,101,114,105,118,101,100,65,100,100,114,101,115,115];async function va({programAddress:e,seeds:t}){if(function(){if(Xi(),void 0===globalThis.crypto||"function"!=typeof globalThis.crypto.subtle?.digest)throw new pi(bo)}(),t.length>ma)throw new pi(ho,{actual:t.length,maxSeeds:ma});let n;const r=t.reduce(((e,t,r)=>{const o="string"==typeof t?(n||=new TextEncoder).encode(t):t;if(o.byteLength>ga)throw new pi(go,{actual:o.byteLength,index:r,maxSeedLength:ga});return e.push(...o),e}),[]),o=aa(),i=o.encode(e),a=await crypto.subtle.digest("SHA-256",new Uint8Array([...r,...i,...ya])),s=new Uint8Array(a);if(ha(s))throw new pi(mo);return o.decode(s)}async function wa(e){if(ea(),"public"!==e.type||"Ed25519"!==e.algorithm.name)throw new pi(po);const t=await crypto.subtle.exportKey("raw",e);return ia().decode(new Uint8Array(t))}const Aa=1e9;var ba,Sa;!function(e){e.Mainnet="solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",e.Devnet="solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",e.Testnet="solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",e.Localnet="solana:123456789abcdef"}(ba||(ba={})),function(e){e[e.SolMainnet=`${ba.Mainnet}/slip44:501`]="SolMainnet",e[e.SolDevnet=`${ba.Devnet}/slip44:501`]="SolDevnet",e[e.SolTestnet=`${ba.Testnet}/slip44:501`]="SolTestnet",e[e.SolLocalnet=`${ba.Localnet}/slip44:501`]="SolLocalnet",e[e.UsdcMainnet=`${ba.Mainnet}/token:EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v`]="UsdcMainnet",e[e.UsdcDevnet=`${ba.Devnet}/token:4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU`]="UsdcDevnet",e[e.UsdcLocalnet=`${ba.Localnet}/token:4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU`]="UsdcLocalnet",e[e.EurcMainnet=`${ba.Mainnet}/token:HzwqbKZw8HxMN6bF2yFZNrht3c2iXXzpKcFu7uBEDKtr`]="EurcMainnet",e[e.EurcDevnet=`${ba.Devnet}/token:HzwqbKZw8HxMN6bF2yFZNrht3c2iXXzpKcFu7uBEDKtr`]="EurcDevnet",e[e.EurcLocalnet=`${ba.Localnet}/token:HzwqbKZw8HxMN6bF2yFZNrht3c2iXXzpKcFu7uBEDKtr`]="EurcLocalnet"}(Sa||(Sa={}));ba.Mainnet,ba.Devnet,ba.Testnet,ba.Localnet;var xa;!function(e){e.SOL="slip44:501"}(xa||(xa={}));const Ea={[Sa.SolMainnet]:{symbol:"SOL",caip19Id:Sa.SolMainnet,address:"So11111111111111111111111111111111111111112",decimals:9},[Sa.SolDevnet]:{symbol:"SOL",caip19Id:Sa.SolDevnet,address:"So11111111111111111111111111111111111111112",decimals:9},[Sa.SolTestnet]:{symbol:"SOL",caip19Id:Sa.SolTestnet,address:"So11111111111111111111111111111111111111112",decimals:9},[Sa.SolLocalnet]:{symbol:"SOL",caip19Id:Sa.SolLocalnet,address:"So11111111111111111111111111111111111111112",decimals:9},[Sa.UsdcMainnet]:{symbol:"USDC",caip19Id:Sa.UsdcMainnet,address:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",decimals:6},[Sa.UsdcDevnet]:{symbol:"USDC",caip19Id:Sa.UsdcDevnet,address:"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU",decimals:6},[Sa.UsdcLocalnet]:{symbol:"USDC",caip19Id:Sa.UsdcLocalnet,address:"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU",decimals:6}},ka=ra("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),Ta={[ba.Mainnet]:{caip2Id:ba.Mainnet,cluster:"mainnet",name:"Solana Mainnet",nativeToken:Ea[Sa.SolMainnet]},[ba.Devnet]:{caip2Id:ba.Devnet,cluster:"devnet",name:"Solana Devnet",nativeToken:Ea[Sa.SolDevnet]},[ba.Testnet]:{caip2Id:ba.Testnet,cluster:"testnet",name:"Solana Testnet",nativeToken:Ea[Sa.SolTestnet]},[ba.Localnet]:{caip2Id:ba.Localnet,cluster:"local",name:"Solana Localnet",nativeToken:Ea[Sa.SolLocalnet]}},Ia=Z(N(),/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/u),Oa=Y(B(),"positive",(e=>!(e<0)||`Expected a positive number but received a negative number ${e}`)),Ba=Z(N(),/^(?!0\\d)(\\d+(\\.\\d+)?)$/u),Ca=Y(N(),"safe-url",(e=>{try{const t=new URL(e);if(!["http:","https:"].includes(t.protocol))return"URL must use http or https protocol";if(!e.match(/^https?:\\/\\/[^/]+\\/?/u))return"Malformed URL - incorrect protocol format";const n=t.hostname.toLowerCase();if(!("localhost"===n||n.includes(".")&&/^[a-z0-9]([a-z0-9-]*[a-z0-9])?(\\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/u.test(n)))return"Invalid hostname format";const r=decodeURIComponent(e.toLowerCase());if(e.includes("\\\\")||e.includes("@")||r.includes("\\\\")||r.includes("@")||e.toLowerCase().includes("%2f@")||e.toLowerCase().includes("%5c@"))return"URL contains protocol pollution attempts";const o=decodeURIComponent(n);if(n.includes("\\\\")||n.includes("@")||o.includes("/")||n.toLowerCase().includes("%2f"))return"Invalid hostname characters detected";if(e.includes("../")||e.includes("..%2f")||e.includes("..%2F"))return"Directory traversal attempts are not allowed";const i=[/<[^>]*>/u,/javascript:/u,/data:/u,/\\\\[@\\\\]/u,/%2f@/u,/[^\\x20-\\x7E]/u,/\\$\\{.*?\\}/u,/#\\{.*?\\}/u,/[|;]/u,/%0[acd]|%0[acd]/u,/\\/\\/\\w+@/u,/(?:[^a-z]|^)(?:union\\s+(?:all\\s+)?select|select\\s+(?:.*\\s+)?from|insert\\s+into|update\\s+.*\\s+set|delete\\s+from|drop\\s+table|alter\\s+table|create\\s+table|exec(?:ute)?|union|where\\s+[\\d\\w]\\s*=\\s*[\\d\\w]|\\bor\\b\\s*[\\d\\w]\\s*=\\s*[\\d\\w])/iu,/\'.*?(?:OR|UNION|SELECT|FROM|WHERE).*?\'/iu,/%27.*?(?:OR|UNION|SELECT|FROM|WHERE).*?(?:%27|\')/iu,/%20(?:OR|UNION|SELECT|FROM|WHERE)%20/iu,/[?&](?:url|redirect|next|return_to|return_url|goto|destination|continue|redirect_uri)=(?:[^&]*\\/\\/|https?:)/iu,/[?&](?:url|redirect|next|return_to|return_url|goto|destination|continue|redirect_uri)=%(?:[^&]*\\/\\/|https?:)/iu];for(const e of i)if(e.test(r))return"URL contains potentially malicious patterns";return!(t.port&&!/^\\d+$/u.test(t.port))||"Invalid port number"}catch(e){return"Invalid URL format"}})),Ra=Z(N(),/^[-a-z0-9]{3,8}:[-a-zA-Z0-9]{1,64}\\/[-a-zA-Z0-9]{1,64}(:[-a-zA-Z0-9]{1,64})?$/u),ja=C({accountId:Ia}),Na=C({accountId:Ia}),Pa=C({accountId:Ia}),_a=C({accountId:Ia,assets:b(Ra)}),La=C({accountId:Ia,pagination:C({limit:k(),next:R(O(N()))})}),Ma=j(Ra,C({amount:Ba,unit:N()})),Ua=b(Ra),za=(E(Object.values(gt)),C({base64EncodedTransactionMessage:N()}),E(Object.values(ba))),Fa=(E(["btc","eth","ltc","bch","bnb","eos","xrp","xlm","link","dot","yfi","usd","aed","ars","aud","bdt","bhd","bmd","brl","cad","chf","clp","cny","czk","dkk","eur","gbp","gel","hkd","huf","idr","ils","inr","jpy","krw","kwd","lkr","mmk","mxn","myr","ngn","nok","nzd","php","pkr","pln","rub","sar","sek","sgd","thb","try","twd","uah","vef","vnd","zar","xdr","xag","xau","bits","sats"]),C({transaction:N(),scope:E(Object.values(ba))})),Da=C({value:O(Ba)});function $a(e){const{baseUrl:t,path:n,pathParams:r,queryParams:o}=e;m(t,Ca);const i=n.replace(/\\{(\\w+)\\}/gu,((e,t)=>{var n;const o=null===(n=r)||void 0===n?void 0:n[t];if(void 0===o)throw new Error(`Path parameter ${t} is undefined`);return o})).replace(/^\\/+/u,"").replace(/\\/+/gu,"/").replace(/\\/+$/u,""),a=new URL(i,t);Object.entries(o??{}).filter((([e,t])=>void 0!==t)).filter((([e,t])=>null!==t)).forEach((([e,t])=>{t&&a.searchParams.append(e,t)}));const s=a.toString();return m(s,Ca),s}var qa,Wa=((qa=Wa||{})[qa.WRITABLE_SIGNER=3]="WRITABLE_SIGNER",qa[qa.READONLY_SIGNER=2]="READONLY_SIGNER",qa[qa.WRITABLE=1]="WRITABLE",qa[qa.READONLY=0]="READONLY",qa),Ga=2,Va=1;function Ka(e){return e>=2}function Ha(e){return 0!=(e&Va)}function Ja(e,t){return e|t}function Za(e){return e|Ga}async function Ya(e,t){const n=e.byteLength;if(32!==n)throw new pi(ko,{actualLength:n});const r=function(e){return new Uint8Array([48,46,2,1,0,48,5,6,3,43,101,112,4,34,4,32,...e])}(e);return await crypto.subtle.importKey("pkcs8",r,"Ed25519",t??!1,["sign"])}async function Qa(e,t){!function(){if(Xi(),void 0===globalThis.crypto||"function"!=typeof globalThis.crypto.subtle?.sign)throw new pi(xo)}();const n=await crypto.subtle.sign("Ed25519",e,t);return new Uint8Array(n)}async function Xa(e,t=!1){const n=Ya(e,t),[r,o]=await Promise.all([(t?n:Ya(e,!0)).then((async e=>await async function(e,t=!1){if(ea(),!1===e.extractable)throw new pi(Eo,{key:e});const n=await crypto.subtle.exportKey("jwk",e);return await crypto.subtle.importKey("jwk",{crv:"Ed25519",ext:t,key_ops:["verify"],kty:"OKP",x:n.x},"Ed25519",t,["verify"])}(e,!0))),n]);return{privateKey:o,publicKey:r}}function es(e,t,n,r){if(r<t||r>n)throw new pi(ti,{codecDescription:e,max:n,min:t,value:r})}var ts,ns=((ts=ns||{})[ts.Little=0]="Little",ts[ts.Big=1]="Big",ts);function rs(e){return 1!==e?.endian}function os(e){return xi({fixedSize:e.size,write(t,n,r){e.range&&es(e.name,e.range[0],e.range[1],t);const o=new ArrayBuffer(e.size);return e.set(new DataView(o),t,rs(e.config)),n.set(new Uint8Array(o),r),r+e.size}})}function is(e){return Ei({fixedSize:e.size,read(t,n=0){!function(e,t,n=0){if(t.length-n<=0)throw new pi(Jo,{codecDescription:e})}(e.name,t,n),Oi(e.name,e.size,t,n);const r=new DataView(function(e,t,n){const r=e.byteOffset+(t??0),o=n??e.byteLength;return e.buffer.slice(r,r+o)}(t,n,e.size));return[e.get(r,rs(e.config)),n+e.size]}})}var as=()=>xi({getSizeFromValue:e=>e<=127?1:e<=16383?2:3,maxSize:3,write:(e,t,n)=>{es("shortU16",0,65535,e);const r=[0];for(let t=0;;t+=1){const n=Number(e)>>7*t;if(0===n)break;const o=127&n;r[t]=o,t>0&&(r[t-1]|=128)}return t.set(r,n),n+r.length}}),ss=()=>Ei({maxSize:3,read:(e,t)=>{let n=0,r=0;for(;++r;){const o=r-1,i=e[t+o];if(n|=(127&i)<<7*o,0==(128&i))break}return[n,t+r]}}),cs=(e={})=>os({config:e,name:"u32",range:[0,Number("0xffffffff")],set:(e,t,n)=>e.setUint32(0,Number(t),n),size:4}),us=(e={})=>is({config:e,get:(e,t)=>e.getUint32(0,t),name:"u32",size:4}),ls=(e={})=>os({config:e,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,t,n)=>e.setBigUint64(0,BigInt(t),n),size:8}),ds=()=>os({name:"u8",range:[0,Number("0xff")],set:(e,t)=>e.setUint8(0,Number(t)),size:1}),fs=()=>is({get:e=>e.getUint8(0),name:"u8",size:1});function ps(e,t,n){if(t!==n)throw new pi(ei,{actual:n,codecDescription:e,expected:t})}function hs(e){return e.reduce(((e,t)=>null===e||null===t?null:e+t),0)}function gs(e){return ki(e)?e.fixedSize:null}function ms(e){return ki(e)?e.fixedSize:e.maxSize??null}function ys(e,t={}){const n=t.size??cs(),r=ws(n,gs(e)),o=ws(n,ms(e))??void 0;return xi({...null!==r?{fixedSize:r}:{getSizeFromValue:t=>("object"==typeof n?Si(t.length,n):0)+[...t].reduce(((t,n)=>t+Si(n,e)),0),maxSize:o},write:(t,r,o)=>("number"==typeof n&&ps("array",n,t.length),"object"==typeof n&&(o=n.write(t.length,r,o)),t.forEach((t=>{o=e.write(t,r,o)})),o)})}function vs(e,t={}){const n=t.size??us(),r=gs(e),o=ws(n,r),i=ws(n,ms(e))??void 0;return Ei({...null!==o?{fixedSize:o}:{maxSize:i},read:(t,r)=>{const o=[];if("object"==typeof n&&0===t.slice(r).length)return[o,r];if("remainder"===n){for(;r<t.length;){const[n,i]=e.read(t,r);r=i,o.push(n)}return[o,r]}const[i,a]="number"==typeof n?[n,r]:n.read(t,r);r=a;for(let n=0;n<i;n+=1){const[n,i]=e.read(t,r);r=i,o.push(n)}return[o,r]}})}function ws(e,t){return"number"!=typeof e?null:0===e?0:null===t?null:t*e}function As(){return xi({getSizeFromValue:e=>e.length,write:(e,t,n)=>(t.set(e,n),n+e.length)})}function bs(){return Ei({read:(e,t)=>{const n=e.slice(t);return[n,t+n.length]}})}function Ss(e){const t=hs(e.map(gs)),n=hs(e.map(ms))??void 0;return Ei({...null===t?{maxSize:n}:{fixedSize:t},read:(t,n)=>{const r=[];return e.forEach((e=>{const[o,i]=e.read(t,n);r.push(o),n=i})),[r,n]}})}var xs;function Es(e){const t=e.map((([,e])=>e)),n=hs(t.map(gs)),r=hs(t.map(ms))??void 0;return xi({...null===n?{getSizeFromValue:t=>e.map((([e,n])=>Si(t[e],n))).reduce(((e,t)=>e+t),0),maxSize:r}:{fixedSize:n},write:(t,n,r)=>(e.forEach((([e,o])=>{r=o.write(t[e],n,r)})),r)})}function ks(e){const t=e.map((([,e])=>e)),n=hs(t.map(gs)),r=hs(t.map(ms))??void 0;return Ei({...null===n?{maxSize:r}:{fixedSize:n},read:(t,n)=>{const r={};return e.forEach((([e,o])=>{const[i,a]=o.read(t,n);n=a,r[e]=i})),[r,n]}})}function Ts(){return xs||(xs=Vi()),xs}function Is(e){if(e.length<32||e.length>44)throw new pi(Kr,{actualLength:e.length});const t=Ts().encode(e).byteLength;if(32!==t)throw new pi(Hr,{actualLength:t})}function Os(e){switch(e){case"finalized":return 2;case"confirmed":return 1;case"processed":return 0;default:throw new pi(ci,{unexpectedValue:e})}}function Bs(e,...t){return t.reduce(((e,t)=>t(e)),e)}function Cs(e){if(!("lifetimeConstraint"in e&&"string"==typeof e.lifetimeConstraint.blockhash&&"bigint"==typeof e.lifetimeConstraint.lastValidBlockHeight))return!1;try{return Is(e.lifetimeConstraint.blockhash),!0}catch{return!1}}function Rs(e,t){if("lifetimeConstraint"in t&&t.lifetimeConstraint.blockhash===e.blockhash&&t.lifetimeConstraint.lastValidBlockHeight===e.lastValidBlockHeight)return t;const n={...t,lifetimeConstraint:Object.freeze(e)};return Object.freeze(n),n}var js=e=>xi({getSizeFromValue:t=>{const[n,r]=Ps(t,e[0]);if(!r)return t.length;const o=_s(r,e);return n.length+Math.ceil(o.toString(16).length/2)},write(t,n,r){if(function(e,t,n=t){if(!t.match(new RegExp(`^[${e}]*$`)))throw new pi(ni,{alphabet:e,base:e.length,value:n})}(e,t),""===t)return r;const[o,i]=Ps(t,e[0]);if(!i)return n.set(new Uint8Array(o.length).fill(0),r),r+o.length;let a=_s(i,e);const s=[];for(;a>0n;)s.unshift(Number(a%256n)),a/=256n;const c=[...Array(o.length).fill(0),...s];return n.set(c,r),r+c.length}}),Ns=e=>Ei({read(t,n){const r=0===n?t:t.slice(n);if(0===r.length)return["",0];let o=r.findIndex((e=>0!==e));o=-1===o?r.length:o;const i=e[0].repeat(o);if(o===r.length)return[i,t.length];const a=function(e,t){const n=BigInt(t.length),r=[];for(;e>0n;)r.unshift(t[Number(e%n)]),e/=n;return r.join("")}(r.slice(o).reduce(((e,t)=>256n*e+BigInt(t)),0n),e);return[i+a,t.length]}});function Ps(e,t){const[n,r]=e.split(new RegExp(`((?!${t}).*)`));return[n,r]}function _s(e,t){const n=BigInt(t.length);let r=0n;for(const o of e)r*=n,r+=BigInt(t.indexOf(o));return r}var Ls,Ms,Us,zs,Fs,Ds,$s="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",qs=()=>js($s),Ws=()=>Ns($s);function Gs(){return Us||(Us=ds()),Us}function Vs(){return zs||(zs=fs()),zs}var Ks=128;function Hs(){return xi({getSizeFromValue:e=>"legacy"===e?0:1,maxSize:1,write:(e,t,n)=>{if("legacy"===e)return n;if(e<0||e>127)throw new pi(No,{actualVersion:e});return t.set([e|Ks],n),n+1}})}function Js(){return Ei({maxSize:1,read:(e,t)=>{const n=e[t];if(0==(n&Ks))return["legacy",t];return[n^Ks,t+1]}})}function Zs(){return Es(Qs())}function Ys(){return Ui(Es([...Qs(),["addressTableLookups",ys((Ls||(Ls=Es([["lookupTableAddress",oa()],["writableIndices",ys(ds(),{size:as()})],["readableIndices",ys(ds(),{size:as()})]])),Ls),{size:as()})]]),(e=>"legacy"===e.version?e:{...e,addressTableLookups:e.addressTableLookups??[]}))}function Qs(){return[["version",Hs()],["header",Es([["numSignerAccounts",Gs()],["numReadonlySignerAccounts",Gs()],["numReadonlyNonSignerAccounts",Gs()]])],["staticAccounts",ys(oa(),{size:as()})],["lifetimeToken",ji(qs(),32)],["instructions",ys((Fs||(Fs=Ui(Es([["programAddressIndex",ds()],["accountIndices",ys(ds(),{size:as()})],["data",Ci(As(),as())]]),(e=>void 0!==e.accountIndices&&void 0!==e.data?e:{...e,accountIndices:e.accountIndices??[],data:e.data??new Uint8Array(0)}))),Fs),{size:as()})]]}function Xs(){return xi({getSizeFromValue:e=>"legacy"===e.version?Zs().getSizeFromValue(e):Ys().getSizeFromValue(e),write:(e,t,n)=>"legacy"===e.version?Zs().write(e,t,n):Ys().write(e,t,n)})}function ec(){return zi(ks([["version",Js()],["header",ks([["numSignerAccounts",Vs()],["numReadonlySignerAccounts",Vs()],["numReadonlyNonSignerAccounts",Vs()]])],["staticAccounts",vs(ia(),{size:ss()})],["lifetimeToken",Ni(Ws(),32)],["instructions",vs((Ds||(Ds=zi(ks([["programAddressIndex",fs()],["accountIndices",vs(fs(),{size:ss()})],["data",Ri(bs(),ss())]]),(e=>{if(e.accountIndices.length&&e.data.byteLength)return e;const{accountIndices:t,data:n,...r}=e;return{...r,...t.length?{accountIndices:t}:null,...n.byteLength?{data:n}:null}}))),Ds),{size:ss()})],["addressTableLookups",vs((Ms||(Ms=ks([["lookupTableAddress",ia()],["writableIndices",vs(fs(),{size:ss()})],["readableIndices",vs(fs(),{size:ss()})]])),Ms),{size:ss()})]]),(({addressTableLookups:e,...t})=>"legacy"!==t.version&&e?.length?{...t,addressTableLookups:e}:t))}function tc(e,t,n){e[t]=n(e[t]??{role:Wa.READONLY})}var nc=Symbol("AddressMapTypeProperty");function rc(e){const t={};for(const n of e){if(!("lookupTableAddress"in n))continue;const e=t[n.lookupTableAddress]||={readableIndices:[],writableIndices:[]};n.role===Wa.WRITABLE?e.writableIndices.push(n.addressIndex):e.readableIndices.push(n.addressIndex)}return Object.keys(t).sort(sa()).map((e=>({lookupTableAddress:e,...t[e]})))}function oc(e){let t=0,n=0,r=0;for(const o of e){if("lookupTableAddress"in o)break;const e=Ha(o.role);Ka(o.role)?(r++,e||n++):e||t++}return{numReadonlyNonSignerAccounts:t,numReadonlySignerAccounts:n,numSignerAccounts:r}}function ic(e,t){const n=function(e){const t={};for(const[n,r]of e.entries())t[r.address]=n;return t}(t);return e.map((({accounts:e,data:t,programAddress:r})=>({programAddressIndex:n[r],...e?{accountIndices:e.map((({address:e})=>n[e]))}:null,...t?{data:t}:null})))}function ac(e){const t=e.findIndex((e=>"lookupTableAddress"in e));return(-1===t?e:e.slice(0,t)).map((({address:e})=>e))}function sc(e){const t=function(e){let t;const n=Object.entries(e).sort((([e,n],[r,o])=>{if(n[nc]!==o[nc]){if(0===n[nc])return-1;if(0===o[nc])return 1;if(2===n[nc])return-1;if(2===o[nc])return 1}const i=Ka(n.role);if(i!==Ka(o.role))return i?-1:1;const a=Ha(n.role);return a!==Ha(o.role)?a?-1:1:(t||=sa(),1===n[nc]&&1===o[nc]&&n.lookupTableAddress!==o.lookupTableAddress?t(n.lookupTableAddress,o.lookupTableAddress):t(e,r))})).map((([e,t])=>({address:e,...t})));return n}(function(e,t){const n={[e]:{[nc]:0,role:Wa.WRITABLE_SIGNER}},r=new Set;for(const e of t){let t;if(tc(n,e.programAddress,(t=>{if(r.add(e.programAddress),nc in t){if(Ha(t.role)){if(0===t[nc])throw new pi(Co,{programAddress:e.programAddress});throw new pi(Ro,{programAddress:e.programAddress})}if(2===t[nc])return t}return{[nc]:2,role:Wa.READONLY}})),e.accounts)for(const o of e.accounts)tc(n,o.address,(e=>{const{address:n,...i}=o;if(nc in e)switch(e[nc]){case 0:return e;case 1:{const n=Ja(e.role,i.role);if("lookupTableAddress"in i){if(e.lookupTableAddress!==i.lookupTableAddress&&(t||=sa())(i.lookupTableAddress,e.lookupTableAddress)<0)return{[nc]:1,...i,role:n}}else if(Ka(i.role))return{[nc]:2,role:n};return e.role!==n?{...e,role:n}:e}case 2:{const t=Ja(e.role,i.role);if(r.has(o.address)){if(Ha(i.role))throw new pi(Ro,{programAddress:o.address});return e.role!==t?{...e,role:t}:e}return"lookupTableAddress"in i&&!Ka(e.role)?{...i,[nc]:1,role:t}:e.role!==t?{...e,role:t}:e}}return"lookupTableAddress"in i?{...i,[nc]:1}:{...i,[nc]:2}}))}return n}(e.feePayer.address,e.instructions));return{..."legacy"!==e.version?{addressTableLookups:rc(t)}:null,header:oc(t),instructions:ic(e.instructions,t),lifetimeToken:(n=e.lifetimeConstraint,"nonce"in n?n.nonce:n.blockhash),staticAccounts:ac(t),version:e.version};var n}function cc({version:e}){return Object.freeze({instructions:Object.freeze([]),version:e})}var uc,lc="SysvarRecentB1ockHashes11111111111111111111",dc="11111111111111111111111111111111";function fc(e,t){return{accounts:[{address:e,role:Wa.WRITABLE},{address:lc,role:Wa.READONLY},{address:t,role:Wa.READONLY_SIGNER}],data:new Uint8Array([4,0,0,0]),programAddress:dc}}function pc(e){return e.programAddress===dc&&null!=e.data&&(4===(t=e.data).byteLength&&4===t[0]&&0===t[1]&&0===t[2]&&0===t[3])&&3===e.accounts?.length&&null!=e.accounts[0].address&&e.accounts[0].role===Wa.WRITABLE&&e.accounts[1].address===lc&&e.accounts[1].role===Wa.READONLY&&null!=e.accounts[2].address&&Ka(e.accounts[2].role);var t}function hc(e){return"lifetimeConstraint"in e&&"string"==typeof e.lifetimeConstraint.nonce&&null!=e.instructions[0]&&pc(e.instructions[0])}function gc(e,t){if("feePayer"in t&&e===t.feePayer?.address&&function(e){return!!e&&"address"in e&&"string"==typeof e.address&&1===Object.keys(e).length}(t.feePayer))return t;const n={...t,feePayer:Object.freeze({address:e})};return Object.freeze(n),n}function mc(e,t){return yc([e],t)}function yc(e,t){return Object.freeze({...t,instructions:Object.freeze([...t.instructions,...e])})}function vc(e,t){return Object.freeze({...t,instructions:Object.freeze([...e,...t.instructions])})}function wc(e,t){const n=e.staticAccounts[0];if(!n)throw new pi(Mo);const r=function(e){const{header:t}=e,n=t.numSignerAccounts-t.numReadonlySignerAccounts,r=e.staticAccounts.length-t.numSignerAccounts-t.numReadonlyNonSignerAccounts,o=[];let i=0;for(let t=0;t<n;t++)o.push({address:e.staticAccounts[i],role:Wa.WRITABLE_SIGNER}),i++;for(let n=0;n<t.numReadonlySignerAccounts;n++)o.push({address:e.staticAccounts[i],role:Wa.READONLY_SIGNER}),i++;for(let t=0;t<r;t++)o.push({address:e.staticAccounts[i],role:Wa.WRITABLE}),i++;for(let n=0;n<t.numReadonlyNonSignerAccounts;n++)o.push({address:e.staticAccounts[i],role:Wa.READONLY}),i++;return o}(e),o="addressTableLookups"in e&&void 0!==e.addressTableLookups&&e.addressTableLookups.length>0?function(e,t){const n=e.map((e=>e.lookupTableAddress)),r=n.filter((e=>void 0===t[e]));if(r.length>0)throw new pi(Po,{lookupTableAddresses:r});const o=[],i=[];for(const n of e){const e=t[n.lookupTableAddress],r=Math.max(...n.readableIndices,...n.writableIndices);if(r>=e.length)throw new pi(_o,{highestKnownIndex:e.length-1,highestRequestedIndex:r,lookupTableAddress:n.lookupTableAddress});const a=n.readableIndices.map((t=>({address:e[t],addressIndex:t,lookupTableAddress:n.lookupTableAddress,role:Wa.READONLY})));o.push(...a);const s=n.writableIndices.map((t=>({address:e[t],addressIndex:t,lookupTableAddress:n.lookupTableAddress,role:Wa.WRITABLE})));i.push(...s)}return[...i,...o]}(e.addressTableLookups,t?.addressesByLookupTableAddress??{}):[],i=[...r,...o],a=e.instructions.map((e=>function(e,t){const n=t[e.programAddressIndex]?.address;if(!n)throw new pi(Lo,{index:e.programAddressIndex});const r=e.accountIndices?.map((e=>t[e])),{data:o}=e;return Object.freeze({programAddress:n,...r&&r.length?{accounts:Object.freeze(r)}:{},...o&&o.length?{data:o}:{}})}(e,i))),s=a[0],c=function(e,t,n){if(t&&pc(t)){const n=t.accounts[0].address;na(n);const r=t.accounts[2].address;return na(r),{nonce:e,nonceAccountAddress:n,nonceAuthorityAddress:r}}return{blockhash:e,lastValidBlockHeight:n??2n**64n-1n}}(e.lifetimeToken,s,t?.lastValidBlockHeight);return Bs(cc({version:e.version}),(e=>gc(n,e)),(e=>a.reduce(((e,t)=>mc(t,e)),e)),(e=>"blockhash"in c?Rs(c,e):function({nonce:e,nonceAccountAddress:t,nonceAuthorityAddress:n},r){let o;const i=r.instructions[0];if(i&&pc(i))if(function(e,t,n){return e.accounts[0].address===t&&e.accounts[2].address===n}(i,t,n)){if(hc(r)&&r.lifetimeConstraint.nonce===e)return r;o=[i,...r.instructions.slice(1)]}else o=[Object.freeze(fc(t,n)),...r.instructions.slice(1)];else o=[Object.freeze(fc(t,n)),...r.instructions];return Object.freeze({...r,instructions:Object.freeze(o),lifetimeConstraint:Object.freeze({nonce:e})})}(c,e)))}function Ac(e){const t=Object.values(e);if(0===t.length)throw new pi(Do);return t.map((e=>e||new Uint8Array(64).fill(0)))}function bc(){return Es([["signatures",Ui(ys(ji(As(),64),{size:as()}),Ac)],["messageBytes",As()]])}function Sc(){return zi(ks([["signatures",vs(Ni(bs(),64),{size:ss()})],["messageBytes",bs()]]),xc)}function xc(e){const{messageBytes:t,signatures:n}=e,r=Ss([Js(),Mi(fs(),2),vs(ia(),{size:ss()})]),[o,i,a]=r.decode(t),s=a.slice(0,i);if(s.length!==n.length)throw new pi($o,{numRequiredSignatures:i,signaturesLength:n.length,signerAddresses:s});const c={};return s.forEach(((e,t)=>{const r=n[t];r.every((e=>0===e))?c[e]=null:c[e]=r})),{messageBytes:t,signatures:Object.freeze(c)}}function Ec(e){const t=sc(e),n=Xs().encode(t),r=t.staticAccounts.slice(0,t.header.numSignerAccounts),o={};for(const e of r)o[e]=null;let i;i=Cs(e)?{blockhash:e.lifetimeConstraint.blockhash,lastValidBlockHeight:e.lifetimeConstraint.lastValidBlockHeight}:{nonce:e.lifetimeConstraint.nonce,nonceAccountAddress:e.instructions[0].accounts[0].address};const a={lifetimeConstraint:i,messageBytes:n,signatures:Object.freeze(o)};return Object.freeze(a)}async function kc(e,t){let n,r;if(await Promise.all(e.map((async e=>{const o=await wa(e.publicKey),i=t.signatures[o];if(void 0===i)return r||=new Set,void r.add(o);if(r)return;const a=await Qa(e.privateKey,t.messageBytes);var s,c;null!==i&&(c=i,(s=a).length===c.length&&s.every(((e,t)=>e===c[t])))||(n||={},n[o]=a)}))),r&&r.size>0){const e=Object.keys(t.signatures);throw new pi(Fo,{expectedAddresses:e,unexpectedAddresses:[...r]})}return n?Object.freeze({...t,signatures:Object.freeze({...t.signatures,...n})}):t}function Tc(e){const t=[];if(Object.entries(e.signatures).forEach((([e,n])=>{n||t.push(e)})),t.length>0)throw new pi(Uo,{addresses:t})}function Ic(e){const t=bc().encode(e);return Qi().decode(t)}function Oc(e){const t={};return e.forEach((e=>{if(t[e.address]){if(t[e.address]!==e)throw new pi(Bo,{address:e.address})}else t[e.address]=e})),Object.values(t)}function Bc(e){return"modifyAndSignTransactions"in e&&"function"==typeof e.modifyAndSignTransactions}function Cc(e){return"signTransactions"in e&&"function"==typeof e.signTransactions}function Rc(e){return"signAndSendTransactions"in e&&"function"==typeof e.signAndSendTransactions}function jc(e){return Cc(e)||Bc(e)||Rc(e)}function Nc(e){return Oc((e.accounts??[]).flatMap((e=>"signer"in e?e.signer:[])))}function Pc(e){return Oc([...e.feePayer&&jc(e.feePayer)?[e.feePayer]:[],...e.instructions.flatMap(Nc)])}function _c(e,t){return 0===t.instructions.length?t:Object.freeze({...t,instructions:t.instructions.map((t=>function(e,t){if(!t.accounts||0===t.accounts.length)return t;const n=new Map(Oc(e).map((e=>[e.address,e])));return Object.freeze({...t,accounts:t.accounts.map((e=>{const t=n.get(e.address);return Ka(e.role)&&!("signer"in e)&&t?Object.freeze({...e,signer:t}):e}))})}(e,t)))})}async function Lc(e){const t=await wa(e.publicKey),n={address:t,keyPair:e,signMessages:n=>Promise.all(n.map((async n=>Object.freeze({[t]:await Qa(e.privateKey,n.content)})))),signTransactions:n=>Promise.all(n.map((async n=>{const r=await kc([e],n);return Object.freeze({[t]:r.signatures[t]})})))};return Object.freeze(n)}async function Mc(e,t){return await Lc(await Xa(e,t))}function Uc(e){const t={address:e,signMessages:e=>Promise.resolve(e.map((()=>Object.freeze({})))),signTransactions:e=>Promise.resolve(e.map((()=>Object.freeze({}))))};return Object.freeze(t)}async function zc(e,t){const n=await async function(e,t){const{partialSigners:n,modifyingSigners:r}=Fc(Oc(Pc(e).filter(jc)),{identifySendingSigner:!1});return await Dc(e,r,n,t)}(e,t);return Tc(n),n}function Fc(e,t={}){const n=t.identifySendingSigner??!0?function(e){const t=e.filter(Rc);if(0===t.length)return null;const n=t.filter((e=>!Bc(e)&&!Cc(e)));if(n.length>0)return n[0];return t[0]}(e):null,r=e.filter((e=>e!==n&&(Bc(e)||Cc(e)))),o=function(e){const t=e.filter(Bc);if(0===t.length)return[];const n=t.filter((e=>!Cc(e)));return n.length>0?n:[t[0]]}(r),i=r.filter(Cc).filter((e=>!o.includes(e)));return Object.freeze({modifyingSigners:o,partialSigners:i,sendingSigner:n})}async function Dc(e,t=[],n=[],r){const o=Ec(e),i=await t.reduce((async(e,t)=>{r?.abortSignal?.throwIfAborted();const[n]=await t.modifyAndSignTransactions([await e],r);return Object.freeze(n)}),Promise.resolve(o));r?.abortSignal?.throwIfAborted();const a=await Promise.all(n.map((async e=>{const[t]=await e.signTransactions([i],r);return t}))),s={...i,signatures:Object.freeze(a.reduce(((e,t)=>({...e,...t})),i.signatures??{}))};return Object.freeze(s)}globalThis.TextEncoder;var $c,qc=(($c=qc||{})[$c.Uninitialized=0]="Uninitialized",$c[$c.Initialized=1]="Initialized",$c);var Wc,Gc=((Wc=Gc||{})[Wc.Legacy=0]="Legacy",Wc[Wc.Current=1]="Current",Wc);var Vc,Kc,Hc="11111111111111111111111111111111",Jc=((Vc=Jc||{})[Vc.Nonce=0]="Nonce",Vc),Zc=((Kc=Zc||{})[Kc.CreateAccount=0]="CreateAccount",Kc[Kc.Assign=1]="Assign",Kc[Kc.TransferSol=2]="TransferSol",Kc[Kc.CreateAccountWithSeed=3]="CreateAccountWithSeed",Kc[Kc.AdvanceNonceAccount=4]="AdvanceNonceAccount",Kc[Kc.WithdrawNonceAccount=5]="WithdrawNonceAccount",Kc[Kc.InitializeNonceAccount=6]="InitializeNonceAccount",Kc[Kc.AuthorizeNonceAccount=7]="AuthorizeNonceAccount",Kc[Kc.Allocate=8]="Allocate",Kc[Kc.AllocateWithSeed=9]="AllocateWithSeed",Kc[Kc.AssignWithSeed=10]="AssignWithSeed",Kc[Kc.TransferSolWithSeed=11]="TransferSolWithSeed",Kc[Kc.UpgradeNonceAccount=12]="UpgradeNonceAccount",Kc);function Yc(e){if(!e)throw new Error("Expected a Address.");return"object"==typeof e&&"address"in e?e.address:Array.isArray(e)?e[0]:e}function Qc(e,t){return t=>{if(!t.value)return Object.freeze({address:e,role:Wa.READONLY});const n=t.isWritable?Wa.WRITABLE:Wa.READONLY;return Object.freeze({address:Yc(t.value),role:Xc(t.value)?Za(n):n,...Xc(t.value)?{signer:t.value}:{}})}}function Xc(e){return!!e&&"object"==typeof e&&"address"in e&&jc(e)}var eu=2;function tu(){return Ui(Es([["discriminator",cs()],["amount",ls()]]),(e=>({...e,discriminator:eu})))}const nu={log:(console.log,(...e)=>{}),info:(console.info,(...e)=>{}),warn:(console.warn,(...e)=>{}),debug:(console.debug,(...e)=>{}),error:(console.error,(...e)=>{})},ru=j(Ra,O(j(N(),Oa))),ou=E(["btc","eth","ltc","bch","bnb","eos","xrp","xlm","link","dot","yfi","usd","aed","ars","aud","bdt","bhd","bmd","brl","cad","chf","clp","cny","czk","dkk","eur","gbp","gel","hkd","huf","idr","ils","inr","jpy","krw","kwd","lkr","mmk","mxn","myr","ngn","nok","nzd","php","pkr","pln","rub","sar","sek","sgd","thb","try","twd","uah","vef","vnd","zar","xdr","xag","xau","bits","sats"]);const iu=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");const t=new Uint8Array(256);for(let e=0;e<t.length;e++)t[e]=255;for(let n=0;n<e.length;n++){const r=e.charAt(n),o=r.charCodeAt(0);if(255!==t[o])throw new TypeError(r+" is ambiguous");t[o]=n}const n=e.length,r=e.charAt(0),o=Math.log(n)/Math.log(256),i=Math.log(256)/Math.log(n);function a(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;let i=0,a=0,s=0;for(;e[i]===r;)a++,i++;const c=(e.length-i)*o+1>>>0,u=new Uint8Array(c);for(;e[i];){let r=t[e.charCodeAt(i)];if(255===r)return;let o=0;for(let e=c-1;(0!==r||o<s)&&-1!==e;e--,o++)r+=n*u[e]>>>0,u[e]=r%256>>>0,r=r/256>>>0;if(0!==r)throw new Error("Non-zero carry");s=o,i++}let l=c-s;for(;l!==c&&0===u[l];)l++;const d=new Uint8Array(a+(c-l));let f=a;for(;l!==c;)d[f++]=u[l++];return d}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";let o=0,a=0,s=0;const c=t.length;for(;s!==c&&0===t[s];)s++,o++;const u=(c-s)*i+1>>>0,l=new Uint8Array(u);for(;s!==c;){let e=t[s],r=0;for(let t=u-1;(0!==e||r<a)&&-1!==t;t--,r++)e+=256*l[t]>>>0,l[t]=e%n>>>0,e=e/n>>>0;if(0!==e)throw new Error("Non-zero carry");a=r,s++}let d=u-a;for(;d!==u&&0===l[d];)d++;let f=r.repeat(o);for(;d<u;++d)f+=e.charAt(l[d]);return f},decodeUnsafe:a,decode:function(e){const t=a(e);if(t)return t;throw new Error("Non-base"+n+" character")}}};const au=iu("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var su=n(1048).hp;const cu={[ba.Mainnet]:"mainnet",[ba.Devnet]:"devnet",[ba.Testnet]:"testnet",[ba.Localnet]:"localnet"};const uu=b(C({decimals:k(),assetId:Ra,name:N(),symbol:N(),iconUrl:R(Ca)}));function lu(e,t){const n=t.filter((t=>!e.includes(t))),r=e.filter((e=>!t.includes(e)));return{hasDiff:n.length>0||r.length>0,added:n,deleted:r}}function du(e,t){const n={added:{},deleted:{},changed:{},hasDiff:!1},r=(e,o,i="")=>{for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)){const s=i?`${i}.${a}`:a;if(Object.prototype.hasOwnProperty.call(o,a)){if("object"==typeof e[a]&&null!==e[a]&&"object"==typeof o[a]&&null!==o[a])r(e[a],o[a],s);else if(e[a]!==o[a]){const e=s.split(".")[0];n.changed[e??a]=t[e??a],n.hasDiff=!0}}else n.deleted[s]=e[a],n.hasDiff=!0}for(const t in o)if(Object.prototype.hasOwnProperty.call(o,t)&&!Object.prototype.hasOwnProperty.call(e,t)){const e=i?`${i}.${t}`:t;n.added[e]=o[t],n.hasDiff=!0}};return r(e,t),n}const fu=async e=>{nu.info("[refreshAssets] Cronjob triggered");try{var t,n,r,o;const i=await Rp.get(),a=(null===(n=e)||void 0===n||null===(t=n.request)||void 0===t?void 0:t.params)&&"object"==typeof e.request.params&&!Array.isArray(e.request.params)&&"accountId"in e.request.params?e.request.params.accountId:void 0,s=a&&(null===(r=i)||void 0===r?void 0:r.keyringAccounts[a]),c=s?[s]:Object.values((null===(o=i)||void 0===o?void 0:o.keyringAccounts)??{});if(0===c.length)return void nu.info("[refreshAssets] No accounts found");nu.log(`[refreshAssets] Found ${c.length} accounts in keyring`);const u=new Map;for(const e of c){nu.log(`[refreshAssets] Fetching all assets for ${e.address} in all networks`);const t=await Gp.listAccountAssets(e.id),n=i.assets[e.id],r=Object.keys(n??{}),o=t??{},{added:a,deleted:s,hasDiff:c}=lu(r,o);c&&(nu.info({assetsAdded:a,assetsDeleted:s,assetsChanged:c},`[refreshAssets] Found updated assets for ${e.address}`),await Gp.emitEvent(zt.AccountAssetListUpdated,{assets:{[e.id]:{added:a,removed:s}}}));const l=await Gp.getAccountBalances(e.id,t),d=i.assets[e.id],{added:f,deleted:p,changed:h,hasDiff:g}=du(d??{},l);g&&(nu.info({balancesAdded:f,balancesDeleted:p,balancesChanged:h},`[refreshAssets] Found updated balances for ${e.address}`),await Gp.emitEvent(zt.AccountBalancesUpdated,{balances:{[e.id]:{...f,...h}}})),u.set(e.id,l)}await Rp.update((e=>({...e,assets:Object.fromEntries(u)}))),nu.info("[refreshAssets] Done refreshing assets")}catch(e){nu.error({error:e},"[refreshAssets] Error refreshing assets")}};function pu(e,t,n){if("string"==typeof e)throw new Error(`An HTML element ("${String(e)}") was used in a Snap component, which is not supported by Snaps UI. Please use one of the supported Snap components.`);if(!e)throw new Error("A JSX fragment was used in a Snap component, which is not supported by Snaps UI. Please use one of the supported Snap components.");return e({...t,key:n})}function hu(e,t,n){return pu(e,t,n)}const gu=e=>Vr(e.toString()).dividedBy(Aa),mu=e=>Vr(e.toString()).multipliedBy(Aa).integerValue(Vr.ROUND_DOWN);function yu(e){return e.length>12?`${e.slice(0,5)}...${e.slice(-5)}`:e}const vu="send-form",wu="confirmation";async function Au(e,t){return snap.request({method:"snap_createInterface",params:{ui:e,context:t}})}async function bu(e,t,n){return snap.request({method:"snap_updateInterface",params:{id:e,ui:t,context:n}})}async function Su(e,t){return snap.request({method:"snap_resolveInterface",params:{id:e,value:t}})}async function xu(e){return snap.request({method:"snap_dialog",params:{id:e}})}async function Eu(){return snap.request({method:"snap_getPreferences"})}async function ku(e){return await snap.request({method:"snap_getInterfaceContext",params:{id:e}})}function Tu(e){return Object.fromEntries(Object.entries(e).filter((([,e])=>void 0!==e)))}function Iu(e){return t=>{const{key:n=null,...r}=t;return{type:e,props:Tu(r),key:n}}}const Ou=Iu("Container"),Bu=Iu("Box"),Cu=Iu("Heading"),Ru=Iu("Footer"),ju=Iu("Button"),Nu=JSON.parse(\'{"D":{"send.title":{"message":"Send"},"send.balance":{"message":"Balance"},"send.maxButton":{"message":"Max"},"send.cancelButton":{"message":"Cancel"},"send.continueButton":{"message":"Continue"},"send.fromField":{"message":"From"},"send.toField":{"message":"To"},"send.amountField":{"message":"Amount"},"send.assetField":{"message":"Token"},"send.toPlaceholder":{"message":"Enter public address"},"send.fromRequiredError":{"message":"Account is required"},"send.amountRequiredError":{"message":"Amount is required"},"send.amountGreatherThanMinimumBalanceForRentExemptionError":{"message":"Amount must be greater than {minimumValue}"},"send.toRequiredError":{"message":"To address is required"},"send.toInvalidError":{"message":"Invalid Solana address"},"send.insufficientBalance":{"message":"Insufficient balance"},"send.simulationTitleError":{"message":"Transaction simulation failed"},"send.simulationMessageError":{"message":"This transaction was reverted during simulation."},"send.selectedTokenPriceNotAvailable":{"message":"Prices for tokens in {currency} are currently not available. You are still able to send tokens."},"send.confirmation.title":{"message":"Review"},"send.confirmation.from":{"message":"From"},"send.confirmation.recipient":{"message":"Recipient"},"send.confirmation.network":{"message":"Network"},"send.confirmation.transactionSpeed":{"message":"Transaction speed"},"send.confirmation.fee":{"message":"Network fee"},"send.confirmation.sendButton":{"message":"Send"},"send.confirmation.cancelButton":{"message":"Cancel"},"send.confirmation.viewTransaction":{"message":"View transaction"},"send.send-pending.title":{"message":"Sending..."},"send.send-pending.subtitle":{"message":"Your transaction was submitted."},"send.transaction-success.title":{"message":"Sent"},"send.transaction-success.subtitle":{"message":"{amount} {tokenSymbol} was successfully sent"},"send.transaction-failure.title":{"message":"Transaction failed"},"send.transaction-failure.subtitle":{"message":"Unable to send {amount} {tokenSymbol}"},"confirmation.account":{"message":"Account"},"confirmation.network":{"message":"Network"},"confirmation.estimatedChanges":{"message":"Estimated changes"},"confirmation.estimatedChanges.send":{"message":"You send"},"confirmation.estimatedChanges.receive":{"message":"You receive"},"confirmation.estimatedChanges.notAvailable":{"message":"Not available"},"confirmation.estimatedChanges.noChanges":{"message":"No changes"},"confirmation.estimatedChanges.tooltip":{"message":"Estimated changes are what might happen if you go through with this transaction. This is just a prediction, not a guarantee."},"confirmation.advanced.show":{"message":"Show advanced"},"confirmation.advanced.hide":{"message":"Hide advanced"},"confirmation.cancelButton":{"message":"Cancel"},"confirmation.confirmButton":{"message":"Confirm"},"confirmation.title":{"message":"Transaction request"},"confirmation.advanced.unknownInstruction":{"message":"Unknown"},"confirmation.advanced.programId":{"message":"Program ID"},"confirmation.advanced.data":{"message":"Data"},"confirmation.fee":{"message":"Network fee"},"confirmation.feeError":{"message":"Unable to estimate fee"},"confirmation.simulationErrorTitle":{"message":"This transaction was reverted during simulation."},"confirmation.simulationErrorSubtitle":{"message":"Reason: {reason}"},"confirmation.validationErrorTitle":{"message":"This is a deceptive request"},"confirmation.validationErrorSubtitle":{"message":"If you approve this request, a third party known for scams will take all your assets."},"confirmation.validationErrorLearnMore":{"message":"Learn more"},"confirmation.validationErrorSecurityAdviced":{"message":"Security advice by"}}}\'),Pu=JSON.parse(\'{"D":{"send.title":{"message":"Enviar"},"send.balance":{"message":"Saldo"},"send.maxButton":{"message":"Máx."},"send.cancelButton":{"message":"Cancelar"},"send.continueButton":{"message":"Continuar"},"send.fromField":{"message":"De"},"send.toField":{"message":"Para"},"send.amountField":{"message":"Monto"},"send.assetField":{"message":"Token"},"send.toPlaceholder":{"message":"Introduzca la dirección pública"},"send.fromRequiredError":{"message":"La cuenta es obligatoria"},"send.amountRequiredError":{"message":"El monto es obligatorio"},"send.amountGreatherThanMinimumBalanceForRentExemptionError":{"message":"El valor debe ser superior a {minimumValue}"},"send.toRequiredError":{"message":"La dirección del destinatario es obligatoria"},"send.toInvalidError":{"message":"Dirección de Solana no válida"},"send.insufficientBalance":{"message":"Saldo insuficiente"},"send.simulationTitleError":{"message":"Simulación de transacción fallida"},"send.simulationMessageError":{"message":"Esta transacción se revirtió durante la simulación."},"send.selectedTokenPriceNotAvailable":{"message":"Los precios de los tokens en {currency} no están disponibles actualmente. Aún puede enviar tokens."},"send.confirmation.title":{"message":"Revisar"},"send.confirmation.from":{"message":"De"},"send.confirmation.recipient":{"message":"Destinatario"},"send.confirmation.network":{"message":"Red"},"send.confirmation.transactionSpeed":{"message":"Velocidad de la transacción"},"send.confirmation.fee":{"message":"Tarifa de red"},"send.confirmation.sendButton":{"message":"Enviar"},"send.confirmation.cancelButton":{"message":"Cancelar"},"send.confirmation.viewTransaction":{"message":"Ver transacción"},"send.send-pending.title":{"message":"Enviando..."},"send.send-pending.subtitle":{"message":"Se envió su transacción."},"send.transaction-success.title":{"message":"Enviado"},"send.transaction-success.subtitle":{"message":"El envío de {amount} {tokenSymbol} se realizó correctamente"},"send.transaction-failure.title":{"message":"Transacción fallida"},"send.transaction-failure.subtitle":{"message":"Error al enviar {amount} {tokenSymbol}"},"confirmation.account":{"message":"Cuenta"},"confirmation.network":{"message":"Red"},"confirmation.estimatedChanges":{"message":"Cambios estimados"},"confirmation.estimatedChanges.send":{"message":"Usted envía"},"confirmation.estimatedChanges.receive":{"message":"Usted recibe"},"confirmation.estimatedChanges.notAvailable":{"message":"No disponible"},"confirmation.estimatedChanges.noChanges":{"message":"Sin cambios"},"confirmation.estimatedChanges.tooltip":{"message":"Los cambios estimados son los que podrían producirse si sigue adelante con esta transacción. Esto es solo una predicción, no una garantía."},"confirmation.advanced.show":{"message":"Mostrar avanzadas"},"confirmation.advanced.hide":{"message":"Ocultar avanzadas"},"confirmation.cancelButton":{"message":"Cancelar"},"confirmation.confirmButton":{"message":"Confirmar"},"confirmation.title":{"message":"Solicitud de transacción"},"confirmation.advanced.unknownInstruction":{"message":"Desconocida"},"confirmation.advanced.programId":{"message":"ID del programa"},"confirmation.advanced.data":{"message":"Datos"},"confirmation.fee":{"message":"Tarifa de red"},"confirmation.feeError":{"message":"No se puede calcular la tarifa"},"confirmation.simulationErrorTitle":{"message":"Esta transacción se revirtió durante la simulación."},"confirmation.simulationErrorSubtitle":{"message":"Motivo: {reason}"},"confirmation.validationErrorTitle":{"message":"Esta es una solicitud engañosa"},"confirmation.validationErrorSubtitle":{"message":"Si aprueba esta solicitud, un tercero conocido por sus estafas se quedará con todos sus activos."},"confirmation.validationErrorLearnMore":{"message":"Conozca más"},"confirmation.validationErrorSecurityAdviced":{"message":"Asesoramiento de seguridad por"}}}\'),_u={en:Nu.D,es:Pu.D},Lu="en";function Mu(e){const t=_u[e]??_u[Lu];return(e,n)=>{var r,o;let i=(null===(o=t)||void 0===o||null===(r=o[e])||void 0===r?void 0:r.message)??e;return n&&i&&Object.keys(n).forEach((e=>{const t=new RegExp(`\\\\{${e}\\\\}`,"gu");i=i.replace(t,n[e]??"")})),i}}var Uu;!function(e){e.AddSquare="add-square",e.Add="add",e.Arrow2Down="arrow-2-down",e.Arrow2Left="arrow-2-left",e.Arrow2Right="arrow-2-right",e.Arrow2Up="arrow-2-up",e.Arrow2UpRight="arrow-2-up-right",e.ArrowDoubleLeft="arrow-double-left",e.ArrowDoubleRight="arrow-double-right",e.ArrowDown="arrow-down",e.ArrowLeft="arrow-left",e.ArrowRight="arrow-right",e.ArrowUp="arrow-up",e.BankToken="bank-token",e.Bank="bank",e.Book="book",e.Bookmark="bookmark",e.Bridge="bridge",e.Calculator="calculator",e.CardPos="card-pos",e.CardToken="card-token",e.Card="card",e.Category="category",e.Chart="chart",e.CheckBold="check-bold",e.Check="check",e.Clock="clock",e.Close="close",e.CodeCircle="code-circle",e.Coin="coin",e.Confirmation="confirmation",e.Connect="connect",e.CopySuccess="copy-success",e.Copy="copy",e.Customize="customize",e.Danger="danger",e.Dark="dark",e.Data="data",e.Diagram="diagram",e.DocumentCode="document-code",e.DragDrop="drag-drop",e.DraggingAnimation="dragging-animation",e.PinningAnimation="pinning-animation",e.Edit="edit",e.Eraser="eraser",e.Ethereum="ethereum",e.Expand="expand",e.Explore="explore",e.Export="export",e.EyeSlash="eye-slash",e.Eye="eye",e.Filter="filter",e.Flag="flag",e.FlashSlash="flash-slash",e.Flash="flash",e.FullCircle="full-circle",e.Gas="gas",e.GlobalSearch="global-search",e.Global="global",e.Graph="graph",e.Hardware="hardware",e.Heart="heart",e.Hierarchy="hierarchy",e.Home="home",e.Import="import",e.Info="info",e.Key="key",e.Light="light",e.Link="link",e.Loading="loading",e.LockCircle="lock-circle",e.LockSlash="lock-slash",e.Lock="lock",e.Login="login",e.Logout="logout",e.Menu="menu",e.MessageQuestion="message-question",e.Messages="messages",e.MinusBold="minus-bold",e.MinusSquare="minus-square",e.Minus="minus",e.Mobile="mobile",e.Money="money",e.Monitor="monitor",e.MoreHorizontal="more-horizontal",e.MoreVertical="more-vertical",e.NotificationCircle="notification-circle",e.Notification="notification",e.PasswordCheck="password-check",e.People="people",e.Pin="pin",e.ProgrammingArrows="programming-arrows",e.Custody="custody",e.Question="question",e.Received="received",e.Refresh="refresh",e.Save="save",e.ScanBarcode="scan-barcode",e.ScanFocus="scan-focus",e.Scan="scan",e.Scroll="scroll",e.Search="search",e.SecurityCard="security-card",e.SecurityCross="security-cross",e.SecurityKey="security-key",e.SecuritySearch="security-search",e.SecuritySlash="security-slash",e.SecurityTick="security-tick",e.SecurityTime="security-time",e.SecurityUser="security-user",e.Security="security",e.Send1="send-1",e.Send2="send-2",e.Setting="setting",e.Slash="slash",e.SnapsMobile="snaps-mobile",e.SnapsPlus="snaps-plus",e.Snaps="snaps",e.Speedometer="speedometer",e.Star="star",e.Stake="stake",e.Student="student",e.SwapHorizontal="swap-horizontal",e.SwapVertical="swap-vertical",e.Tag="tag",e.Tilde="tilde",e.Timer="timer",e.Trash="trash",e.TrendDown="trend-down",e.TrendUp="trend-up",e.UserCircleAdd="user-circle-add",e.UserCircleLink="user-circle-link",e.UserCircleRemove="user-circle-remove",e.UserCircle="user-circle",e.User="user",e.WalletCard="wallet-card",e.WalletMoney="wallet-money",e.Wallet="wallet",e.Warning="warning",e.Twitter="twitter",e.QrCode="qr-code",e.UserCheck="user-check",e.Unpin="unpin",e.Ban="ban",e.Bold="bold",e.CircleX="circle-x",e.Download="download",e.FileIcon="file",e.Flask="flask",e.Plug="plug",e.Share="share",e.Square="square",e.Tint="tint",e.Upload="upload",e.Usb="usb",e.Wifi="wifi",e.PlusMinus="plus-minus"}(Uu||(Uu={}));const zu=Iu("Icon");var Fu;!function(e){e.ShowAdvanced="confirmation-show-advanced",e.Cancel="confirmation-cancel",e.Confirm="confirmation-confirm"}(Fu||(Fu={}));const Du=Iu("Section"),$u=Iu("Text"),qu=Iu("Link"),Wu=Iu("Address");function Gu(e,t){return`${e}:${t}`}function Vu(e,t,n){const{cluster:r}=Ta[e];return $a({baseUrl:"https://explorer.solana.com",path:`/${t}/${n}`,queryParams:r?{cluster:r}:void 0})}const Ku=({programId:e,data:t,scope:n,locale:r})=>{const o=Mu(r);return hu(Du,{alignment:"start",children:[pu($u,{color:"alternative",fontWeight:"bold",children:o("confirmation.advanced.unknownInstruction")}),hu(Bu,{alignment:"space-between",direction:"horizontal",children:[pu($u,{color:"alternative",alignment:"start",children:o("confirmation.advanced.programId")}),pu(qu,{href:Vu(n,"address",e),children:pu(Wu,{avatar:!1,address:Gu(n,e),truncate:!0})})]}),hu(Bu,{alignment:"space-between",direction:"horizontal",children:[pu($u,{color:"alternative",children:o("confirmation.advanced.data")}),pu($u,{children:yu(t)})]})]})},Hu=({instructions:e,showInstructions:t,locale:n,scope:r})=>{const o=Mu(n),i=t?"hide":"show",a=t?"arrow-up":"arrow-down";return hu(Bu,{alignment:"start",children:[hu(ju,{name:Fu.ShowAdvanced,children:[o(`confirmation.advanced.${i}`),pu(zu,{name:a,color:"primary"})]}),t&&pu(Bu,{children:e.map((e=>pu(Ku,{locale:n,scope:r,...e})))})]})},Ju=Iu("Image"),Zu=1e-6,Yu=3,Qu="0",Xu=new Vr(Zu).decimalPlaces();function el(e,t){try{const n=new Vr(e);if(n.isNaN())return Qu;if(n.isZero())return Qu;if(n.abs().lt(Zu))return`<${function(e,t){const n=new Vr(t),r=n.decimalPlaces(),o=n.toFixed(r??0),[i,a]=o.split("."),s=new Intl.NumberFormat(e).format(i);return a?`${s}.${a}`:s}(t,Zu)}`;if(n.abs().lt(1))return new Intl.NumberFormat(t,{maximumSignificantDigits:Yu}).format(Number(n.toFixed(Xu??0)));const r=n.abs().integerValue().toString().length,o=Math.max(0,Yu-r+1);return new Intl.NumberFormat(t,{maximumFractionDigits:o}).format(n.toFixed(o))}catch(e){return console.error(e),Qu}}function tl(e,t,n){return new Vr(e).toNumber().toLocaleString(n,{style:"currency",currency:t,maximumFractionDigits:2,minimumFractionDigits:2})}const nl=({asset:e,preferences:t})=>{const n=e.type;return hu(Bu,{direction:"vertical",crossAlignment:"end",children:[hu(Bu,{direction:"horizontal",alignment:"center",children:[hu($u,{color:"in"===n?"success":"error",children:["in"===n?"+":"-",el(e.value??0,t.locale)]}),e.imageSvg?pu(Bu,{alignment:"center",center:!0,children:pu(Ju,{borderRadius:"full",src:e.imageSvg})}):null,pu($u,{children:e.symbol??""})]}),e.price?pu($u,{color:"muted",children:tl(e.price.toString(),t.currency,t.locale)}):null]})},rl=Iu("Tooltip"),ol=({preferences:e})=>{const t=Mu(e.locale);return hu(Bu,{direction:"horizontal",center:!0,children:[pu($u,{fontWeight:"medium",children:t("confirmation.estimatedChanges")}),pu(rl,{content:t("confirmation.estimatedChanges.tooltip"),children:pu(zu,{name:"info"})})]})},il=Iu("Skeleton"),al=({preferences:e})=>{const t=Mu(e.locale);return hu(Du,{direction:"vertical",children:[pu(ol,{preferences:e}),hu(Bu,{alignment:"space-between",direction:"horizontal",children:[pu($u,{fontWeight:"medium",color:"alternative",children:t("confirmation.estimatedChanges.send")}),pu(Bu,{children:hu(Bu,{direction:"vertical",crossAlignment:"end",children:[pu(il,{width:100,height:20}),pu(il,{width:40,height:20})]})})]}),hu(Bu,{alignment:"space-between",direction:"horizontal",children:[pu($u,{fontWeight:"medium",color:"alternative",children:t("confirmation.estimatedChanges.receive")}),pu(Bu,{children:hu(Bu,{direction:"vertical",crossAlignment:"end",children:[pu(il,{width:100,height:20}),pu(il,{width:40,height:20})]})})]})]})},sl=({changes:e,preferences:t,scanFetchStatus:n,scanStatus:r})=>{var o,i,a,s,c,u;const l=Mu(t.locale),d="fetched"===n,f="error"===n;if("fetching"===n)return pu(al,{preferences:t});if(f||d&&"ERROR"===r)return hu(Du,{direction:"vertical",children:[pu(ol,{preferences:t}),pu($u,{color:"alternative",children:l("confirmation.estimatedChanges.notAvailable")})]});const p=(null===(o=e)||void 0===o?void 0:o.assets.filter((e=>"out"===e.type)))??[],h=(null===(i=e)||void 0===i?void 0:i.assets.filter((e=>"in"===e.type)))??[],g=p.length>0||h.length>0;return hu(Du,d&&!g?{direction:"vertical",children:[pu(ol,{preferences:t}),pu($u,{color:"alternative",children:l("confirmation.estimatedChanges.noChanges")})]}:{children:[pu(ol,{preferences:t}),(null===(a=p)||void 0===a?void 0:a.length)>0?hu(Bu,{alignment:"space-between",direction:"horizontal",children:[pu($u,{fontWeight:"medium",color:"alternative",children:l("confirmation.estimatedChanges.send")}),pu(Bu,{children:pu(Bu,{children:null===(s=p)||void 0===s?void 0:s.map((e=>pu(nl,{asset:e,preferences:t})))})})]}):null,pu(Bu,{children:null}),(null===(c=h)||void 0===c?void 0:c.length)>0?hu(Bu,{alignment:"space-between",direction:"horizontal",children:[pu($u,{fontWeight:"medium",color:"alternative",children:l("confirmation.estimatedChanges.receive")}),pu(Bu,{children:pu(Bu,{children:null===(u=h)||void 0===u?void 0:u.map((e=>pu(nl,{asset:e,preferences:t})))})})]}):null]})},cl=Iu("Banner"),ul={Malicious:"danger",Warning:"warning"},ll=({preferences:e,validation:t,error:n,scanFetchStatus:r})=>{var o,i;const a=Mu(e.locale);if("error"===r)return pu(cl,{title:a("confirmation.simulationErrorTitle"),severity:"warning",children:pu($u,{children:a("confirmation.simulationErrorSubtitle",{reason:"Unknown"})})});if(!n&&!t)return pu(Bu,{children:null});if(null===(o=n)||void 0===o?void 0:o.code)return pu(cl,{title:a("confirmation.simulationErrorTitle"),severity:"warning",children:pu($u,{children:a("confirmation.simulationErrorSubtitle",{reason:n.code})})});if(!t)return pu(Bu,{children:null});const s=ul[null===(i=t)||void 0===i?void 0:i.type];return s?hu(cl,{title:a("confirmation.validationErrorTitle"),severity:s,children:[pu($u,{children:a("confirmation.validationErrorSubtitle")}),pu($u,{size:"sm",children:pu(qu,{href:"https://support.metamask.io/configure/wallet/how-to-turn-on-security-alerts/",children:a("confirmation.validationErrorLearnMore")})}),hu($u,{size:"sm",children:[pu(zu,{color:"primary",name:"security-tick"})," ",a("confirmation.validationErrorSecurityAdviced")," ",pu(qu,{href:"https://www.blockaid.io",children:"Blockaid"})]})]}):pu(Bu,{children:null})};function dl(e,t,n){return`${el(e,n)} ${t}`}function fl(e,t){return new Vr(e).multipliedBy(t).toString()}const pl=({accountAddress:e,scope:t,feeInSol:n,nativePrice:r,fetchingPricesStatus:o,preferences:i,networkImage:a})=>{const{currency:s,locale:c}=i,u=Mu(c),l="fetching"===o,d=n&&r&&!("error"===o)?tl(fl(n,r),s,c):"";return hu(Du,{children:[hu(Bu,{alignment:"space-between",direction:"horizontal",children:[pu($u,{fontWeight:"medium",color:"alternative",children:u("confirmation.account")}),pu(Wu,{address:Gu(t,e),truncate:!0,displayName:!0,avatar:!0})]}),pu(Bu,{children:null}),hu(Bu,{alignment:"space-between",direction:"horizontal",children:[pu($u,{fontWeight:"medium",color:"alternative",children:u("confirmation.network")}),hu(Bu,{direction:"horizontal",alignment:"center",children:[pu(Bu,{alignment:"center",center:!0,children:pu(Ju,{borderRadius:"medium",src:a??""})}),pu($u,{children:Ta[t].name})]})]}),pu(Bu,{children:null}),hu(Bu,{alignment:"space-between",direction:"horizontal",children:[pu($u,{fontWeight:"medium",color:"alternative",children:u("confirmation.fee")}),n?hu(Bu,{direction:"horizontal",alignment:"center",children:[l?pu(il,{}):pu($u,{color:"muted",children:d}),pu($u,{children:dl(n,Ta[t].nativeToken.symbol,c)})]}):pu(rl,{content:u("confirmation.feeError"),children:pu(zu,{name:"warning"})})]})]})},hl=({context:e})=>{var t,n,r,o,i,a;const s=Mu(e.preferences.locale),c=e.feeEstimatedInSol,{nativeToken:u}=Ta[e.scope],l=(null===(t=e.tokenPrices[u.caip19Id])||void 0===t?void 0:t.price)??null,d="fetching"===e.scanFetchStatus;return hu(Ou,{children:[hu(Bu,{children:[pu(ll,{scanFetchStatus:e.scanFetchStatus,validation:(null===(n=e.scan)||void 0===n?void 0:n.validation)??null,error:(null===(r=e.scan)||void 0===r?void 0:r.error)??null,preferences:e.preferences}),hu(Bu,{alignment:"center",center:!0,children:[pu(Bu,{children:null}),pu(Cu,{size:"lg",children:s("confirmation.title")}),pu(Bu,{children:null})]}),pu(sl,{scanStatus:(null===(o=e.scan)||void 0===o?void 0:o.status)??null,scanFetchStatus:e.scanFetchStatus,changes:(null===(i=e.scan)||void 0===i?void 0:i.estimatedChanges)??null,preferences:e.preferences}),pu(pl,{accountAddress:(null===(a=e.account)||void 0===a?void 0:a.address)??null,scope:e.scope,feeInSol:c,nativePrice:l,fetchingPricesStatus:e.tokenPricesFetchStatus,preferences:e.preferences,networkImage:e.networkImage}),pu(Hu,{instructions:e.advanced.instructions,showInstructions:e.advanced.shown,locale:e.preferences.locale,scope:e.scope})]}),hu(Ru,{children:[pu(ju,{name:Fu.Cancel,children:s("confirmation.cancelButton")}),pu(ju,{name:Fu.Confirm,disabled:d,children:s("confirmation.confirmButton")})]})]})},gl={[gt.SendAndConfirmTransaction]:hl,[gt.SignAndSendTransaction]:hl,[gt.SignTransaction]:hl,[gt.SignMessage]:hl,[gt.SignIn]:hl},ml=({context:e})=>pu(gl[e.method],{context:e}),yl={method:gt.SignAndSendTransaction,scope:ba.Mainnet,networkImage:\'<svg width="16" height="16" xmlns="http://www.w3.org/2000/svg"><image width="16" height="16" href="data:image/png;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAUFBQUFBQUGBgUICAcICAsKCQkKCxEMDQwNDBEaEBMQEBMQGhcbFhUWGxcpIBwcICkvJyUnLzkzMzlHREddXX0BBQUFBQUFBQYGBQgIBwgICwoJCQoLEQwNDA0MERoQExAQExAaFxsWFRYbFykgHBwgKS8nJScvOTMzOUdER11dff/CABEIAPoA+gMBIgACEQEDEQH/xAA1AAEAAwEBAQEBAAAAAAAAAAAAAQIHBggEBQMBAQADAQEBAQAAAAAAAAAAAAACAwQBBQYH/9oADAMBAAIQAxAAAADxkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACx204cU3mdnnYLG+IQwNvsxhgLfrRh5/egLRh59egkYefXoRCPn6mv5BH2ajuwAAAACZdFZz6/SvzfofWfLWtS2jw7WpNGO01mjJaas+P+k0tRjtNbUY38Leccnq/DxFq5f2ao7cAAAAB+36W8/9p7+DZZxp6nl7LOM3qzbLOMqs2zzjF6suyzjNqqNlnGrU5NkY7zlHP75Wjzv0mg5pAAAAAAs6jqdsMuajacMsam5HLGqORytqkxjlTVbc5lLVpjDKGsfhQlwdb1p3QAAAAAADofSXk7q/cp9MT8n0/cebe1Jpx2tS2fJNqTRkvNLUY7TWaMdqXZ8vnHPvZHmrw/u+JTGL6EAAAAABMDuvQvkLQfo6PQU55P0WLRJztTl0Sc7U5tFnOppzaOzmacujTnSrLo3x8NNFOM8zsuM+H99Aq2AAAAAATMfpWPznbNXOJdqjHi47Wec4l2jnOLdo5zi57JFxrsp5HjadRy9d0CMgAAAAJPqm+j0X8fW/oV82rPvUWRNGObUmjHe1LUZLIUY7TDPk/opk2CP5uPy+U+1qKrwAAAAPo3zPdc+23fu2/BfYXdA/AmjL+/bn1GToZ55Tl6KedmjJ0c87anL0LnuZyUTgH9fm+Q9+Bk0AAAAAAWVdWVFlRZUWVFpo4uoLxV0HAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH//EAEEQAAECAwQHBAgDBgcBAAAAAAECBAADBgURF1UQMUFRkpPSEiFSohYgIjBAYaPiBzLBEyRUYnCRFBVDRYGhstH/2gAIAQEAAT8A/qXdF0XRd8ou9a4R3aOz8AO+KUo95Uc1SyoyGcs+3OIvvPhQDrMYUWPmbzhRGFFj5m74URhRY2Zu+FEYT2NmbvhRGE1jZm84URhNY2ZvOFEYTWNmjzhRGEti5o84URhLYuaPP7IjCWxc0ecKIwksXM3nCiMJLFzN5wojCSxczd/2RGEliZm8/siKt/DthYNkTLRbWlNUqWtIKJwA7Xa8JHwFK0w6qN6EJvQ1lkGfO2AeEb1HZDRq2YNpLVrJTLkyk9lCAO4D9TtJ2nQIv0C/QDAOgGL9Lp22Yt5rl1NTLky03rWrUB+p+W2KyqubUr72SpDOSSJEonzKHiPv6dsB7UT1LduLkJuM2afyy0bzvO4RZdmtbIZSGTRHZlS069qlbVK3k6AYGkQDA0DQDonTpTaVMnTpqUSkJKlrUbkhI1kmK3rJdQuRIaKUiz5BPYB7jMV41CD3++sWx3ltv5LNqm9au9Sj+VCRrUo7hFg2IzsBhLZthftmzCO+Yvao7vkNA0AxfA0A6RAMCCpKUqJUAALySbgBFeVsLXUuzbPWQxQr25m2coH/AMiFa/f0rVK6ZmO1hkiemehIIKuwoFBvFyrjGLByIc89MYsnIxz/ALIxZORjn/ZGLJyMc89MYspyP6/2xi0nIvr/AGxi2nI/r/bGLYyL6/2xi5LyM8/7Yxbl5Gef9sYuSsjPPHTGLkrI1c8dMYuSMjXzh0xi63yRfOHTFR/iO9tpktk1bBpJWLpp7fbWtPh1CCTBJPwN3udfqk6vgKcph7Ui3KW02VKEhIK1zL9atQFwJjCu1szZ+fpjCy18zZ+fpjCu1syZefpjCu1syZefpjCq18yZ+fpjCq18yZ+fpjCm18zZ+fpjCi1s0Z+fpjCe1szZ+fpjCe1s0Z+fpjCa180Z+fpjCa1szZ+fpjCa1szZefpjCW1s0Zefpi36Etan2gdrVKcSAblqlX+wTvBAMKB7ou9/T9vPKffJctriki6bLP5Vo3H9DFl2m1tdlIetV9qXMGralW1KtxGgGAYvgQDoBi+L9A0TZUtxKmSp0tK5cwFK0K7wUnWCIrWjlU+4DltethOPsE95lK8CjB+ApipnVPPAtN62yyBPk7FDeNyhsMNHbZ+2kum04TJMxPaSobR+hG0bIEXwDpB0AwIHqO2rZ+2nNXMlM2TMR2VoVqI/Q7jsisKWn049ISVTGc4kyJvy1lCvmII9+DdFH1VNsB0JThalMJyh+1RrKD40jeIkzpLiVLnSZqZkqYkKQtJvSUnUQdAOi+BF+gHQNA0WjZzO1Wc5m8lCZKmC4jaDsUk7FDYYqWnHtOv1t56SqUq8yJwHctH/ANG2B78G4xR1ZKsLttXiVzGSzeAk3mUraUg6wdojEum9zzkp64xMprc85KeuMTKa8Lzkp64xMprwvOSnrjE2mvC85KeuMTaa8LzlJ64xNprwveSnrjE6mvC95KeuMT6Z3POSnrjE+mdzzlJ6oxOpnc85Q6oxPpjc85SeqMT6YOx5yU9cYn0xue8lPXFY1tYFuWKtk1kT1zzNQpCpqAkIuPeoHtHX8APWv9S+L4vGjVo/4+Bs6zHtquA3ZN1TphBNydgG0k9wEYfVR/Ao5qIw9qj+BRzURh/VWXDmojD6qsuHNRGH1VZcOaiMPqqy4c1EYf1Xlf1ZfVGH9WZX9VHVGH1WZX9WX1Rh9VeWfVl9UYf1blJ5qOqMP6tyo81HVGH1W5T9VHVGH1XZSeajqi0qSt+yGxdPrPXLkhQSV9pKgCd/ZJ+As6z3dpu5LVrKMybMNwA/7JOwDaYpun29PMBIRcufMuLib41bh/KNnq3iL4ECO6Bd6m0d0fiBWMp6ldj2esKkBX7xOGpage5Cd6RtPvhDRrPeOJTeRKVMnTFBKEDWSYpSmJNPNSVkLezUj9rM2Aa+wn5DadI9QQDovgQNAivK2S2TPsezZl80jsOZwP5AdaE/PeYJJ99KlrmrQhAJWSAABeSdwikaTRYklLp0Ap/MRcdolJOwfPeY1QDov0iBoBi+AdNb1l/k6FWcwX+/LR7ax/oAjZ/OYUpSiSSSSbyT3kn39BubFZv5860ZqJc5KB/h1zPyJO0/JW6PSanh/vTXjj0mp7OmvHAqens6a8celFO501449Kacztrxx6U05nbXjj0ppzPGnHHpTTeeNOOPSqnM8accelVN54044FVU3njTjj0rprPWnHAqums8accelVNZ4044qav7PYNDLsp0hy7mC4LR3oljxE7VbhE+dNcTVzpswrmLUVKUokqJOsknWfgAbovMXnfF/wAzHai+L4vMdo747R3x2jvgKO+O18zHa+cXnfBJ/rX/AP/EADQRAAEDAQUFBAkFAAAAAAAAAAIAAQQDBRIUU5IREzBCVBUjMkMGICExM0RQUqIQImFyof/aAAgBAgEBPwD6pTpnVK6A3iT2fJ+z/U8GQ3InhyG5FhqzcqehUbkW7qfYnE25eBTA6piADeIlCgNFD2/ELxIhRCiFEKIUQqq93gWXXs+NT3lQu+/qitWC/m/i6e04b+annxcxFOi5iKZGfmRSo78yORS2ftJETk+1+BRgTK4bylQMhT2XO6U12ZOb5c12dMyDTwJWQawUnKNYORlIo9YG2vS4NkWoUM92fwS/H+UziY3hRCiFEKIUQog2+9S4z0ivD4eDY9rYd9xXLu+UvtRWlA6oEVowepBFPhZ4IpsPPBFMiZ4IpUbNBHXjG2x6oKsICbsBXh4AAVQhAAvES7Om9Kel1gJnSnpdYGY3y56Vg5TeQelYSVkHpWGkZJ6Vh6+UaISF9hD64iREIj73Vh2Jg6bSKw98X4ohRCiFEKIUQqVWCPTvEq1YqxuRev6Nw4Aji5MgN5yARN7EU6D1YamRTYXVBqZFMh9QGpkUqJ1AamRSonUBqZFJi54amVaXGpgRb0FKlHKqXn8PLwNqvOrzra6vP+u36t//xAA2EQABBAEBAwkECwEAAAAAAAACAAEDBAWiEjFDBhETFDAyQkRSICFBkhYjM1BTVGBhcrHB0f/aAAgBAwEBPwD70llCGMpJC2RT5jHtxtLp85jm42l0/KDFtvsaXT8pMS3mdLp+U+HbzOl0/KvCN5vS6+l+Cbfb0uqOQq5KBp6x7Ufd7rt/ftkTA3O+5ZC0dk9lvsxRgjBGCMEYI41hMBLl7PpgDvn/AIq1aGpBHBCGzGDcw+3binmbZDuosbYfwo8VbfhosNdfhamR4PIPwtTIsBkX4GpkfJzKPug1MoOSuSmmAZI+jDxntMqVOvQrhBCGyI6v3fsHkAX95J7ELeNPbr/GVddqNxl1+m3HBPk6Db7QJ8tjvjaBRZOhNIMYWgci7GWPbZHGjBGCMFJGjBOxCTEKwmYG4HQTF9cOrsZYtv3sjryP4UdSV+EjpWH4SPH2X3QGjxlx+AaPE338qaHFZSIwOOuYkKoS2ZawPZi6OT4/97F3ZOYN4l0sbeNl08P4oJ7EDcUF1mv+YD5l1uq3mA+ZkMkcjc4GxD2DROze9GCMFICMEYIwVelJbl2B3KtWjqxDFHub260cXNtmYI3i9aNg9aMWRx86OE/Qjry+hdSnM+ZgVatHWjYQb+X6F//Z" /></svg>\',account:null,transaction:"",scan:null,scanFetchStatus:"fetching",feeEstimatedInSol:"0",tokenPrices:{},tokenPricesFetchStatus:"fetching",preferences:{locale:"en",currency:"usd"},advanced:{shown:!1,instructions:[]}};async function vl(e){var t;const n={...yl,...e},r=Eu().then((e=>{n.preferences=e})).catch((()=>{n.preferences=yl.preferences})),o=Np.base64DecodeTransaction(n.transaction,n.scope).then((e=>{n.advanced.instructions=function(e){const t=[];return e.forEach((e=>{var n;t.push({programId:e.programAddress,data:au.encode((null===(n=e)||void 0===n?void 0:n.data)??new Uint8Array)})})),t}(e.instructions)})).catch((e=>{console.error(e),n.advanced.instructions=[]}));await Promise.all([r,o]);const i=await Au(pu(ml,{context:n}),n),a=xu(i),s={...n},c=await Np.base64EncodeTransactionMessageFromBase64EncodedTransaction(n.transaction),u=[Ta[n.scope].nativeToken.caip19Id],l=Vp.getMultipleTokenPrices(u,n.preferences.currency).then((e=>{s.tokenPrices=e,s.tokenPricesFetchStatus="fetched"})).catch((()=>{s.tokenPricesFetchStatus="error"})),d=Np.getFeeForMessageInLamports(c,s.scope).then((e=>{s.feeEstimatedInSol=e?gu(e).toString():null})).catch((()=>{s.feeEstimatedInSol=null}));await Promise.all([l,d]),await bu(i,pu(ml,{context:s}),s);const f={...s},p=Wp.scanTransaction({method:f.method,accountAddress:(null===(t=f.account)||void 0===t?void 0:t.address)??"",transaction:f.transaction,scope:f.scope}).then((async e=>{f.scanFetchStatus="fetched",f.scan=e})).catch((()=>{f.scan=null,f.scanFetchStatus="error"}));return await Promise.all([p]),await bu(i,pu(ml,{context:f}),f),await Rp.update((e=>{var t;return{...e,mapInterfaceNameToId:{...(null===(t=e)||void 0===t?void 0:t.mapInterfaceNameToId)??{},[wu]:i}}})),a}const wl=E(Object.values(ba)),Al=N(),bl=N(),Sl=P({address:N()}),xl=E(["ed25519"]),El=P({domain:R(N()),address:R(N()),statement:R(N()),uri:R(N()),version:R(N()),chainId:R(N()),nonce:R(N()),issuedAt:R(N()),expirationTime:R(N()),notBefore:R(N()),requestId:R(N()),resources:R(b(N()))}),kl=P({account:Sl,message:bl}),Tl=E(["processed","confirmed","finalized"]),Il=P({commitment:R(Tl)}),Ol=P({account:Sl,transaction:Al,scope:wl,options:R(Il)}),Bl=P({...Il.schema,commitment:R(Tl),skipPreflight:R(x()),maxRetries:R(B())}),Cl=P({...Ol.schema,scope:wl,options:R(Bl)}),Rl=C({method:E([gt.SignAndSendTransaction]),params:Cl}),jl=C({method:E([gt.SignIn]),params:El}),Nl=C({method:E([gt.SignMessage]),params:kl}),Pl=C({method:E([gt.SignTransaction]),params:Ol}),_l=C({signature:Al}),Ll=C({signedTransaction:Al}),Ml=C({signature:bl,signedMessage:bl,signatureType:xl}),Ul=C({account:Sl,...Ml.schema}),zl=_([Rl,jl,Nl,Pl]);function Fl(e,t){return n=e,Boolean("string"==typeof n?.prototype?.constructor?.name)?new e({message:t}):e({message:t});var n}class Dl extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}const $l=Z(N(),/^(?:0x)?[0-9a-f]+$/iu);Z(N(),/^0x[0-9a-f]+$/iu),Z(N(),/^0x[0-9a-f]{40}$/u),Z(N(),/^0x[0-9a-fA-F]{40}$/u);function ql(e){!function(e,t="Assertion failed.",n=Dl){if(!e){if(t instanceof Error)throw t;throw Fl(n,t)}}(function(e){return v(e,$l)}(e),"Value must be a hexadecimal string.")}function Wl(e){return e.startsWith("0x")||e.startsWith("0X")?e.substring(2):e}n(1048).hp;const Gl=48,Vl=58,Kl=87;!function(){const e=[]}();function Hl(e){if("0x"===e?.toLowerCase?.())return new Uint8Array;ql(e);const t=Wl(e).toLowerCase(),n=t.length%2==0?t:`0${t}`,r=new Uint8Array(n.length/2);for(let e=0;e<r.length;e++){const t=n.charCodeAt(2*e),o=n.charCodeAt(2*e+1),i=t-(t<Vl?Gl:Kl),a=o-(o<Vl?Gl:Kl);r[e]=16*i+a}return r}const Jl=["m","44\'","501\'"];async function Zl(e){nu.log({index:e},"Generating solana wallet");const t=[`${e}\'`,"0\'"];try{const e=await async function(e,t){return await snap.request({method:"snap_getBip32Entropy",params:{path:e,curve:t}})}([...Jl,...t],"ed25519");if(!e.privateKey||!e.publicKey)throw new Error("Unable to derive private key");return{privateKeyBytes:Hl(e.privateKey),publicKeyBytes:Hl(e.publicKey)}}catch(e){throw nu.error({error:e},"Error deriving keypair"),new Error(e)}}var Yl;!function(e){e.StartSendTransactionFlow="startSendTransactionFlow",e.GetFeeForTransaction="getFeeForTransaction"}(Yl||(Yl={}));const Ql=K(b(Ca),N(),(e=>e.split(","))),Xl=K(b(N()),N(),(e=>e.split(","))),ed=C({ENVIRONMENT:E(["local","test","production"]),RPC_URL_MAINNET_LIST:Ql,RPC_URL_DEVNET_LIST:Ql,RPC_URL_TESTNET_LIST:Ql,RPC_URL_LOCALNET_LIST:Xl,PRICE_API_BASE_URL:Ca,TOKEN_API_BASE_URL:Ca,STATIC_API_BASE_URL:Ca,SECURITY_ALERTS_API_BASE_URL:Ca,LOCAL_API_BASE_URL:N()});class td{#e;constructor(){const e=this.#t();this.#e=this.#n(e)}#t(){return y({ENVIRONMENT:"production",RPC_URL_MAINNET_LIST:"https://solana-mainnet.infura.io/v3/5b98a22672004ef1bf40a80123c5c48d",RPC_URL_DEVNET_LIST:"https://solana-devnet.infura.io/v3/5b98a22672004ef1bf40a80123c5c48d",RPC_URL_TESTNET_LIST:"https://api.testnet.solana.com",RPC_URL_LOCALNET_LIST:"http://localhost:8899",PRICE_API_BASE_URL:"https://price.api.cx.metamask.io",TOKEN_API_BASE_URL:"https://tokens.api.cx.metamask.io",STATIC_API_BASE_URL:"https://static.cx.metamask.io",SECURITY_ALERTS_API_BASE_URL:"https://security-alerts.api.cx.metamask.io",LOCAL_API_BASE_URL:"http://localhost:8899"},ed)}#n(e){return{environment:e.ENVIRONMENT,networks:[{...Ta[ba.Mainnet],rpcUrls:e.RPC_URL_MAINNET_LIST},{...Ta[ba.Devnet],rpcUrls:e.RPC_URL_DEVNET_LIST},{...Ta[ba.Testnet],rpcUrls:e.RPC_URL_TESTNET_LIST},{...Ta[ba.Localnet],rpcUrls:e.RPC_URL_LOCALNET_LIST}],activeNetworks:"test"===e.ENVIRONMENT?[ba.Localnet]:[ba.Mainnet,ba.Devnet],priceApi:{baseUrl:"test"===e.ENVIRONMENT?e.LOCAL_API_BASE_URL:e.PRICE_API_BASE_URL,chunkSize:50},tokenApi:{baseUrl:"test"===e.ENVIRONMENT?e.LOCAL_API_BASE_URL:e.TOKEN_API_BASE_URL,chunkSize:50},staticApi:{baseUrl:e.STATIC_API_BASE_URL},transactions:{storageLimit:20},securityAlertsApi:{baseUrl:"test"===e.ENVIRONMENT?e.LOCAL_API_BASE_URL:e.SECURITY_ALERTS_API_BASE_URL}}}get(){return this.#e}getNetworkBy(e,t){const n=this.get().networks.find((n=>n[e]===t));if(!n)throw new Error(`Network ${e} not found`);return n}}const nd=(new td).get(),rd=["local","test"].includes(nd.environment),od=rd?["http://localhost:3000"]:["https://portfolio.metamask.io"],id=rd?new Set([bt.ListAccounts,bt.GetAccount,bt.CreateAccount,bt.FilterAccountChains,bt.DeleteAccount,bt.GetAccountBalances,bt.SubmitRequest,bt.ListAccountTransactions,bt.ListAccountAssets,Yl.StartSendTransactionFlow,Yl.GetFeeForTransaction]):new Set([]),ad=new Set([bt.ListAccounts,bt.GetAccount,bt.CreateAccount,bt.DeleteAccount,bt.GetAccountBalances,bt.SubmitRequest,bt.ListAccountTransactions,bt.ListAccountAssets,bt.ResolveAccountAddress,Yl.StartSendTransactionFlow,Yl.GetFeeForTransaction]),sd=new Map([]);for(const e of od)sd.set(e,id);sd.set("metamask",ad);const cd=(e,t)=>{var n;if(!e)throw new Er("Origin not found");if(!(null===(n=sd.get(e))||void 0===n?void 0:n.has(t)))throw new Er("Permission denied")};function ud(e,t){try{m(e,t)}catch(e){throw new pr(e.message)}}function ld(e,t){try{m(e,t)}catch(e){throw new ur("Invalid Response")}}const dd=C({id:Ia,scope:za,account:Ia,request:zl});function fd(e,t){return`${e}/token:${t}`}const pd=P({context:P({slot:S()}),value:S()}),hd=P({amount:N(),decimals:B()}),gd=P({mint:N(),owner:N(),isNative:x(),tokenAmount:hd}),md=P({parsed:P({info:gd})}),yd=P({account:P({data:md})}),vd=P({context:P({slot:S()}),value:b(yd)});function wd(e,t){var n;return null===(n=e.find((e=>e.address===t)))||void 0===n?void 0:n.id}function Ad(e){return JSON.parse(function(e){const t=[];let n=!1;for(let r=0;r<e.length;r++){let o=!1;if("\\\\"===e[r]&&(t.push(e[r++]),o=!o),\'"\'!==e[r]){if(!n){const n=bd(e,r);if(n?.length){r+=n.length-1,n.match(/\\.|[eE]-/)?t.push(n):t.push(Sd(n));continue}}t.push(e[r])}else t.push(e[r]),o||(n=!n)}return t.join("")}(e),((e,t)=>function(e){return!!e&&"object"==typeof e&&"$n"in e&&"string"==typeof e.$n}(t)?function({$n:e}){if(e.match(/[eE]/)){const[t,n]=e.split(/[eE]/);return BigInt(t)*BigInt(10)**BigInt(n)}return BigInt(e)}(t):t))}function bd(e,t){if(!e[t]?.match(/[-\\d]/))return null;const n=e.slice(t).match(/^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/);return n?n[0]:null}function Sd(e){return`{"$n":"${e}"}`}var xd=0n;function Ed(){const e=xd;return xd++,e.toString()}function kd(e){return function(e){return new Proxy(e.api,{defineProperty:()=>!1,deleteProperty:()=>!1,get:(t,n,r)=>function(...o){const i=n.toString(),a=Reflect.get(t,i,r);if(!a)throw new pi(si,{method:i,params:o});const s=a(...o);return function({transport:e},t){return{send:async n=>await t.execute({signal:n?.abortSignal,transport:e})}}(e,s)}})}(e)}function Td(e){return new Proxy({},{defineProperty:()=>!1,deleteProperty:()=>!1,get(...t){const[n,r]=t,o=r.toString();return function(...t){const n=Object.freeze({methodName:o,params:t}),r=e?.requestTransformer?e?.requestTransformer(n):n;return Object.freeze({execute:async({signal:t,transport:n})=>{const o=function(e){return{id:Ed(),jsonrpc:"2.0",method:e.methodName,params:e.params}}(r),i=await n({payload:o,signal:t});return e?.responseTransformer?e.responseTransformer(i,r):i}})}}})}function Id(e){return null!=e&&"object"==typeof e&&!Array.isArray(e)&&("jsonrpc"in e&&"2.0"===e.jsonrpc&&"method"in e&&"string"==typeof e.method&&"params"in e)}var Od={};function Bd(e){return function t(n,r){if(Array.isArray(n))return n.map(((e,n)=>{const o={...r,keyPath:[...r.keyPath,n]};return t(e,o)}));if("object"==typeof n&&null!==n){const e={};for(const o in n){if(!Object.prototype.hasOwnProperty.call(n,o))continue;const i={...r,keyPath:[...r.keyPath,o]};e[o]=t(n[o],i)}return e}return e.reduce(((e,t)=>t(e,r)),n)}}function Cd(e,t){return n=>{const r=Bd(e);return Object.freeze({...n,params:r(n.params,t)})}}function Rd(e){return"bigint"==typeof e?Number(e):e}function jd({commitmentPropertyName:e,params:t,optionsObjectPositionInParams:n,overrideCommitment:r}){const o=t[n];if(void 0===o||o&&"object"==typeof o&&!Array.isArray(o))if(o&&e in o){if(!o[e]||"finalized"===o[e]){const r=[...t],{[e]:i,...a}=o;return Object.keys(a).length>0?r[n]=a:n===r.length-1?r.length--:r[n]=void 0,r}}else if("finalized"!==r){const i=[...t];return i[n]={...o,[e]:r},i}return t}function Nd(e){return(t,{keyPath:n})=>("bigint"==typeof t&&e&&(t>Number.MAX_SAFE_INTEGER||t<-Number.MAX_SAFE_INTEGER)&&e(n,t),t)}var Pd={accountNotifications:1,blockNotifications:1,getAccountInfo:1,getBalance:1,getBlock:1,getBlockHeight:0,getBlockProduction:0,getBlocks:2,getBlocksWithLimit:2,getEpochInfo:0,getFeeForMessage:1,getInflationGovernor:0,getInflationReward:1,getLargestAccounts:0,getLatestBlockhash:0,getLeaderSchedule:1,getMinimumBalanceForRentExemption:1,getMultipleAccounts:1,getProgramAccounts:1,getSignaturesForAddress:1,getSlot:0,getSlotLeader:0,getStakeMinimumDelegation:0,getSupply:0,getTokenAccountBalance:1,getTokenAccountsByDelegate:2,getTokenAccountsByOwner:2,getTokenLargestAccounts:1,getTokenSupply:1,getTransaction:1,getTransactionCount:0,getVoteAccounts:0,isBlockhashValid:1,logsNotifications:1,programNotifications:1,requestAirdrop:2,sendTransaction:1,signatureNotifications:1,simulateTransaction:1};function _d(e){const t=e?.onIntegerOverflow;return n=>{return Bs(n,t?(r=t,e=>Cd([Nd(((...t)=>r(e,...t)))],{keyPath:[]})(e)):e=>e,Cd([Rd],{keyPath:[]}),function({defaultCommitment:e,optionsObjectPositionByMethod:t}){return n=>{const{params:r,methodName:o}=n;if(!Array.isArray(r))return n;const i=t[o];return null==i?n:Object.freeze({methodName:o,params:jd({commitmentPropertyName:"sendTransaction"===o?"preflightCommitment":"commitment",optionsObjectPositionInParams:i,overrideCommitment:e,params:r})})}}({defaultCommitment:e?.defaultCommitment,optionsObjectPositionByMethod:Pd}));var r}}function Ld(e){return t=[Md(e)],n={keyPath:[]},e=>Bd(t)(e,n);var t,n}function Md(e){return function(t,{keyPath:n}){return"number"==typeof t&&Number.isInteger(t)||"bigint"==typeof t?function(e,t){return t.some((t=>{if(t.length!==e.length)return!1;for(let n=e.length-1;n>=0;n--){const r=e[n],o=t[n];if(o!==r&&(o!==Od||"number"!=typeof r))return!1}return!0}))}(n,e)?Number(t):BigInt(t):t}}function Ud(e){return(t,n)=>{const r=n.methodName,o=e?.allowedNumericKeyPaths&&r?e.allowedNumericKeyPaths[r]:void 0;return Bs(t,(e=>(e=>{const t=e;if("error"in t)throw Ai(t.error);return t})(e)),(e=>e.result),(e=>Ld(o??[])(e,n)))}}var zd,Fd=[["data","parsed","info","tokenAmount","decimals"],["data","parsed","info","tokenAmount","uiAmount"],["data","parsed","info","rentExemptReserve","decimals"],["data","parsed","info","rentExemptReserve","uiAmount"],["data","parsed","info","delegatedAmount","decimals"],["data","parsed","info","delegatedAmount","uiAmount"],["data","parsed","info","extensions",Od,"state","olderTransferFee","transferFeeBasisPoints"],["data","parsed","info","extensions",Od,"state","newerTransferFee","transferFeeBasisPoints"],["data","parsed","info","extensions",Od,"state","preUpdateAverageRate"],["data","parsed","info","extensions",Od,"state","currentRate"]],Dd=[...Fd,["data","parsed","info","lastExtendedSlotStartIndex"],["data","parsed","info","slashPenalty"],["data","parsed","info","warmupCooldownRate"],["data","parsed","info","decimals"],["data","parsed","info","numRequiredSigners"],["data","parsed","info","numValidSigners"],["data","parsed","info","stake","delegation","warmupCooldownRate"],["data","parsed","info","exemptionThreshold"],["data","parsed","info","burnPercent"],["data","parsed","info","commission"],["data","parsed","info","votes",Od,"confirmationCount"]],$d=[["index"],["instructions",Od,"accounts",Od],["instructions",Od,"programIdIndex"],["instructions",Od,"stackHeight"]],qd=[["addressTableLookups",Od,"writableIndexes",Od],["addressTableLookups",Od,"readonlyIndexes",Od],["header","numReadonlySignedAccounts"],["header","numReadonlyUnsignedAccounts"],["header","numRequiredSignatures"],["instructions",Od,"accounts",Od],["instructions",Od,"programIdIndex"],["instructions",Od,"stackHeight"]];function Wd(e){return Td({requestTransformer:_d(e),responseTransformer:Ud({allowedNumericKeyPaths:Gd()})})}function Gd(){return zd||(zd={getAccountInfo:Dd.map((e=>["value",...e])),getBlock:[["transactions",Od,"meta","preTokenBalances",Od,"accountIndex"],["transactions",Od,"meta","preTokenBalances",Od,"uiTokenAmount","decimals"],["transactions",Od,"meta","postTokenBalances",Od,"accountIndex"],["transactions",Od,"meta","postTokenBalances",Od,"uiTokenAmount","decimals"],["transactions",Od,"meta","rewards",Od,"commission"],...$d.map((e=>["transactions",Od,"meta","innerInstructions",Od,...e])),...qd.map((e=>["transactions",Od,"transaction","message",...e])),["rewards",Od,"commission"]],getClusterNodes:[[Od,"featureSet"],[Od,"shredVersion"]],getInflationGovernor:[["initial"],["foundation"],["foundationTerm"],["taper"],["terminal"]],getInflationRate:[["foundation"],["total"],["validator"]],getInflationReward:[[Od,"commission"]],getMultipleAccounts:Dd.map((e=>["value",Od,...e])),getProgramAccounts:Dd.flatMap((e=>[["value",Od,"account",...e],[Od,"account",...e]])),getRecentPerformanceSamples:[[Od,"samplePeriodSecs"]],getTokenAccountBalance:[["value","decimals"],["value","uiAmount"]],getTokenAccountsByDelegate:Fd.map((e=>["value",Od,"account",...e])),getTokenAccountsByOwner:Fd.map((e=>["value",Od,"account",...e])),getTokenLargestAccounts:[["value",Od,"decimals"],["value",Od,"uiAmount"]],getTokenSupply:[["value","decimals"],["value","uiAmount"]],getTransaction:[["meta","preTokenBalances",Od,"accountIndex"],["meta","preTokenBalances",Od,"uiTokenAmount","decimals"],["meta","postTokenBalances",Od,"accountIndex"],["meta","postTokenBalances",Od,"uiTokenAmount","decimals"],["meta","rewards",Od,"commission"],...$d.map((e=>["meta","innerInstructions",Od,...e])),...qd.map((e=>["transaction","message",...e]))],getVersion:[["feature-set"]],getVoteAccounts:[["current",Od,"commission"],["delinquent",Od,"commission"]],simulateTransaction:[...Dd.map((e=>["value","accounts",Od,...e])),...$d.map((e=>["value","innerInstructions",Od,...e]))]}),zd}Object.assign({"accept-charset":!0,"access-control-request-headers":!0,"access-control-request-method":!0,connection:!0,"content-length":!0,cookie:!0,date:!0,dnt:!0,expect:!0,host:!0,"keep-alive":!0,origin:!0,"permissions-policy":!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,via:!0},{"accept-encoding":!0});var Vd=["getAccountInfo","getBalance","getBlock","getBlockCommitment","getBlockHeight","getBlockProduction","getBlocks","getBlocksWithLimit","getBlockTime","getClusterNodes","getEpochInfo","getEpochSchedule","getFeeForMessage","getFirstAvailableBlock","getGenesisHash","getHealth","getHighestSnapshotSlot","getIdentity","getInflationGovernor","getInflationRate","getInflationReward","getLargestAccounts","getLatestBlockhash","getLeaderSchedule","getMaxRetransmitSlot","getMaxShredInsertSlot","getMinimumBalanceForRentExemption","getMultipleAccounts","getProgramAccounts","getRecentPerformanceSamples","getRecentPrioritizationFees","getSignaturesForAddress","getSignatureStatuses","getSlot","getSlotLeader","getSlotLeaders","getStakeMinimumDelegation","getSupply","getTokenAccountBalance","getTokenAccountsByDelegate","getTokenAccountsByOwner","getTokenLargestAccounts","getTokenSupply","getTransaction","getTransactionCount","getVersion","getVoteAccounts","index","isBlockhashValid","minimumLedgerSlot","requestAirdrop","sendTransaction","simulateTransaction"];function Kd(e){return Id(e)&&Vd.includes(e.method)}function Hd(e){return function(e){const{fromJson:t,headers:n,toJson:r,url:o}=e,i=n&&function(e){const t={};for(const n in e)t[n.toLowerCase()]=e[n];return t}(n);return async function({payload:e,signal:n}){const a=r?r(e):JSON.stringify(e),s={body:a,headers:{...i,accept:"application/json","content-length":a.length.toString(),"content-type":"application/json; charset=utf-8"},method:"POST",signal:n},c=await fetch(o,s);if(!c.ok)throw new pi(ai,{message:c.statusText,statusCode:c.status});return t?t(await c.text(),e):await c.json()}}({...e,fromJson:(e,t)=>Kd(t)?Ad(e):JSON.parse(e),toJson:e=>{return Kd(e)?(t=e,function(e){return e.replace(/\\{\\s*"\\$n"\\s*:\\s*"(-?\\d+)"\\s*\\}/g,"$1")}(JSON.stringify(t,((e,t)=>"bigint"==typeof t?function(e){return{$n:`${e}`}}(t):t),n))):JSON.stringify(e);var t,n}})}var Jd=Object.prototype.toString,Zd=Object.keys||function(e){const t=[];for(const n in e)t.push(n);return t};function Yd(e,t){let n,r,o,i,a,s,c;if(!0===e)return"true";if(!1===e)return"false";switch(typeof e){case"object":if(null===e)return null;if("toJSON"in e&&"function"==typeof e.toJSON)return Yd(e.toJSON(),t);if(c=Jd.call(e),"[object Array]"===c){for(o="[",r=e.length-1,n=0;n<r;n++)o+=Yd(e[n],!0)+",";return r>-1&&(o+=Yd(e[n],!0)),o+"]"}if("[object Object]"===c){for(i=Zd(e).sort(),r=i.length,o="",n=0;n<r;)a=i[n],s=Yd(e[a],!1),void 0!==s&&(o&&(o+=","),o+=JSON.stringify(a)+":"+s),n++;return"{"+o+"}"}return JSON.stringify(e);case"function":case"undefined":return t?null:void 0;case"bigint":return`${e.toString()}n`;case"string":return JSON.stringify(e);default:return isFinite(e)?e:null}}function Qd(e){const t=Yd(e,!1);if(void 0!==t)return""+t}function Xd(e,t,n){let r="";if("number"==typeof t[0]){const e=t[0]+1,n=e%10,o=e%100;r=1==n&&11!=o?e+"st":2==n&&12!=o?e+"nd":3==n&&13!=o?e+"rd":e+"th"}else r=`\\`${t[0].toString()}\\``;const o=t.length>1?t.slice(1).map((e=>"number"==typeof e?`[${e}]`:e)).join("."):void 0,i=new pi(ii,{argumentLabel:r,keyPath:t,methodName:e,optionalPathLabel:o?` at path \\`${o}\\``:"",value:n,...void 0!==o?{path:o}:void 0});return hi(i,Xd),i}var ef,tf={defaultCommitment:"confirmed",onIntegerOverflow(e,t,n){throw Xd(e.methodName,t,n)}};function nf(e){return Id(e)?Qd([e.method,e.params]):void 0}function rf(e){const t={};for(const n in e)t[n.toLowerCase()]=e[n];return t}function of(e){return Bs(Hd({...e,headers:{...!1,...e.headers?rf(e.headers):void 0,"solana-client":"js/2.0.0"}}),(e=>function(e,t){let n;return async function(r){const{payload:o,signal:i}=r,a=t(o);if(void 0===a)return await e(r);if(n||(queueMicrotask((()=>{n=void 0})),n={}),null==n[a]){const t=new AbortController,o=(async()=>{try{return await e({...r,signal:t.signal})}catch(e){if(e===(ef||={}))return;throw e}})();n[a]={abortController:t,numConsumers:0,responsePromise:o}}const s=n[a];if(s.numConsumers++,i){const e=s.responsePromise;return await new Promise(((t,n)=>{const r=e=>{i.removeEventListener("abort",r),s.numConsumers-=1,queueMicrotask((()=>{0===s.numConsumers&&s.abortController.abort(ef||={})})),n(e.target.reason)};i.addEventListener("abort",r),e.then(t).catch(n).finally((()=>{i.removeEventListener("abort",r)}))}))}return await s.responsePromise}}(e,nf)))}function af(e){return kd({api:Wd(tf),transport:e})}async function sf(e){return new Promise((t=>setTimeout(t,e)))}const cf=e=>{const t=(e=>async(...t)=>{let n;const r=e.length;for(const[o,i]of e.entries())try{return nu.info(`[🚌 FailoverTransport] Attempting to use transport ${o+1} of ${r}`),await i(...t)}catch(e){n=e;const t=o===r-1;nu.error(`[🚌 FailoverTransport] Transport failed: ${e}. ${t?"No more transports to try.":"Trying next transport..."}`)}throw n})(e.map((e=>of({url:e}))));return n=t,async(...e)=>{const{payload:t}=e[0],{method:r}=t;let o;for(let t=0;t<4;t++)try{return nu.info(`[🚌 RetryingTransport] Attempt "${r}" ${t+1} of 4`),await n(...e)}catch(e){if(nu.error(`[🚌 RetryingTransport] Error during attempt "${r}" ${t+1} of 4: ${e}`),o=e,t<3){const e=(i=t,Math.min(400*Math.pow(2,i),1500));nu.info(`[🚌 RetryingTransport] Sleeping for ${e}ms`),await sf(e)}}var i;throw o};var n};const uf={keyringAccounts:{},mapInterfaceNameToId:{},isFetchingTransactions:!1,transactions:{},isFetchingAssets:!1,assets:{},metadata:{},tokenPrices:{}};var lf,df="ComputeBudget111111111111111111111111111111",ff=((lf=ff||{})[lf.RequestUnits=0]="RequestUnits",lf[lf.RequestHeapFrame=1]="RequestHeapFrame",lf[lf.SetComputeUnitLimit=2]="SetComputeUnitLimit",lf[lf.SetComputeUnitPrice=3]="SetComputeUnitPrice",lf[lf.SetLoadedAccountsDataSizeLimit=4]="SetLoadedAccountsDataSizeLimit",lf);var pf=2;function hf(){return Ui(Es([["discriminator",ds()],["units",cs()]]),(e=>({...e,discriminator:pf})))}function gf(e,t){const n={...e};return{programAddress:t?.programAddress??df,data:hf().encode(n)}}var mf,yf=((mf=yf||{})[mf.Uninitialized=0]="Uninitialized",mf[mf.Initialized=1]="Initialized",mf[mf.Frozen=2]="Frozen",mf);var vf,wf=((vf=wf||{})[vf.MintTokens=0]="MintTokens",vf[vf.FreezeAccount=1]="FreezeAccount",vf[vf.AccountOwner=2]="AccountOwner",vf[vf.CloseAccount=3]="CloseAccount",vf);var Af,bf="ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL",Sf=((Af=Sf||{})[Af.CreateAssociatedToken=0]="CreateAssociatedToken",Af[Af.CreateAssociatedTokenIdempotent=1]="CreateAssociatedTokenIdempotent",Af[Af.RecoverNestedAssociatedToken=2]="RecoverNestedAssociatedToken",Af);var xf,Ef="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",kf=((xf=kf||{})[xf.Mint=0]="Mint",xf[xf.Token=1]="Token",xf[xf.Multisig=2]="Multisig",xf);var Tf,If=((Tf=If||{})[Tf.InitializeMint=0]="InitializeMint",Tf[Tf.InitializeAccount=1]="InitializeAccount",Tf[Tf.InitializeMultisig=2]="InitializeMultisig",Tf[Tf.Transfer=3]="Transfer",Tf[Tf.Approve=4]="Approve",Tf[Tf.Revoke=5]="Revoke",Tf[Tf.SetAuthority=6]="SetAuthority",Tf[Tf.MintTo=7]="MintTo",Tf[Tf.Burn=8]="Burn",Tf[Tf.CloseAccount=9]="CloseAccount",Tf[Tf.FreezeAccount=10]="FreezeAccount",Tf[Tf.ThawAccount=11]="ThawAccount",Tf[Tf.TransferChecked=12]="TransferChecked",Tf[Tf.ApproveChecked=13]="ApproveChecked",Tf[Tf.MintToChecked=14]="MintToChecked",Tf[Tf.BurnChecked=15]="BurnChecked",Tf[Tf.InitializeAccount2=16]="InitializeAccount2",Tf[Tf.SyncNative=17]="SyncNative",Tf[Tf.InitializeAccount3=18]="InitializeAccount3",Tf[Tf.InitializeMultisig2=19]="InitializeMultisig2",Tf[Tf.InitializeMint2=20]="InitializeMint2",Tf[Tf.GetAccountDataSize=21]="GetAccountDataSize",Tf[Tf.InitializeImmutableOwner=22]="InitializeImmutableOwner",Tf[Tf.AmountToUiAmount=23]="AmountToUiAmount",Tf[Tf.UiAmountToAmount=24]="UiAmountToAmount",Tf);function Of(e){if(!e)throw new Error("Expected a Address.");return"object"==typeof e&&"address"in e?e.address:Array.isArray(e)?e[0]:e}function Bf(e,t){return t=>{if(!t.value)return Object.freeze({address:e,role:Wa.READONLY});const n=t.isWritable?Wa.WRITABLE:Wa.READONLY;return Object.freeze({address:Of(t.value),role:Cf(t.value)?Za(n):n,...Cf(t.value)?{signer:t.value}:{}})}}function Cf(e){return!!e&&"object"==typeof e&&"address"in e&&jc(e)}async function Rf(e,t={}){const{programAddress:n="ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"}=t;return await async function({programAddress:e,seeds:t}){let n=255;for(;n>0;)try{return[await va({programAddress:e,seeds:[...t,new Uint8Array([n])]}),n]}catch(e){if(!fi(e,mo))throw e;n--}throw new pi(yo)}({programAddress:n,seeds:[oa().encode(e.owner),oa().encode(e.tokenProgram),oa().encode(e.mint)]})}var jf=0;function Nf(){return Ui(Es([["discriminator",ds()]]),(e=>({...e,discriminator:jf})))}function Pf(e,t){const n=t?.programAddress??bf,r={payer:{value:e.payer??null,isWritable:!0},ata:{value:e.ata??null,isWritable:!0},owner:{value:e.owner??null,isWritable:!1},mint:{value:e.mint??null,isWritable:!1},systemProgram:{value:e.systemProgram??null,isWritable:!1},tokenProgram:{value:e.tokenProgram??null,isWritable:!1}};r.tokenProgram.value||(r.tokenProgram.value="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.systemProgram.value||(r.systemProgram.value="11111111111111111111111111111111");const o=Bf(n);return{accounts:[o(r.payer),o(r.ata),o(r.owner),o(r.mint),o(r.systemProgram),o(r.tokenProgram)],programAddress:n,data:Nf().encode({})}}var _f=3;function Lf(){return Ui(Es([["discriminator",ds()],["amount",ls()]]),(e=>({...e,discriminator:_f})))}function Mf(e){return!("exists"in e)||"exists"in e&&e.exists}function Uf(e,t){if(!t)return Object.freeze({address:e,exists:!1});const n=Yi().encode(t.data[0]);return Object.freeze({...Ff(t),address:e,data:n,exists:!0})}function zf(e,t){if(!t)return Object.freeze({address:e,exists:!1});const n=t.data.parsed.info;return Object.freeze({...Ff(t),address:e,data:n,exists:!0})}function Ff(e){return Object.freeze({executable:e.executable,lamports:e.lamports,programAddress:e.owner})}async function Df(e,t){var n,r;const o=(null===(n=t)||void 0===n?void 0:n.maxAttempts)??10,i=(null===(r=t)||void 0===r?void 0:r.delayMs)??1e3;let a=0;for(;a<o;)try{return await e()}catch(e){if(a+=1,a===o)throw e;await new Promise((e=>setTimeout(e,i)))}throw new Error("Unreachable")}class $f{#r;#o;#i;constructor(e,t,n){this.#r=e,this.#o=t,this.#i=n}async buildTransactionMessage(e,t,n,r,o){this.#i.log("Build transfer SPL token transaction message");const{privateKeyBytes:i}=await Zl(e.index),a=await Mc(i),s=await this.getOrCreateAssociatedTokenAccount(n,a.address,o,a),c=await this.getOrCreateAssociatedTokenAccount(n,t,o,a),u=await this.getTokenAccount(n,o),l=function(e,t){const n=new Vr(e.toString());if(n.isNegative())throw new Error("Token amount cannot be negative");const r=n.times(10**t).integerValue(Vr.ROUND_DOWN);return BigInt(r.toString())}(r,this.getDecimals(u)),d=await this.#o.getLatestBlockhash(o),f=Bs(cc({version:0}),(e=>gc(a.address,e)),(e=>Rs(d,e)),(e=>mc(function(e,t){const n=t?.programAddress??Ef,r={source:{value:e.source??null,isWritable:!0},destination:{value:e.destination??null,isWritable:!0},authority:{value:e.authority??null,isWritable:!1}},o={...e},i=(o.multiSigners??[]).map((e=>({address:e.address,role:Wa.READONLY_SIGNER,signer:e}))),a=Bf(n);return{accounts:[a(r.source),a(r.destination),a(r.authority),...i],programAddress:n,data:Lf().encode(o)}}({source:s.address,destination:c.address,authority:a,amount:l}),e)));return vc([gf({units:await this.#o.getComputeUnitEstimate(f,o)})],f)}async getOrCreateAssociatedTokenAccount(e,t,n,r){const o=await this.getAssociatedTokenAccount(e,t,n);try{return $f.assertAccountExists(o),o}catch(o){if(this.#i.log("Associated token account does not exist. Create it..."),!r)throw new Error("Payer is required to create associated token account");return await this.createAssociatedTokenAccount(e,t,n,r)}}static async deriveAssociatedTokenAccountAddress(e,t){return(await Rf({mint:e,owner:t,tokenProgram:Ef}))[0]}async getAssociatedTokenAccount(e,t,n){const r=await $f.deriveAssociatedTokenAccountAddress(e,t);return await this.getTokenAccount(r,n)}async createAssociatedTokenAccount(e,t,n,r){const o=await $f.deriveAssociatedTokenAccountAddress(e,t),i=await this.getAssociatedTokenAccount(e,t,n);$f.assertAccountNotExists(i);const a=await this.#o.getLatestBlockhash(n),s=Bs(cc({version:0}),(e=>gc(r.address,e)),(e=>Rs(a,e)),(n=>yc([Pf({payer:r,ata:o,owner:t,mint:e})],n)));return await this.#o.sendTransaction(s,[r],n),await Df((async()=>{const e=await this.getTokenAccount(o,n);return $f.assertAccountExists(e),e}))}async getTokenAccount(e,t){const n=this.#r.getRpc(t),r=await async function(e,t,n={}){const{abortSignal:r,...o}=n,{value:i}=await e.getAccountInfo(t,{...o,encoding:"jsonParsed"}).send({abortSignal:r});return i&&"object"==typeof i&&"parsed"in i.data?zf(t,i):Uf(t,i)}(n,e);return r}getDecimals(e){$f.assertAccountExists(e),$f.assertAccountDecoded(e);const{decimals:t}=e.data;if(!t)throw new Error(`Decimals not found for ${e}`);return t}static isAccountExists(e){return e.exists}static assertAccountExists(e){if(!$f.isAccountExists(e))throw new Error("Token account does not exist")}static assertAccountNotExists(e){if($f.isAccountExists(e))throw new Error("Token account exists")}static isAccountDecoded(e){return $f.assertAccountExists(e),!(e.data instanceof Uint8Array)}static assertAccountDecoded(e){if($f.assertAccountExists(e),!$f.isAccountDecoded(e))throw new Error("Token account is encoded. Implement a decoder.")}}var qf="ComputeBudget111111111111111111111111111111",Wf={blockhash:"11111111111111111111111111111111",lastValidBlockHeight:0n},Gf=2;function Vf(e){return function(e,t){return e.programAddress===t}(e,qf)&&function(e){return void 0!==e.data}(e)&&e.data[0]===Gf}async function Kf({abortSignal:e,rpc:t,transactionMessage:n,...r}){const o=hc(n);let i;i=o||Cs(n)?n:Rs(Wf,n);const a=n.instructions.findIndex(Vf),s=function(e){const t=new Uint8Array(5);return t[0]=Gf,cs().write(e,t,1),Object.freeze({data:t,programAddress:qf})}(14e5);if(-1===a)i=mc(s,i);else{const e=[...i.instructions];e.splice(a,1,s),i=Object.freeze({...i,instructions:e})}const c=Ic(Ec(i));try{const{value:{err:n,unitsConsumed:i}}=await t.simulateTransaction(c,{...r,encoding:"base64",replaceRecentBlockhash:!o,sigVerify:!1}).send({abortSignal:e});if(null==i)throw new pi(qo);const a=i>4294967295n?4294967295:Number(i);if(n)throw new pi(Wo,{cause:n,unitsConsumed:a});return a}catch(e){if(fi(e,Wo))throw e;throw new pi(qo,{cause:e})}}async function Hf(e,t,n){const r=await async function(e,t,n={}){const{abortSignal:r,...o}=n;return(await e.getMultipleAccounts(t,{...o,encoding:"jsonParsed"}).send({abortSignal:r})).value.map(((e,n)=>e&&"object"==typeof e&&"parsed"in e.data?zf(t[n],e):Uf(t[n],e)))}(t,e,n);return function(e){const t=e.filter((e=>Mf(e)&&e.data instanceof Uint8Array));if(t.length>0){const e=t.map((e=>e.address));throw new pi(wo,{addresses:e})}}(r),function(e){const t=e.filter((e=>!e.exists));if(t.length>0){const e=t.map((e=>e.address));throw new pi(vo,{addresses:e})}}(r),r.reduce(((e,t)=>({...e,[t.address]:t.data.addresses})),{})}function Jf(e,t){return!t?.preflightCommitment&&function(e,t){return e===t?0:Os(e)<Os(t)?-1:1}(e,"finalized")<0?{...t,preflightCommitment:e}:t}async function Zf({abortSignal:e,commitment:t,rpc:n,transaction:r,...o}){const i=Ic(r);return await n.sendTransaction(i,{...Jf(t,o),encoding:"base64"}).send({abortSignal:e})}Error;function Yf(e){return function(e){return function(e){return"object"==typeof e&&null!==e&&"message"in e}(e)&&"string"==typeof e.message?e.message:null==e?"":String(e)}(e).replace(/\\.$/u,"")}function Qf(e,t){return n=e,Boolean("string"==typeof n?.prototype?.constructor?.name)?new e({message:t}):e({message:t});var n}class Xf extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}function ep(e,t="Assertion failed.",n=Xf){if(!e){if(t instanceof Error)throw t;throw Qf(n,t)}}function tp(e,t,n="Assertion failed",r=Xf){try{m(e,t)}catch(e){throw Qf(r,`${n}: ${Yf(e)}.`)}}function np(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function rp(...e){const t=(e,t)=>n=>e(t(n)),n=Array.from(e).reverse().reduce(((e,n)=>e?t(e,n.encode):n.encode),void 0),r=e.reduce(((e,n)=>e?t(e,n.decode):n.decode),void 0);return{encode:n,decode:r}}function op(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("alphabet.encode input should be an array of numbers");return t.map((t=>{if(np(t),t<0||t>=e.length)throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]}))},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("alphabet.decode input should be array of strings");return t.map((t=>{if("string"!=typeof t)throw new Error(`alphabet.decode: not string element=${t}`);const n=e.indexOf(t);if(-1===n)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return n}))}}}function ip(e=""){if("string"!=typeof e)throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("join.encode input should be array of strings");for(let e of t)if("string"!=typeof e)throw new Error(`join.encode: non-string input=${e}`);return t.join(e)},decode:t=>{if("string"!=typeof t)throw new Error("join.decode input should be string");return t.split(e)}}}function ap(e,t="="){if(np(e),"string"!=typeof t)throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!=typeof e)throw new Error(`padding.encode: non-string input=${e}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!=typeof e)throw new Error(`padding.decode: non-string input=${e}`);let r=n.length;if(r*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function sp(e){if("function"!=typeof e)throw new Error("normalize fn should be function");return{encode:e=>e,decode:t=>e(t)}}function cp(e,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let r=0;const o=[],i=Array.from(e);for(i.forEach((e=>{if(np(e),e<0||e>=t)throw new Error(`Wrong integer: ${e}`)}));;){let e=0,a=!0;for(let o=r;o<i.length;o++){const s=i[o],c=t*e+s;if(!Number.isSafeInteger(c)||t*e/t!==e||c-s!=t*e)throw new Error("convertRadix: carry overflow");e=c%n;const u=Math.floor(c/n);if(i[o]=u,!Number.isSafeInteger(u)||u*n+e!==c)throw new Error("convertRadix: carry overflow");a&&(u?a=!1:r=o)}if(o.push(e),a)break}for(let t=0;t<e.length-1&&0===e[t];t++)o.push(0);return o.reverse()}const up=(e,t)=>t?up(t,e%t):e,lp=(e,t)=>e+(t-up(e,t));function dp(e,t,n,r){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(lp(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${lp(t,n)}`);let o=0,i=0;const a=2**n-1,s=[];for(const r of e){if(np(r),r>=2**t)throw new Error(`convertRadix2: invalid data word=${r} from=${t}`);if(o=o<<t|r,i+t>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${t}`);for(i+=t;i>=n;i-=n)s.push((o>>i-n&a)>>>0);o&=2**i-1}if(o=o<<n-i&a,!r&&i>=t)throw new Error("Excess padding");if(!r&&o)throw new Error(`Non-zero padding: ${o}`);return r&&i>0&&s.push(o>>>0),s}function fp(e){return np(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return cp(Array.from(t),256,e)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("radix.decode input should be array of strings");return Uint8Array.from(cp(t,e,256))}}}function pp(e,t=!1){if(np(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(lp(8,e)>32||lp(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return dp(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&"number"!=typeof n[0])throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(dp(n,e,8,t))}}}rp(pp(4),op("0123456789ABCDEF"),ip("")),rp(pp(5),op("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),ap(5),ip("")),rp(pp(5),op("0123456789ABCDEFGHIJKLMNOPQRSTUV"),ap(5),ip("")),rp(pp(5),op("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),ip(""),sp((e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))));const hp=rp(pp(6),op("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),ap(6),ip("")),gp=(rp(pp(6),op("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),ap(6),ip("")),rp(pp(6),op("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),ip("")),e=>rp(fp(58),op(e),ip("")));gp("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),rp(op("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),ip(""));rp(pp(4),op("0123456789abcdef"),ip(""),sp((e=>{if("string"!=typeof e||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})));n(1048).hp;!function(){const e=[]}();function mp(e){return e instanceof Uint8Array}function yp(e){ep(mp(e),"Value must be a Uint8Array.")}var vp;!function(e){e.Copyable="copyable",e.Divider="divider",e.Heading="heading",e.Panel="panel",e.Spinner="spinner",e.Text="text",e.Image="image",e.Row="row",e.Address="address",e.Button="button",e.Input="input",e.Form="form"}(vp||(vp={}));const wp=C({type:N()}),Ap=(M(wp,C({value:L()})),M(wp,C({type:T(vp.Image),value:Y(N(),"SVG",(e=>!!e.includes("<svg")||"Value is not a valid SVG."))}))),bp=function(e,t,n=[]){return(...r)=>{if(1===r.length&&function(e){if("object"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}}(r[0])){const n={...r[0],type:e};return tp(n,t,`Invalid ${e} component`),n}const o=n.reduce(((e,t,n)=>void 0!==r[n]?{...e,[t]:r[n]}:e),{type:e});return tp(o,t,`Invalid ${e} component`),o}}(vp.Image,Ap,["value"]);async function Sp(e,t){const n=await async function(e,t){if("function"!=typeof fetch)throw new Error(`Failed to fetch image data from "${e}": Using this function requires the "endowment:network-access" permission.`);return fetch(e,t).then((async t=>{if(!t.ok)throw new Error(`Failed to fetch image data from "${e}": ${t.status} ${t.statusText}`);const n=await t.blob();return ep("image/jpeg"===n.type||"image/png"===n.type,"Expected image data to be a JPEG or PNG image."),n}))}(e,t),r=new Uint8Array(await n.arrayBuffer());return`data:${n.type};base64,${function(e){return yp(e),hp.encode(e)}(r)}`}const xp=\'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\\n  <path fill="#999999" d="m456 256c0 113-91 205-204 205-114 0-205-92-205-205 0-113 91-205 205-205 113 0 204 92 204 205z m-204-108c-33 0-63 24-63 58 0 9 8 17 17 17 9 0 17-8 17-17 0-12 11-24 29-24 17 0 28 12 28 24 0 6-4 11-14 17l0 0c-12 8-32 21-32 48l0 5c0 9 8 17 18 17 9 0 17-8 17-17l0-5c0-7 3-12 15-19 11-7 30-20 30-46 0-34-30-58-62-58z m-1 170c-9 0-17 7-17 17 0 9 8 17 17 17l1 0c9 0 17-8 17-17 0-10-8-17-17-17z"/>\\n</svg>\';function Ep(e){if(!e)return e;const t=e.split("/").pop();return t?t.includes("iso4217:")||t.includes("token:")?t.split(":").pop():t:e}function kp(e){return e.includes("swift:0/iso4217:")}function Tp({scope:e,transactionData:t}){var n;const r=function(e){var t,n;const r=new Vr((null===(n=e.meta)||void 0===n||null===(t=n.fee)||void 0===t?void 0:t.toString())??"0");return r.dividedBy(Aa)}(t),o=function(e){const t=e.transaction.message.accountKeys.findIndex((e=>"ComputeBudget111111111111111111111111111111"===e));if(!t)return null;let n=null,r=null,o=0;for(const i of e.transaction.message.instructions)if(i.programIdIndex===t){const e=au.decode(i.data),t=e[0];2===t&&(n=Op(e)),3===t&&(r=Ip(e))}else o+=1;if(!r)return null;n||(n=Vr(2e5).multipliedBy(o));const i=r.multipliedBy(n).dividedBy(Aa).decimalPlaces(9,Vr.ROUND_HALF_UP);return i}(t),i=r.minus(o??0),a=[{type:"base",asset:{fungible:!0,type:Ta[e].nativeToken.caip19Id,unit:Ta[e].nativeToken.symbol,amount:i.toString()}}];return(null===(n=o)||void 0===n?void 0:n.isGreaterThan(0))&&a.push({type:"priority",asset:{fungible:!0,type:Ta[e].nativeToken.caip19Id,unit:Ta[e].nativeToken.symbol,amount:o.toString()}}),a}function Ip(e){let t=BigInt(0);for(let n=0;n<8;n++)t|=BigInt(e[1+n]??0)<<BigInt(8*n);return Vr(t.toString()).dividedBy(1e6)}function Op(e){let t=BigInt(0);for(let n=0;n<4;n++)t|=BigInt(e[1+n]??0)<<BigInt(8*n);return Vr(t.toString())}function Bp({scope:e,address:t,transactionData:n}){var r,o;if(!n)return null;const i=n.transaction.signatures[0];if(!i)return null;const a=i,s=Number(n.blockTime),{fees:c,from:u,to:l}=function({scope:e,transactionData:t}){var n,r,o,i,a,s,c,u;const l=Tp({scope:e,transactionData:t}),d=[],f=[],p=new Map((null===(r=t.meta)||void 0===r||null===(n=r.preBalances)||void 0===n?void 0:n.map(((e,t)=>[t,new Vr(e.toString())])))??[]),h=new Map((null===(i=t.meta)||void 0===i||null===(o=i.postBalances)||void 0===o?void 0:o.map(((e,t)=>[t,new Vr(e.toString())])))??[]),g=[...t.transaction.message.accountKeys,...(null===(s=t.meta)||void 0===s||null===(a=s.loadedAddresses)||void 0===a?void 0:a.writable)??[],...(null===(u=t.meta)||void 0===u||null===(c=u.loadedAddresses)||void 0===c?void 0:c.readonly)??[]],m=new Set([...Array.from(p.keys()),...Array.from(h.keys())]);for(const t of m){var y;const n=null===(y=g[t])||void 0===y?void 0:y.toString();if(!n)continue;const r=p.get(t)??new Vr(0),o=h.get(t)??new Vr(0);let i=o.minus(r).absoluteValue().dividedBy(new Vr(Aa));if(0===t){const e=l.reduce(((e,t)=>t.asset.fungible?e.plus(t.asset.amount):e),new Vr(0)).decimalPlaces(8,Vr.ROUND_DOWN);i=i.minus(e)}if(i.isZero())continue;const a=i.toString();r.isGreaterThan(o)&&d.push({address:n,asset:{fungible:!0,type:Ta[e].nativeToken.caip19Id,unit:Ta[e].nativeToken.symbol,amount:a}}),r.isLessThan(o)&&f.push({address:n,asset:{fungible:!0,type:Ta[e].nativeToken.caip19Id,unit:Ta[e].nativeToken.symbol,amount:a}})}return{fees:l,from:d,to:f}}({scope:e,transactionData:n}),{from:d,to:f}=function({scope:e,transactionData:t}){var n,r,o,i,a,s,c,u;const l=[],d=[],f=new Map((null===(r=t.meta)||void 0===r||null===(n=r.preTokenBalances)||void 0===n?void 0:n.map((e=>[e.accountIndex,new Vr(e.uiTokenAmount.amount)])))??[]),p=new Map((null===(i=t.meta)||void 0===i||null===(o=i.postTokenBalances)||void 0===o?void 0:o.map((e=>[e.accountIndex,new Vr(e.uiTokenAmount.amount)])))??[]),h=new Set([...(null===(s=t.meta)||void 0===s||null===(a=s.preTokenBalances)||void 0===a?void 0:a.map((e=>e.accountIndex)))??[],...(null===(u=t.meta)||void 0===u||null===(c=u.postTokenBalances)||void 0===c?void 0:c.map((e=>e.accountIndex)))??[]]);for(const n of h){var g,m,y,v;const r=f.get(n)??new Vr(0),o=(p.get(n)??new Vr(0)).minus(r);if(o.isEqualTo(0))continue;const i=(null===(m=t.meta)||void 0===m||null===(g=m.preTokenBalances)||void 0===g?void 0:g.find((e=>e.accountIndex===n)))??(null===(v=t.meta)||void 0===v||null===(y=v.postTokenBalances)||void 0===y?void 0:y.find((e=>e.accountIndex===n)));if(!i)continue;const{mint:a,uiTokenAmount:{decimals:s},owner:c}=i,u=fd(e,a);if(!c)continue;const h=o.absoluteValue().dividedBy(new Vr(10).pow(s)).toString();o.isNegative()&&l.push({address:c,asset:{fungible:!0,type:u,unit:"",amount:h}}),o.isPositive()&&d.push({address:c,asset:{fungible:!0,type:u,unit:"",amount:h}})}return{from:l,to:d}}({scope:e,transactionData:n}),p=[...u,...d],h=[...l,...f],g=p.some((({address:e})=>e===t)),m=h.some((({address:e})=>e===t));let y;y=g&&m?"swap":g?"send":"receive";const v=(null===(r=n.meta)||void 0===r?void 0:r.err)||(null===(o=n.meta)||void 0===o?void 0:o.status)&&"Err"in n.meta.status?"failed":"confirmed";return{id:a,timestamp:s,chain:e,status:v,type:y,from:p,to:h,fees:c,events:[{status:v,timestamp:s}]}}const Cp=new td,Rp=new class{async get(){const e=await snap.request({method:"snap_manageState",params:{operation:"get",encrypted:!0}});return t=uf,n=e??{},{...t,...Object.fromEntries(Object.entries(n).filter((([e,t])=>null!=t&&(!t||"object"!=typeof t||Object.keys(t).length>0))))};var t,n}async set(e){await snap.request({method:"snap_manageState",params:{operation:"update",newState:e,encrypted:!0}})}async update(e){return this.get().then((async t=>{const n=e(t);return this.set(n)}))}},jp=new class{#a;#s=new Map;constructor(e){this.#a=e}#c(e){const t=this.#a.getNetworkBy("caip2Id",e),n=af(cf(t.rpcUrls));return this.#s.set(e,n),n}getRpc(e){return m(e,za),this.#s.get(e)??this.#c(e)}}(Cp),Np=new class{#r;#i;constructor(e,t){this.#r=e,this.#i=t}async getLatestBlockhash(e){try{return(await this.#r.getRpc(e).getLatestBlockhash().send()).value}catch(e){throw this.#i.error(e),e}}async getComputeUnitEstimate(e,t){const n=function({rpc:e}){return async function(t,n){return await Kf({...n,rpc:e,transactionMessage:t})}}({rpc:this.#r.getRpc(t)});return await n(e)}async getFeeFromTransactionInLamports(e,t){const n=await this.base64EncodeTransactionMessage(e);return await this.getFeeForMessageInLamports(n,t)}async getFeeForMessageInLamports(e,t){try{const n=this.#r.getRpc(t),r=await n.getFeeForMessage(e,{commitment:"confirmed"}).send();return this.#i.log(`Transaction is estimated to cost ${r.value} lamports`),r.value}catch(e){return this.#i.error(e),null}}async base64EncodeTransactionMessage(e){return Bs(e,sc,Xs().encode,Qi().decode)}async base64EncodeTransaction(e){return Bs(e,Ec,bc().encode,Qi().decode)}async base64DecodeTransaction(e,t){return Bs(e,Yi().encode,Sc().decode,(e=>ec().decode(e.messageBytes)),(async e=>async function(e,t,n){const r=("addressTableLookups"in e&&void 0!==e.addressTableLookups&&e.addressTableLookups.length>0?e.addressTableLookups:[]).map((e=>e.lookupTableAddress)),{lastValidBlockHeight:o,...i}=n??{};return wc(e,{addressesByLookupTableAddress:r.length>0?await Hf(r,t,i):{},lastValidBlockHeight:o})}(e,this.#r.getRpc(t))))}async base64EncodeTransactionMessageFromBase64EncodedTransaction(e){return Bs(e,Yi().encode,Sc().decode,(e=>e.messageBytes),Qi().decode)}async sendTransaction(e,t,n){try{!function(e){if(!Cs(e))throw new pi(jo)}(e);const r=function({rpc:e}){return async function(t,n){await Zf({...n,rpc:e,transaction:t})}}({rpc:this.#r.getRpc(n)}),o=_c(t,e),i=await zc(o),a=function(e){uc||(uc=Ki());const t=Object.values(e.signatures)[0];if(!t)throw new pi(zo);return uc.decode(t)}(i),s=Vu(n,"tx",a);return this.#i.info(`Sending transaction: ${s}`),await r(i,{commitment:"confirmed"}),a}catch(e){throw this.#i.error(e),e}}async waitForTransactionCommitment(e,t,n){const r=this.#r.getRpc(n);return Df((async()=>{this.#i.log(`🔎 Checking if transaction ${e} has reached commitment level ${t}`);const n=await r.getTransaction(e,{commitment:t,maxSupportedTransactionVersion:0}).send();if(n)return this.#i.log(`🎉 Transaction ${e} has reached commitment level ${t}`),n;const o=`⚠️ Transaction with signature ${e} not found or has not yet reached requested commitment level: ${t}`;throw this.#i.warn(o),new Error(o)}))}async getMinimumBalanceForRentExemption(e,t=BigInt(0),n){const r=this.#r.getRpc(e);return await r.getMinimumBalanceForRentExemption(t,n).send()}}(jp,nu),Pp=new class{#o;#i;constructor(e,t){this.#o=e,this.#i=t}async buildTransactionMessage(e,t,n,r){try{const o=BigInt(mu(n).toString()),i=await this.#o.getLatestBlockhash(r),a=Bs(cc({version:0}),(t=>gc(e,t)),(e=>Rs(i,e)),(n=>mc(function(e,t){const n=t?.programAddress??Hc,r={source:{value:e.source??null,isWritable:!0},destination:{value:e.destination??null,isWritable:!0}},o={...e},i=Qc(n);return{accounts:[i(r.source),i(r.destination)],programAddress:n,data:tu().encode(o)}}({amount:o,destination:t,source:Uc(e)}),n))),s=await this.#o.getComputeUnitEstimate(a,r);return vc([gf({units:s})],a)}catch(e){throw this.#i.error({error:e},"Error building transaction message"),e}}}(Np,nu),_p=new $f(jp,Np,nu),Lp=new class{#o;constructor(e){this.#o=e}async buildTransactionMessage(e,t){let n;try{n=await this.#o.base64DecodeTransaction(e,t)}catch(r){const o=await this.#o.base64EncodeTransactionMessageFromBase64EncodedTransaction(e);n=await this.#o.base64DecodeTransaction(o,t)}return Rs(await this.#o.getLatestBlockhash(t),n)}}(Np),Mp=new class{#u;#i;#l;#d;#f;constructor(e,t=globalThis.fetch,n=nu){this.#u=t,this.#i=n;const{tokenApi:r,staticApi:o}=e.get(),{baseUrl:i,chunkSize:a}=r;m(i,Ca),this.#l=i,this.#d=a,this.#f=o.baseUrl}async#p(e){m(e,b(Ra));const t=$a({baseUrl:this.#l,path:"/v3/assets",queryParams:{assetIds:e.join(",")}}),n=await this.#u(t);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const r=await n.json();return m(r,uu),r}async getTokenMetadataFromAddresses(e){try{m(e,b(Ra));const t=[];for(let n=0;n<e.length;n+=this.#d)t.push(e.slice(n,n+this.#d));const n=await Promise.all(t.map((async e=>this.#p(e)))),r=new Map;return n.flat().forEach((e=>{var t;r.set(e.assetId,{name:e.name,symbol:e.symbol,fungible:!0,iconUrl:(null===(t=e)||void 0===t?void 0:t.iconUrl)??$a({baseUrl:this.#f,path:"/api/v2/tokenIcons/assets/{assetId}.png",pathParams:{assetId:e.assetId.replace(/:/gu,"/")}}),units:[{name:e.name,symbol:e.symbol,decimals:e.decimals}]})})),Object.fromEntries(r)}catch(e){throw this.#i.error(e,"Error fetching token metadata"),e}}}(Cp),Up=new class{#u;#i;#l;#d;constructor(e,t=globalThis.fetch,n=nu){const{baseUrl:r,chunkSize:o}=e.get().priceApi;m(r,Ca),this.#u=t,this.#i=n,this.#l=r,this.#d=o}async getFiatExchangeRates(){try{const e=await this.#u(`${this.#l}/v1/exchange-rates/fiat`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()}catch(e){throw this.#i.error(e,"Error fetching fiat exchange rates"),e}}async getMultipleSpotPrices(e,t="usd"){try{if(m(e,b(Ra)),m(t,ou),0===e.length)return{};const n=[];for(let t=0;t<e.length;t+=this.#d)n.push(e.slice(t,t+this.#d));return(await Promise.all(n.map((async e=>{const n=$a({baseUrl:this.#l,path:"/v3/spot-prices",queryParams:{vsCurrency:t,assetIds:e.join(","),includeMarketData:"false"}}),r=await this.#u(n);if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const o=await r.json();m(o,ru);return Object.keys(o).reduce(((e,n)=>{var r,i;const a=null===(i=o)||void 0===i||null===(r=i[n])||void 0===r?void 0:r[t];return a?(e[n]={price:a},e):e}),{})})))).reduce(((e,t)=>({...e,...t})),{})}catch(e){throw this.#i.error(e,"Error fetching spot prices"),e}}}(Cp),zp=new class{#i;#r;constructor({connection:e,logger:t}){this.#i=t,this.#r=e}async discoverTokens(e,t){return await this.#h(e,t)}async getNativeAsset(e,t){const n=await this.#r.getRpc(t).getBalance(ra(e)).send();return m(n,pd),{scope:t,address:`${t}/${xa.SOL}`,balance:n.value.toString(),decimals:9,native:!0}}async#h(e,t){try{const n=await this.#r.getRpc(t).getTokenAccountsByOwner(ra(e),{programId:ka},{encoding:"jsonParsed"}).send();return m(n,vd),n.value.map((e=>this.#g(e.account.data.parsed.info,t)))}catch(e){throw this.#i.error(e,"Error fetching token accounts"),e}}#g(e,t){return{scope:t,address:fd(t,e.mint),balance:e.tokenAmount.amount,decimals:e.tokenAmount.decimals,native:e.isNative}}}({connection:jp,logger:nu}),Fp=new class{#m;#i;constructor({tokenMetadataClient:e,logger:t}){this.#m=e,this.#i=t}async getTokensMetadata(e){if(0===e.length)return{};const t=await this.#m.getTokenMetadataFromAddresses(e),n=Object.keys(t).map((async e=>{const n=e;try{var r;if(!(null===(r=t[n])||void 0===r?void 0:r.iconUrl))return void this.#i.warn(`No metadata for ${e}`);const o=await this.generateImageComponent(t[n].iconUrl);if(!o)return void this.#i.warn(`Unable to generate image for ${e}`);t[n]?t[n].imageSvg=o:this.#i.warn(`No metadata for ${e}`)}catch(e){this.#i.error(e)}}));return await Promise.all(n),t}async generateImageComponent(e,t=48,n=48){return e?async function(e,{width:t,height:n=t,request:r}){ep("number"==typeof t&&t>0,"Expected width to be a number greater than 0."),ep("number"==typeof n&&n>0,"Expected height to be a number greater than 0.");const o=await Sp(e,r),i=`width="${t}" height="${n}"`;return bp(`<svg ${i.trim()} xmlns="http://www.w3.org/2000/svg"><image ${i.trim()} href="${o}" /></svg>`)}(e,{width:t,height:n}).then((e=>e.value)).catch((()=>xp)):xp}}({tokenMetadataClient:Mp,logger:nu}),Dp=new class{#r;#i;#y;constructor({logger:e,connection:t,tokenMetadataService:n}){this.#r=t,this.#y=n,this.#i=e}async fetchLatestAddressTransactions(e,t){const n=[ba.Mainnet,ba.Devnet],r=(await Promise.all(n.map((async n=>this.fetchAddressTransactions(n,e,{limit:t}))))).flatMap((({data:e})=>e)).sort(((e,t)=>(t.timestamp??0)-(e.timestamp??0)));return r}async fetchAddressTransactions(e,t,n){const r=(await this.#r.getRpc(e).getSignaturesForAddress(t,n.next?{limit:n.limit,before:n.next}:{limit:n.limit}).send()).map((({signature:e})=>e)),o=(await this.getTransactionsDataFromSignatures({scope:e,signatures:r})).reduce(((n,r)=>{const o=Bp({scope:e,address:t,transactionData:r});return o&&n.push(o),n}),[]),i=[...new Set(o.flatMap((({from:e,to:t})=>[...e.filter((e=>{var t;return null===(t=e.asset)||void 0===t?void 0:t.fungible})).map((e=>e.asset.type)),...t.filter((e=>{var t;return null===(t=e.asset)||void 0===t?void 0:t.fungible})).map((e=>e.asset.type))])))],a=await this.#y.getTokensMetadata(i);o.forEach((e=>{e.from.forEach((e=>{var t,n;(null===(t=e.asset)||void 0===t?void 0:t.fungible)&&a[e.asset.type]&&(e.asset.unit=(null===(n=a[e.asset.type])||void 0===n?void 0:n.symbol)??"")})),e.to.forEach((e=>{var t,n;(null===(t=e.asset)||void 0===t?void 0:t.fungible)&&a[e.asset.type]&&(e.asset.unit=(null===(n=a[e.asset.type])||void 0===n?void 0:n.symbol)??"")}))}));return{data:o,next:r.length===n.limit?r[r.length-1]??null:null}}async fetchLatestSignatures(e,t,n){this.#i.log(`[TransactionsService.fetchAllSignatures] Fetching all signatures for ${t} on ${e}`);const r=(await this.#r.getRpc(e).getSignaturesForAddress(t,{limit:n}).send()).map((({signature:e})=>e));return r}async getTransactionsDataFromSignatures({scope:e,signatures:t}){const n=await Promise.all(t.map((async t=>this.#r.getRpc(e).getTransaction(t,{maxSupportedTransactionVersion:0}).send())));return n}}({logger:nu,connection:jp,tokenMetadataService:Fp}),$p=new class{#v;#y;#w;#A;constructor(e,t,n,r){this.#v=e,this.#y=t,this.#w=n,this.#A=r}async getAccountBalances(e,t){const n=new Map,r=new Map,o=t.reduce(((e,t)=>{const n=t.split("/")[0];return e[n]||(e[n]=[]),e[n].push(t),e}),{});for(const t of Object.keys(o)){const c=t,u=o[c],[l,d]=await Promise.all([this.#v.getNativeAsset(e.address,c),this.#v.discoverTokens(e.address,c)]),f=await this.#y.getTokensMetadata([l.address,...d.map((e=>e.address))]);for(const e of u)if(f[e]&&r.set(e,f[e]),e.endsWith(xa.SOL))n.set(e,{amount:gu(l.balance).toString(),unit:"SOL"});else{const t=d.find((t=>t.address===e));var i;if(t)n.set(e,{amount:(a=t.balance,s=t.decimals,new Vr(a.toString()).div(10**s).toFixed()),unit:(null===(i=f[t.address])||void 0===i?void 0:i.symbol)??"UNKNOWN"})}}var a,s;const c=Object.fromEntries(n.entries());return await this.#w.update((t=>{var n,o;return{...t,assets:{...(null===(n=t)||void 0===n?void 0:n.assets)??{},[e.id]:c},metadata:{...(null===(o=t)||void 0===o?void 0:o.metadata)??{},...Object.fromEntries(r.entries())}}})),c}#b(e,t,n,r){var o,i,a,s,c;if(!(null===(o=t)||void 0===o?void 0:o.meta))return r;const u=[...t.transaction.message.accountKeys,...(null===(a=t.meta)||void 0===a||null===(i=a.loadedAddresses)||void 0===i?void 0:i.writable)??[],...(null===(c=t.meta)||void 0===c||null===(s=c.loadedAddresses)||void 0===s?void 0:s.readonly)??[]],{postBalances:l,preBalances:d}=t.meta;for(let t=0;t<l.length;t++){const o=u[t],i=BigInt(d[t]??0),a=BigInt(l[t]??0);if(i===a)continue;const s=wd(n,o);if(!s)continue;const c=gu(Number(a)).toString();r[s]||(r[s]={}),r[s]={...r[s],[Ta[e].nativeToken.caip19Id]:{amount:c,unit:Ta[e].nativeToken.symbol}}}return r}async updateBalancesPostTransaction(e){const t=await this.#w.get(),n=Object.values(t.keyringAccounts),r=[...e.from.map((e=>e.address)),...e.to.map((e=>e.address))],o=n.filter((e=>r.includes(e.address)));for(const e of o)await this.#A({request:{params:{accountId:e.id},id:"1",method:"cronjob",jsonrpc:"2.0"}})}}(zp,Fp,Rp,(async e=>{await fu(e)})),qp=new class{#S;#o;#x;#i;constructor(e,t,n,r=nu){this.#S=e,this.#o=t,this.#x=n,this.#i=r}async resolveAccountAddress(e,t,n){const{method:r,params:o}=n,i=e.filter((e=>e.scopes.includes(t)));if(0===i.length)throw new Error("No accounts with this scope");switch(r){case gt.SignIn:{const{address:e}=o;if(!e)throw new Error("No address");return Gu(t,e)}case gt.SignAndSendTransaction:case gt.SignMessage:case gt.SignTransaction:{var a;const{account:e}=o,n=null===(a=i.find((t=>t.address===e.address)))||void 0===a?void 0:a.address;if(!n)throw new Error("Account not found");return Gu(t,n)}default:throw this.#i.warn({method:r},"Unsupported method"),new Error("Unsupported method")}}async signTransaction(e,t){m(t.request,Pl);const{transaction:n}=t.request.params,r={signedTransaction:n};return m(r,Ll),r}async signAndSendTransaction(e,t){m(t.request,Rl),m(t.scope,za);const{request:{params:n},scope:r}=t,o=n.transaction??"";try{const t=await this.#S.buildTransactionMessage(o,r),{privateKeyBytes:n}=await Zl(e.index),i=await Mc(n),a=await this.#o.sendTransaction(t,[i],r),s={signature:a};m(s,_l);const c=await this.#o.waitForTransactionCommitment(a,"confirmed",r),u={...Bp({scope:r,address:ra(e.address),transactionData:c}),account:e.id};return await $t(snap,zt.AccountTransactionsUpdated,{transactions:{[e.id]:[u]}}),await this.#x.updateBalancesPostTransaction(u),s}catch(e){throw console.error(e),this.#i.error(e),e}}async signMessage(e,t){m(t.request,Nl);const{message:n}=t.request.params,r={signature:n,signedMessage:n,signatureType:"ed25519"};return m(r,Ml),r}async signIn(e,t){m(t.request,jl);const{address:n,...r}=t.request.params,o={account:{address:n},signature:"mock-signature",signedMessage:Object.values(r).join(" | "),signatureType:"ed25519"};return m(o,Ul),o}}(Lp,Np,$p,nu),Wp=new class{#E;#i;#y;constructor(e,t,n){this.#E=e,this.#y=t,this.#i=n}async scanTransaction({method:e,accountAddress:t,transaction:n,scope:r}){try{var o,i;const a=await this.#E.scanTransactions({method:e,accountAddress:t,transactions:[n],scope:r,options:["simulation","validation"]}),s=this.#k(a);if(!(null===(i=s)||void 0===i||null===(o=i.estimatedChanges)||void 0===o?void 0:o.assets))return null;const c={...s},u=s.estimatedChanges.assets.map((async(e,t)=>{const{logo:n}=e;if(n)return this.#y.generateImageComponent(n,16,16).then((e=>{var n,r,o;e&&(null===(o=c)||void 0===o||null===(r=o.estimatedChanges)||void 0===r||null===(n=r.assets)||void 0===n?void 0:n[t])&&(c.estimatedChanges.assets[t].imageSvg=e)})).catch((()=>null))}));return await Promise.all(u??[]),c}catch(e){return this.#i.error(e),null}}#k(e){var t,n,r,o,i,a,s,c,u,l;return{status:null===(t=e)||void 0===t?void 0:t.status,estimatedChanges:{assets:(null===(i=e.result)||void 0===i||null===(o=i.simulation)||void 0===o||null===(r=o.account_summary)||void 0===r||null===(n=r.account_assets_diff)||void 0===n?void 0:n.map((e=>{var t,n,r,o;return{type:e.in?"in":"out",symbol:"symbol"in e.asset?e.asset.symbol:e.asset_type,name:"name"in e.asset?e.asset.name:e.asset_type,logo:"logo"in e.asset?e.asset.logo:null,value:(null===(t=e.in)||void 0===t?void 0:t.value)??(null===(n=e.out)||void 0===n?void 0:n.value)??null,price:(null===(r=e.in)||void 0===r?void 0:r.usd_price)??(null===(o=e.out)||void 0===o?void 0:o.usd_price)??null,imageSvg:null}})))??[]},validation:{type:null===(s=e.result)||void 0===s||null===(a=s.validation)||void 0===a?void 0:a.result_type,reason:null===(u=e.result)||void 0===u||null===(c=u.validation)||void 0===c?void 0:c.reason},error:(null===(l=e)||void 0===l?void 0:l.error_details)?{type:"type"in e.error_details?e.error_details.type:null,code:"code"in e.error_details?e.error_details.code:null}:null}}}(new class{#u;#i;#l;constructor(e,t=globalThis.fetch,n=nu){const{baseUrl:r}=e.get().securityAlertsApi;this.#u=t,this.#i=n,this.#l=r}async scanTransactions({method:e,accountAddress:t,transactions:n,scope:r,options:o}){const i=su.from(au.decode(t)).toString("base64");this.#i.info("Scanning transaction");return(await this.#u(`${this.#l}/solana/message/scan`,{headers:{"Content-Type":"application/json",accept:"application/json"},method:"POST",body:JSON.stringify({method:e,encoding:"base64",account_address:i,metadata:{url:"https://metamask.io"},chain:cu[r],transactions:n,options:o})})).json()}}(Cp),Fp,nu),Gp=new class{#w;#a;#i;#T;#v;#x;#I;constructor({state:e,configProvider:t,logger:n,transactionsService:r,assetsService:o,balancesService:i,walletService:a}){this.#w=e,this.#a=t,this.#i=n,this.#T=r,this.#v=o,this.#x=i,this.#I=a}async listAccounts(){try{var e;const t=(null===(e=await this.#w.get())||void 0===e?void 0:e.keyringAccounts)??{};return Object.values(t).sort(((e,t)=>e.index-t.index))}catch(e){throw this.#i.error({error:e},"Error listing accounts"),new Error("Error listing accounts")}}async getAccount(e){try{var t,n;ud({accountId:e},ja);const r=(null===(t=await this.#w.get())||void 0===t?void 0:t.keyringAccounts)??{};if(!r[e])throw new Error(`Account "${e}" not found`);return null===(n=r)||void 0===n?void 0:n[e]}catch(e){throw this.#i.error({error:e},"Error getting account"),e}}async getAccountOrThrow(e){const t=await this.getAccount(e);if(!t)throw new Error(`Account "${e}" not found`);return t}async createAccount(e){const t=crypto.randomUUID();try{var n;let r;if((null===(n=e)||void 0===n?void 0:n.importedAccount)&&"number"==typeof e.index)r=e.index;else{r=function(e){if(0===e.length)return 0;const t=e.map((e=>e.index)).sort(((e,t)=>e-t));let n=0;for(const e of t){if(e!==n)break;n+=1}return n}(await this.listAccounts())}const{publicKeyBytes:o}=await Zl(r),i=ia().decode(o.slice(1)),{importedAccount:a,index:s,accountNameSuggestion:c,...u}=e??{},l={id:t,index:r,type:Ve.DataAccount,address:i,scopes:[pt.Mainnet,pt.Testnet,pt.Devnet],options:{...u,imported:a??!1},methods:[gt.SignAndSendTransaction,gt.SignTransaction,gt.SignMessage,gt.SignIn]};await this.#w.update((e=>{var t;return{...e,keyringAccounts:{...(null===(t=e)||void 0===t?void 0:t.keyringAccounts)??{},[l.id]:l}}}));const d={type:l.type,id:l.id,address:l.address,options:l.options,methods:l.methods,scopes:l.scopes};return await this.emitEvent(zt.AccountCreated,{account:d,accountNameSuggestion:c??`Solana Account ${r+1}`,displayAccountNameSuggestion:!c}),d}catch(e){throw this.#i.error({error:e},"Error creating account"),await this.#O(t),new Error("Error creating account")}}async#O(e){await this.#w.update((t=>{var n,r,o,i,a,s,c,u;(null===(r=t)||void 0===r||null===(n=r.keyringAccounts)||void 0===n?void 0:n[e])&&(null===(i=t)||void 0===i||(null===(o=i.keyringAccounts)||void 0===o||delete o[e]),null===(s=t)||void 0===s||(null===(a=s.assets)||void 0===a||delete a[e]),null===(u=t)||void 0===u||(null===(c=u.transactions)||void 0===c||delete c[e]));return t}))}async deleteAccount(e){try{ud({accountId:e},Na),await this.#O(e),await this.emitEvent(zt.AccountDeleted,{id:e})}catch(e){throw this.#i.error({error:e},"Error deleting account"),e}}async listAccountAssets(e){try{ud({accountId:e},Pa);const t=await this.getAccount(e);if(!t)throw new Error("Account not found");const{activeNetworks:n}=this.#a.get(),r=await Promise.all(n.map((async e=>this.#v.getNativeAsset(t.address,e)))),o=await Promise.all(n.map((async e=>this.#v.discoverTokens(t.address,e)))),i=r.map((e=>e.address)),a=o.flatMap((e=>e.map((e=>e.address)))),s=[...i,...a];return ld(s,Ua),s}catch(e){throw this.#i.error({error:e},"Error listing account assets"),e}}async getAccountBalances(e,t){try{ud({accountId:e,assets:t},_a);const n=await this.getAccountOrThrow(e),r=await this.#x.getAccountBalances(n,t);return ld(r,Ma),r}catch(e){throw this.#i.error({error:e},"Error getting account balances"),e}}async emitEvent(e,t){await $t(snap,e,t)}async filterAccountChains(e,t){throw new Error(`Implement me! ${e} ${t.toString()}`)}async updateAccount(e){throw new Error(`Implement me! ${JSON.stringify(e)}`)}async submitRequest(e){return{pending:!1,result:await this.#B(e)}}async#B(e){m(e,dd);const{request:{method:t,params:n},scope:r,account:o}=e,i=n.transaction??"",a=await this.getAccountOrThrow(o);if(!a.scopes.includes(r))throw new Error(`Scope "${r}" is not allowed for this account`);if(!a.methods.includes(t))throw new Error(`Method "${t}" is not allowed for this account`);if("scope"in n&&r!==n.scope)throw new Error(`Scope "${r}" does not match "${n.scope}" in request.params`);if(!await vl({...yl,scope:r,method:t,transaction:i,account:a}))return null;if(t===gt.SignAndSendTransaction)return this.#I.signAndSendTransaction(a,e);throw new mr(`Unsupported method: ${t}`)}async listAccountTransactions(e,t){try{var n,r,o;ud({accountId:e,pagination:t},La);const i=await this.getAccount(e);if(!i)throw new Error("Account not found");const a=(null===(r=await this.#w.get())||void 0===r||null===(n=r.transactions)||void 0===n?void 0:n[e])??[];if(!a.length){await this.#w.update((e=>({...e,isFetchingTransactions:!0})));const e=(await this.#T.fetchLatestAddressTransactions(ra(i.address),t.limit)).map((e=>({...e,account:i.id})));return await this.#w.update((t=>{var n;return{...t,isFetchingTransactions:!1,transactions:{...(null===(n=t)||void 0===n?void 0:n.transactions)??{},[i.id]:e}}})),{data:e,next:null}}const s=t.next?a.findIndex((e=>e.id===t.next)):0,c=a.slice(s,s+t.limit),u=s+t.limit<a.length;return{data:c,next:u?(null===(o=a[s+t.limit])||void 0===o?void 0:o.id)??null:null}}catch(e){throw this.#i.error({error:e},"Error listing account transactions"),await this.#w.update((e=>({...e,isFetchingTransactions:!1}))),e}}async resolveAccountAddress(e,t){try{m(e,za),m(t,Bt);const{method:n,params:r}=t.params.request,o={method:n,params:r};m(o,zl);const i=await this.listAccounts();return{address:await this.#I.resolveAccountAddress(i,e,o)}}catch(e){return this.#i.error({error:e},"Error resolving account address"),null}}}({state:Rp,configProvider:Cp,transactionsService:Dp,logger:nu,assetsService:zp,balancesService:$p,walletService:qp}),Vp=new class{#C;#i;constructor(e,t=nu){this.#C=e,this.#i=t}#R(e){return Ep(e).toLowerCase()}async getMultipleTokenPrices(e,t){if(m(e,b(Ra)),m(t,ou),0===e.length)return{};try{return await this.#C.getMultipleSpotPrices(e,t)}catch(e){return this.#i.error(e,"Error fetching token prices"),{}}}async getMultipleTokenConversions(e){if(0===e.length)return{};const t=e.flatMap((e=>[e.from,e.to])).filter((e=>!kp(e))),[n,r]=await Promise.all([this.#C.getFiatExchangeRates(),this.#C.getMultipleSpotPrices(t,"usd")]),o={};return e.forEach((e=>{const{from:t,to:i}=e;let a,s;if(o[t]||(o[t]={}),kp(t)){var c;const e=null===(c=n[this.#R(t)])||void 0===c?void 0:c.value;if(!e)return void(o[t][i]=null);a=new Vr(1).dividedBy(e)}else{var u;a=new Vr((null===(u=r[t])||void 0===u?void 0:u.price)??0)}if(kp(i)){var l;const e=null===(l=n[this.#R(i)])||void 0===l?void 0:l.value;if(!e)return void(o[t][i]=null);s=new Vr(1).dividedBy(e)}else{var d;s=new Vr((null===(d=r[i])||void 0===d?void 0:d.price)??0)}if(a.isZero()||s.isZero())return void(o[t][i]=null);const f=a.dividedBy(s).toString();o[t][i]={rate:f,conversionTime:Date.now()}})),o}}(Up),Kp={configProvider:Cp,connection:jp,keyring:Gp,priceApiClient:Up,state:Rp,assetsService:zp,tokenPricesService:Vp,transactionHelper:Np,transactionsService:Dp,sendSolBuilder:Pp,sendSplTokenBuilder:_p,fromBase64EncodedBuilder:Lp,walletService:qp,transactionScanService:Wp,balancesService:$p},Hp=Iu("Form");function Jp(e){return null==e}var Zp;!function(e){e[e.Null=4]="Null",e[e.Comma=1]="Comma",e[e.Wrapper=1]="Wrapper",e[e.True=4]="True",e[e.False=5]="False",e[e.Quote=1]="Quote",e[e.Colon=1]="Colon",e[e.Date=24]="Date"}(Zp=Zp||(Zp={}));const Yp=({title:e,backButtonName:t})=>hu(Bu,{direction:"horizontal",alignment:"space-between",center:!0,children:[t?pu(ju,{name:t,children:pu(zu,{name:"arrow-left",color:"primary",size:"md"})}):null,pu(Cu,{size:"sm",children:e}),hu(Bu,{direction:"horizontal",children:[pu(Bu,{children:null}),pu(Bu,{children:null}),pu(Bu,{children:null}),pu(Bu,{children:null})]})]}),Qp=Iu("Field"),Xp=Iu("Selector"),eh=Iu("SelectorOption"),th=Iu("Card");function nh(e){return e?e.length<=10?"":`${e.slice(0,6)}...${e.slice(-4)}`:""}const rh=({accounts:e,balances:t,price:n,name:r,scope:o,selectedAccountId:i,error:a,locale:s,currency:c})=>{const u=Mu(s),l=Object.values(e);return pu(Qp,{label:u("send.fromField"),error:a,children:pu(Xp,{name:r,value:i,title:"From",children:l.map((e=>{var r;const i=null===(r=t[e.id])||void 0===r?void 0:r[`${o}/${xa.SOL}`],{amount:a,unit:u}=i??{},l=void 0!==a&&u?dl(a,u,s):"",d=void 0!==a&&null!==n&&c?tl(fl(a,n),c,s):"-";return pu(eh,{value:e.id,children:pu(th,{value:l,extra:d,description:nh(e.address),title:pu(Wu,{address:Gu(o,e.address),truncate:!0,displayName:!0,avatar:!0})})})}))})})},oh=Iu("Input");var ih,ah;!function(e){e.Form="send-form",e.DestinationAccountInput="send-to",e.BackButton="send-back-button",e.SourceAccountSelector="send-account-selector",e.AmountInput="send-amount-input",e.AssetSelector="send-asset-selector",e.SwapCurrencyButton="send-swap-currency",e.MaxAmountButton="send-amount-input-max",e.CancelButton="send-cancel-button",e.SendButton="send-submit-button",e.ClearButton="send-clear-button",e.CloseButton="send-close-button"}(ih||(ih={})),function(e){e.TOKEN="TOKEN",e.FIAT="USD"}(ah||(ah={}));const sh=({name:e,value:t,tokenSymbol:n,currency:r,currencyType:o,error:i,locale:a,swapCurrencyButtonDisabled:s=!1})=>{const c=Mu(a),u=o===ah.FIAT?r.toUpperCase():n;return hu(Qp,{label:c("send.amountField"),error:i,children:[pu(oh,{name:e,type:"number",min:0,placeholder:"0",step:.01,value:t}),hu(Bu,{direction:"horizontal",center:!0,children:[pu(Bu,{direction:"vertical",alignment:"center",children:pu($u,{size:"sm",children:u})}),pu(ju,{name:ih.SwapCurrencyButton,disabled:s,children:pu(zu,{name:"swap-vertical",color:s?"muted":"primary",size:"md"})})]})]})},ch=({selectedAccountId:e,balances:t,tokenMetadata:n,locale:r,tokenCaipId:o})=>{const i=Mu(r),a=t[e]??{};return pu(Qp,{label:i("send.assetField"),children:pu(Xp,{name:ih.AssetSelector,title:i("send.assetField"),value:o,children:Object.keys(a).map(((e,t)=>{var r;const o=a[e],i=n[e];return pu(eh,{value:e,children:pu(th,{image:(null===(r=i)||void 0===r?void 0:r.imageSvg)??xp,title:"",value:o.unit??"UNKNOWN"})},t)}))})})},uh=({name:e,value:t,error:n,locale:r})=>{const o=Mu(r),i=t.length>0;return hu(Qp,{label:o("send.toField"),error:n,children:[pu(oh,{name:e,placeholder:o("send.toPlaceholder"),value:t}),i&&pu(Bu,{children:pu(ju,{name:ih.ClearButton,children:pu(zu,{name:Uu.Close,color:"primary"})})})]})},lh=e=>{var t;const{amount:n,tokenPrices:r,tokenCaipId:o,currencyType:i}=e,a=null===(t=r[o])||void 0===t?void 0:t.price;if(i===ah.TOKEN)return n;if(void 0===a)throw new Error("Token price is undefined, cannot convert to fiat amount.");return Vr(n).dividedBy(Vr(a)).toString()},dh=e=>{var t,n;const{tokenCaipId:r,tokenMetadata:o}=e,i=o[r];return{...i??{},tokenSymbol:(null===(t=i)||void 0===t?void 0:t.symbol)??"UNKNOWN",tokenImage:(null===(n=i)||void 0===n?void 0:n.imageSvg)??xp}},fh=e=>{var t,n;const{tokenCaipId:r,tokenPrices:o}=e;return null===(n=o)||void 0===n||null===(t=n[r])||void 0===t?void 0:t.price},ph=Iu("Spinner"),hh=({title:e,subtitle:t,iconSrc:n,isLoading:r})=>hu(Bu,{alignment:"center",center:!0,children:[hu(Bu,{direction:"horizontal",center:!0,children:[r?pu(ph,{}):null,n&&!r?pu(Ju,{borderRadius:"full",src:n}):null]}),pu(Cu,{size:"lg",children:e}),t?pu($u,{color:"muted",children:t}):null]}),gh=Iu("Row"),mh=Iu("Value"),yh=({context:e})=>{var t,n;const{scope:r,fromAccountId:o,toAddress:i,accounts:a,feeEstimatedInSol:s,preferences:{locale:c,currency:u},transaction:l,feePaidInSol:d,tokenPrices:f}=e,p=Mu(c),h=Ta[r],g=null===(t=a.find((e=>e.id===o)))||void 0===t?void 0:t.address,m=Gu(r,g),y=Gu(r,i),v=h.name,w=h.nativeToken.symbol,A=null===(n=f[h.nativeToken.caip19Id])||void 0===n?void 0:n.price,b=l?d:s,S=b?dl(b,w,c):"",x=void 0===A||null===b?"":tl(fl(b,A),u,c);return hu(Bu,{children:[hu(Du,{children:[pu(gh,{label:p("send.confirmation.from"),children:pu(qu,{href:Vu(r,"address",g),children:pu(Wu,{address:m,displayName:!0})})}),pu(gh,{label:p("send.confirmation.recipient"),children:pu(qu,{href:Vu(r,"address",i),children:pu(Wu,{address:y,displayName:!0})})})]}),hu(Du,{children:[pu(gh,{label:p("send.confirmation.network"),children:pu($u,{children:v})}),pu(gh,{label:p("send.confirmation.transactionSpeed"),children:pu($u,{children:"<1s"})}),pu(gh,{label:p("send.confirmation.fee"),children:pu(mh,{extra:x,value:S})})]})]})};var vh;!function(e){e.BackButton="transaction-confirmation-back-button",e.CancelButton="transaction-confirmation-cancel-button",e.ConfirmButton="transaction-confirmation-submit-button"}(vh||(vh={}));const wh={"send-form":({context:e})=>{var t,n,r,o,i,a,s,c,u,l;const{accounts:d,fromAccountId:f,amount:p,toAddress:h,validation:g,currencyType:m,tokenCaipId:y,scope:v,balances:w,tokenPricesFetchStatus:A,tokenMetadata:b,buildingTransaction:S,error:x,preferences:{locale:E,currency:k}}=e,T=Mu(E),I=null===(t=w[f])||void 0===t?void 0:t[y],O=null===(n=I)||void 0===n?void 0:n.amount,B=(null===(r=I)||void 0===r?void 0:r.unit)??"",C=void 0!==O,R=(e=>{var t,n,r,o;const{tokenPrices:i,scope:a}=e;return null===(o=i)||void 0===o||null===(t=o[null===(r=Ta[a])||void 0===r||null===(n=r.nativeToken)||void 0===n?void 0:n.caip19Id])||void 0===t?void 0:t.price})(e),j=fh(e),N=void 0===O||"0"===O,P=void 0===j,_="error"===A||"fetched"===A&&P,L=(C?{[ah.FIAT]:tl(fl(O,j??0),k,E),[ah.TOKEN]:dl(O,B,E)}:{[ah.FIAT]:"",[ah.TOKEN]:""})[m],M=f.length>0&&h.length>0&&Jp(null===(o=g)||void 0===o?void 0:o[ih.DestinationAccountInput]),U=!Jp(e.transactionMessage)&&""!==e.transactionMessage,z=f.length>0&&p.length>0&&h.length>0&&Object.values(g).every(Jp)&&C&&!S&&U;return hu(Ou,{children:[hu(Bu,{children:[pu(Yp,{title:T("send.title"),backButtonName:ih.BackButton}),hu(Hp,{name:ih.Form,children:[_&&pu(cl,{title:"",severity:"info",children:pu($u,{children:T("send.selectedTokenPriceNotAvailable",{currency:k})})}),pu(Bu,{children:null}),pu(Bu,{children:null}),pu(Bu,{children:null}),pu(rh,{name:ih.SourceAccountSelector,scope:v,error:(null===(a=g)||void 0===a||null===(i=a[ih.SourceAccountSelector])||void 0===i?void 0:i.message)??"",accounts:d,selectedAccountId:f,balances:w,price:R??null,locale:E,currency:k}),pu(Bu,{children:null}),pu(Bu,{children:null}),pu(Bu,{children:null}),pu(uh,{locale:E,name:ih.DestinationAccountInput,value:h,error:(null===(c=g)||void 0===c||null===(s=c[ih.DestinationAccountInput])||void 0===s?void 0:s.message)??""}),M&&hu(Bu,{children:[pu(Bu,{children:null}),pu(Bu,{children:null}),pu(Bu,{children:null}),hu(Bu,{direction:"horizontal",children:[pu(ch,{tokenCaipId:y,tokenMetadata:b,selectedAccountId:f,balances:w,locale:E}),pu(sh,{name:ih.AmountInput,error:(null===(l=g)||void 0===l||null===(u=l[ih.AmountInput])||void 0===u?void 0:u.message)??"",currencyType:m,tokenSymbol:B,currency:k,value:p,locale:E,swapCurrencyButtonDisabled:P||N})]}),hu(Bu,{direction:"horizontal",alignment:"space-between",center:!0,children:[L?pu($u,{size:"sm",color:"muted",children:`${T("send.balance")}: ${L}`}):pu(Bu,{children:null}),pu(ju,{size:"sm",name:ih.MaxAmountButton,disabled:N,children:T("send.maxButton")})]})]}),x&&hu(Bu,{children:[pu(Bu,{children:null}),pu(cl,{title:T(x.title),severity:"warning",children:pu($u,{children:T(x.message)})})]})]})]}),hu(Ru,{children:[pu(ju,{name:ih.CancelButton,children:T("send.cancelButton")}),pu(ju,{name:ih.SendButton,disabled:!z,loading:S,children:T("send.continueButton")})]})]})},"transaction-confirmation":({context:e})=>{const{preferences:{currency:t,locale:n}}=e,r=Mu(n),{tokenImage:o,tokenSymbol:i}=dh(e),a=lh(e),s=fh(e),c=void 0===s?"":tl(fl(a,s),t,n);return hu(Ou,{children:[hu(Bu,{children:[pu(Yp,{title:r("send.confirmation.title"),backButtonName:vh.BackButton}),pu(hh,{title:dl(a,i,n),subtitle:c,iconSrc:o}),pu(yh,{context:e})]}),hu(Ru,{children:[pu(ju,{name:vh.CancelButton,children:r("send.confirmation.cancelButton")}),pu(ju,{name:vh.ConfirmButton,children:r("send.confirmation.sendButton")})]})]})},"send-pending":({context:e})=>{const t=Mu(e.preferences.locale);return pu(Ou,{children:hu(Bu,{children:[pu(Bu,{children:null}),pu(hh,{title:t("send.send-pending.title"),subtitle:t("send.send-pending.subtitle"),isLoading:!0}),pu(yh,{context:e})]})})},"transaction-success":({context:e})=>{var t,n;const{preferences:r,transaction:o,scope:i}=e,a=Mu(r.locale),{tokenSymbol:s}=dh(e),c=lh(e);return pu(Ou,{children:hu(Bu,{children:[pu(Bu,{children:null}),pu(hh,{title:a("send.transaction-success.title"),subtitle:a("send.transaction-success.subtitle",{amount:el(c,r.locale),tokenSymbol:s}),iconSrc:\'<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">\\n<path d="M24.0002 3.99902C12.9802 3.99902 4.00024 12.979 4.00024 23.999C4.00024 35.019 12.9802 43.999 24.0002 43.999C35.0202 43.999 44.0002 35.019 44.0002 23.999C44.0002 12.979 35.0202 3.99902 24.0002 3.99902ZM33.5602 19.399L22.2202 30.739C21.9402 31.019 21.5602 31.179 21.1602 31.179C20.7602 31.179 20.3802 31.019 20.1002 30.739L14.4402 25.079C13.8602 24.499 13.8602 23.539 14.4402 22.959C15.0202 22.379 15.9802 22.379 16.5602 22.959L21.1602 27.559L31.4402 17.279C32.0202 16.699 32.9802 16.699 33.5602 17.279C34.1402 17.859 34.1402 18.799 33.5602 19.399Z" fill="#1C8234"/>\\n</svg>\\n\'}),pu(yh,{context:e}),(null===(t=o)||void 0===t?void 0:t.signature)?pu(Bu,{alignment:"center",center:!0,children:pu(qu,{href:Vu(i,"tx",null===(n=o)||void 0===n?void 0:n.signature),children:a("send.confirmation.viewTransaction")})}):null]})})},"transaction-failure":({context:e})=>{const{preferences:t}=e,n=Mu(t.locale),{tokenSymbol:r}=dh(e),o=lh(e);return pu(Ou,{children:hu(Bu,{children:[pu(Bu,{children:null}),pu(hh,{title:n("send.transaction-failure.title"),subtitle:n("send.transaction-failure.subtitle",{amount:o,tokenSymbol:r}),iconSrc:\'<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">\\n<path d="M40.8277 29.5283L29.7931 8.40143C28.3104 5.55884 26.2586 4 24 4C21.7414 4 19.6896 5.55884 18.2069 8.40143L7.17228 29.5283C5.77572 32.2241 5.62055 34.81 6.74125 36.8456C7.86194 38.8813 10.0689 40 12.9654 40H35.0346C37.9311 40 40.1381 38.8813 41.2588 36.8456C42.3795 34.81 42.2243 32.2058 40.8277 29.5283ZM22.7069 16.8375C22.7069 16.0856 23.2931 15.462 24 15.462C24.7069 15.462 25.2931 16.0856 25.2931 16.8375V26.0071C25.2931 26.759 24.7069 27.3826 24 27.3826C23.2931 27.3826 22.7069 26.759 22.7069 26.0071V16.8375ZM25.2241 32.811C25.1379 32.8844 25.0517 32.9577 24.9655 33.0311C24.8621 33.1044 24.7586 33.1595 24.6552 33.1961C24.5517 33.2511 24.4483 33.2878 24.3276 33.3062C24.2241 33.3245 24.1034 33.3428 24 33.3428C23.8965 33.3428 23.7759 33.3245 23.6552 33.3062C23.5517 33.2878 23.4483 33.2511 23.3448 33.1961C23.2414 33.1595 23.1379 33.1044 23.0345 33.0311C22.9483 32.9577 22.8621 32.8844 22.7759 32.811C22.4655 32.4626 22.2758 31.9857 22.2758 31.5089C22.2758 31.0321 22.4655 30.5553 22.7759 30.2068C22.8621 30.1335 22.9483 30.0601 23.0345 29.9868C23.1379 29.9134 23.2414 29.8584 23.3448 29.8217C23.4483 29.7667 23.5517 29.73 23.6552 29.7117C23.8793 29.6567 24.1207 29.6567 24.3276 29.7117C24.4483 29.73 24.5517 29.7667 24.6552 29.8217C24.7586 29.8584 24.8621 29.9134 24.9655 29.9868C25.0517 30.0601 25.1379 30.1335 25.2241 30.2068C25.5345 30.5553 25.7241 31.0321 25.7241 31.5089C25.7241 31.9857 25.5345 32.4626 25.2241 32.811Z" fill="#BF5208"/>\\n</svg>\\n\'}),pu(yh,{context:e})]})})}},Ah=({context:e})=>{const t=e.stage??"send-form";return pu(wh[t],{context:e})};function bh(e,t){var n,r,o;const i=Mu(t.preferences.locale),{price:a}=(null===(n=t.tokenPrices)||void 0===n?void 0:n[t.tokenCaipId])??{price:0};return parseFloat(t.currencyType===ah.FIAT?(parseFloat(e)/a).toString():e)>parseFloat((null===(o=t.balances[t.fromAccountId])||void 0===o||null===(r=o[t.tokenCaipId])||void 0===r?void 0:r.amount)??"0")?{message:i("send.insufficientBalance"),value:e}:null}function Sh(e,t,n){var r;return n[e]?(null===(r=n[e])||void 0===r?void 0:r.map((e=>e(t))).find((e=>null!==e)))??null:null}const xh=(e,t)=>{const n=Mu(t);return t=>{const r=""===t?{message:n(e),value:t}:null;return r?{message:r.message,value:t}:null}},Eh=(e,t)=>{const n=Mu(t);return t=>{try{return ra(t),null}catch{return{message:n(e),value:t}}}},kh=e=>{const{minimumBalanceForRentExemptionSol:t,preferences:{locale:n},tokenCaipId:r,scope:o}=e,i=Mu(n);return e=>{if(0===parseFloat(e))return{message:"",value:e};const n=parseFloat(e)<parseFloat(t),a=r===Ta[o].nativeToken.caip19Id;return n&&a?{message:i("send.amountGreatherThanMinimumBalanceForRentExemptionError",{minimumValue:t}),value:e}:null}},Th=C({scope:E([...Object.values(ba)]),account:Ia}),Ih=e=>({[ih.SourceAccountSelector]:[xh("send.fromRequiredError",e.preferences.locale)],[ih.AmountInput]:[kh(e),xh("send.amountRequiredError",e.preferences.locale)],[ih.DestinationAccountInput]:[xh("send.toRequiredError",e.preferences.locale),Eh("send.toInvalidError",e.preferences.locale)]}),Oh={scope:ba.Mainnet,fromAccountId:"",amount:"",toAddress:"",feeEstimatedInSol:"0",feePaidInSol:"0",tokenCaipId:Sa.SolMainnet,accounts:[],currencyType:ah.TOKEN,validation:{},balances:{},assets:[],tokenPrices:{},tokenPricesFetchStatus:"initial",tokenMetadata:{},preferences:{locale:"en",currency:"usd"},error:null,buildingTransaction:!1,transactionMessage:null,transaction:null,stage:"send-form",minimumBalanceForRentExemptionSol:"0.002"};var Bh;!function(e){e.RefreshSend="refreshSend",e.RefreshConfirmationEstimation="refreshConfirmationEstimation",e.RefreshTransactions="refreshTransactions",e.RefreshAssets="refreshAssets"}(Bh||(Bh={}));const Ch={[Bh.RefreshSend]:async()=>{const[e,t]=await Promise.all([Rp.get(),Eu().catch((()=>Oh.preferences))]);try{nu.info(`[${Bh.RefreshSend}] Cronjob triggered`);const o=Object.values(e.assets).flatMap((e=>Object.keys(e)));let i={};try{i=await Vp.getMultipleTokenPrices(o,t.currency),await Rp.update((e=>({...e,tokenPrices:{...e.tokenPrices,...i}}))),nu.info(`[${Bh.RefreshSend}] ✅ Token prices were properly refreshed and saved in the state.`)}catch(e){nu.info({error:e},`[${Bh.RefreshSend}] ❌ Could not update the token prices in the state.`)}try{var n,r;const t=null===(r=e)||void 0===r||null===(n=r.mapInterfaceNameToId)||void 0===n?void 0:n[vu];if(t){const e=await ku(t);if(!e)return void nu.info(`[${Bh.RefreshSend}] No interface context found`);if("transaction-confirmation"!==e.stage)return void nu.info(`[${Bh.RefreshSend}] ❌ Not in transaction confirmation stage`);if(!e.assets)return void nu.info(`[${Bh.RefreshSend}] ❌ No assets found`);const n=await ku(t),r={...n,tokenPrices:{...n.tokenPrices,...i}};await bu(t,pu(Ah,{context:r}),r)}}catch(e){nu.info({error:e},`[${Bh.RefreshSend}] ❌ Could not update the interface`)}nu.info(`[${Bh.RefreshSend}] ✅ Cronjob suceeded`)}catch(e){nu.info({error:e},`[${Bh.RefreshSend}] ❌ Cronjob failed`)}},[Bh.RefreshConfirmationEstimation]:async()=>{try{var e,t;nu.info(`[${Bh.RefreshConfirmationEstimation}] Cronjob triggered`);const r=null===(t=await Rp.get())||void 0===t||null===(e=t.mapInterfaceNameToId)||void 0===e?void 0:e[wu];try{if(r){var n;const e=await ku(r);if(!e)return void nu.info(`[${Bh.RefreshConfirmationEstimation}] No interface context found`);if(!((null===(n=e.account)||void 0===n?void 0:n.address)&&e.transaction&&e.scope&&e.method))return void nu.info(`[${Bh.RefreshConfirmationEstimation}] Context is missing required fields`);const t={...e,scanFetchStatus:"fetching"};await bu(r,pu(ml,{context:t}),t);const o=await Wp.scanTransaction({method:e.method,accountAddress:e.account.address,transaction:e.transaction,scope:e.scope}),i={...await ku(r),scanFetchStatus:"fetched",scan:o};nu.info(`[${Bh.RefreshConfirmationEstimation}] New scan fetched`),await bu(r,pu(ml,{context:i}),i)}nu.info(`[${Bh.RefreshConfirmationEstimation}] Cronjob suceeded`)}catch(e){if(!r)return void nu.info(`[${Bh.RefreshConfirmationEstimation}] No interface context found`);const t={...await ku(r),scanFetchStatus:"fetched"};await bu(r,pu(ml,{context:t}),t),nu.info({error:e},`[${Bh.RefreshConfirmationEstimation}] Could not update the interface. But rolled back status to fetched.`)}}catch(e){nu.info({error:e},`[${Bh.RefreshConfirmationEstimation}] Cronjob failed`)}},[Bh.RefreshTransactions]:async function(){try{nu.info("[refreshTransactions] Cronjob triggered");const t=await Rp.get();if(t.isFetchingTransactions)return void nu.info("[refreshTransactions] Another instance is already running");const n=await Gp.listAccounts();if(!n.length)return void nu.info("[refreshTransactions] No accounts found");await Rp.update((e=>({...e,isFetchingTransactions:!0})));const r=t.transactions,o=(e=r,new Set(Object.values(e??{}).flat().map((e=>e.id)))),i=await async function({scopes:e=[ba.Mainnet,ba.Devnet],accounts:t,existingSignatures:n}){const r={byNetwork:new Map(e.map((e=>[e,new Set]))),byAccountAndNetwork:new Map(t.map((t=>[t.id,new Map(e.map((e=>[e,new Set])))])))};for(const o of t)for(const t of e){nu.log(`[refreshTransactions] Fetching signatures for ${o.address} on ${t}...`);const e=await Dp.fetchLatestSignatures(t,ra(o.address),Cp.get().transactions.storageLimit),i=e.filter((e=>!n.has(e)));if(!i.length){nu.log(`[refreshTransactions] Found 0 new signatures out of ${e.length} total for address ${o.address} on network ${t}`);continue}const a=r.byNetwork.get(t),s=r.byAccountAndNetwork.get(o.id).get(t);i.forEach((e=>{a.add(e),s.add(e)})),nu.info(`[refreshTransactions] Found ${i.length} new signatures (${e.length} total) for ${o.address} on ${t}`)}return r}({accounts:n,existingSignatures:o}),a=await async function({scopes:e=[ba.Mainnet,ba.Devnet],accounts:t,newSignaturesMapping:n}){const r={};for(const i of e){const e=n.byNetwork.get(i);if(!e.size)continue;const a=Array.from(e),s=await Dp.getTransactionsDataFromSignatures({scope:i,signatures:a});for(const e of t){var o;r[e.id]||(r[e.id]=[]);const t=n.byAccountAndNetwork.get(e.id).get(i),a=s.filter((e=>{var n,r;const o=null===(r=e)||void 0===r||null===(n=r.transaction)||void 0===n?void 0:n.signatures[0];return o&&t.has(o)})).map((t=>{const n=Bp({scope:i,address:e.address,transactionData:t});return n?{...n,account:e.id}:null})).filter((e=>null!==e));null===(o=r[e.id])||void 0===o||o.push(...a)}}return r}({accounts:n,newSignaturesMapping:i}),s=function({accounts:e,previousTransactionsByAccount:t,newTransactionsByAccount:n}){return Object.fromEntries(e.map((e=>[e.id,[...t[e.id]??[],...n[e.id]??[]].sort(((e,t)=>(e.timestamp??0)-(t.timestamp??0))).slice(0,Cp.get().transactions.storageLimit)])))}({accounts:n,previousTransactionsByAccount:r,newTransactionsByAccount:a});await Gp.emitEvent(zt.AccountTransactionsUpdated,{transactions:a}),await Rp.update((e=>({...e,isFetchingTransactions:!1,transactions:s}))),nu.info("[refreshTransactions] Cronjob finished")}catch(e){nu.error("[refreshTransactions] Error. Releasing lock..."),nu.error(JSON.stringify(e)),await Rp.update((e=>({...e,isFetchingTransactions:!1}))),nu.info("[refreshTransactions] Cronjob finished")}var e},[Bh.RefreshAssets]:fu};var Rh;!function(e){e.GetGenesisHash="getGenesisHash"}(Rh||(Rh={}));const jh=C({method:E([Rh.GetGenesisHash])}),Nh={[Yl.StartSendTransactionFlow]:async({request:e})=>{const{params:t}=e;m(t,Th);const{scope:n,account:r}=t,o=Ta[n].nativeToken.caip19Id,i={...Oh,scope:n,fromAccountId:r,tokenCaipId:o},[a,s]=await Promise.all([Rp.get(),Eu().catch((()=>Oh.preferences))]);i.balances=function({scope:e,balances:t}){return Object.fromEntries(Object.entries(t).map((([t,n])=>[t,Object.fromEntries(Object.entries(n).filter((([t,n])=>{const r=t===Ta[e].nativeToken.caip19Id,o=t.startsWith(e),i="0"!==n.amount;return r||o&&i})))])))}({scope:n,balances:a.assets});const c=a.assets[i.fromAccountId]??{};i.assets=Object.keys(c),i.accounts=Object.values(a.keyringAccounts),i.preferences=s,i.tokenMetadata=a.metadata??{},i.tokenPrices=a.tokenPrices??{};const u=await Au(pu(Ah,{context:i}),i),l=xu(u),d=Vp.getMultipleTokenPrices(i.assets,i.preferences.currency).then((e=>{i.tokenPrices={...i.tokenPrices,...e},i.tokenPricesFetchStatus="fetched"})).catch((()=>{i.tokenPricesFetchStatus="error"})),f=Np.getMinimumBalanceForRentExemption(n).then((e=>{i.minimumBalanceForRentExemptionSol=gu(e).toString()})).catch((()=>{}));return await Promise.all([d,f]),await bu(u,pu(Ah,{context:i}),i),await Rp.update((e=>{var t;return{...e,mapInterfaceNameToId:{...(null===(t=e)||void 0===t?void 0:t.mapInterfaceNameToId)??{},[vu]:u}}})),l},[Yl.GetFeeForTransaction]:async({request:e})=>{m(e.params,Fa);const{transaction:t,scope:n}=e.params;try{var r;const e=await Np.base64EncodeTransactionMessageFromBase64EncodedTransaction(t),o={value:(null===(r=await Np.getFeeForMessageInLamports(e,n))||void 0===r?void 0:r.toString())??null};return m(o,Da),o}catch(e){throw nu.error(e),e}}};const Ph=2n**255n-19n,_h=2n**252n+27742317777372353535851937790883648493n,Lh=0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51an,Mh=0x6666666666666666666666666666666666666666666666666666666666666658n,Uh={a:-1n,d:37095705934669439343138083508754565189542113879843219016388785533085940283555n,p:Ph,n:_h,h:8,Gx:Lh,Gy:Mh},zh=(e="")=>{throw new Error(e)},Fh=e=>"string"==typeof e,Dh=(e,t)=>!(e=>e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name)(e)||"number"==typeof t&&t>0&&e.length!==t?zh("Uint8Array of valid length expected"):e,$h=e=>new Uint8Array(e),qh=(e,t)=>Dh(Fh(e)?Yh(e):$h(Dh(e)),t),Wh=(e,t=Ph)=>{let n=e%t;return n>=0n?n:t+n},Gh=e=>e instanceof Vh?e:zh("Point expected");class Vh{constructor(e,t,n,r){this.ex=e,this.ey=t,this.ez=n,this.et=r}static fromAffine(e){return new Vh(e.x,e.y,1n,Wh(e.x*e.y))}static fromHex(e,t=!1){const{d:n}=Uh,r=(e=qh(e,32)).slice(),o=e[31];r[31]=-129&o;const i=Xh(r);!t||0n<=i&&i<2n**256n||zh("bad y coord 1"),t||0n<=i&&i<Ph||zh("bad y coord 2");const a=Wh(i*i),s=Wh(a-1n),c=Wh(n*a+1n);let{isValid:u,value:l}=og(s,c);u||zh("bad y coordinate 3");const d=1n===(1n&l),f=0!=(128&o);return!t&&0n===l&&f&&zh("bad y coord 3"),f!==d&&(l=Wh(-l)),new Vh(l,i,1n,Wh(l*i))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}equals(e){const{ex:t,ey:n,ez:r}=this,{ex:o,ey:i,ez:a}=Gh(e),s=Wh(t*a),c=Wh(o*r),u=Wh(n*a),l=Wh(i*r);return s===c&&u===l}is0(){return this.equals(Hh)}negate(){return new Vh(Wh(-this.ex),this.ey,this.ez,Wh(-this.et))}double(){const{ex:e,ey:t,ez:n}=this,{a:r}=Uh,o=Wh(e*e),i=Wh(t*t),a=Wh(2n*Wh(n*n)),s=Wh(r*o),c=e+t,u=Wh(Wh(c*c)-o-i),l=s+i,d=l-a,f=s-i,p=Wh(u*d),h=Wh(l*f),g=Wh(u*f),m=Wh(d*l);return new Vh(p,h,m,g)}add(e){const{ex:t,ey:n,ez:r,et:o}=this,{ex:i,ey:a,ez:s,et:c}=Gh(e),{a:u,d:l}=Uh,d=Wh(t*i),f=Wh(n*a),p=Wh(o*l*c),h=Wh(r*s),g=Wh((t+n)*(i+a)-d-f),m=Wh(h-p),y=Wh(h+p),v=Wh(f-u*d),w=Wh(g*m),A=Wh(y*v),b=Wh(g*v),S=Wh(m*y);return new Vh(w,A,S,b)}mul(e,t=!0){if(0n===e)return!0===t?zh("cannot multiply by 0"):Hh;if("bigint"==typeof e&&0n<e&&e<_h||zh("invalid scalar, must be < L"),!t&&this.is0()||1n===e)return this;if(this.equals(Kh))return xg(e).p;let n=Hh,r=Kh;for(let o=this;e>0n;o=o.double(),e>>=1n)1n&e?n=n.add(o):t&&(r=r.add(o));return n}multiply(e){return this.mul(e)}clearCofactor(){return this.mul(BigInt(Uh.h),!1)}isSmallOrder(){return this.clearCofactor().is0()}isTorsionFree(){let e=this.mul(_h/2n,!1).double();return _h%2n&&(e=e.add(this)),e.is0()}toAffine(){const{ex:e,ey:t,ez:n}=this;if(this.equals(Hh))return{x:0n,y:1n};const r=tg(n);return 1n!==Wh(n*r)&&zh("invalid inverse"),{x:Wh(e*r),y:Wh(t*r)}}toRawBytes(){const{x:e,y:t}=this.toAffine(),n=Qh(t);return n[31]|=1n&e?128:0,n}toHex(){return Zh(this.toRawBytes())}}Vh.BASE=new Vh(Lh,Mh,1n,Wh(Lh*Mh)),Vh.ZERO=new Vh(0n,1n,1n,0n);const{BASE:Kh,ZERO:Hh}=Vh,Jh=(e,t)=>e.toString(16).padStart(t,"0"),Zh=e=>Array.from(e).map((e=>Jh(e,2))).join(""),Yh=e=>{const t=e.length;(!Fh(e)||t%2)&&zh("hex invalid 1");const n=$h(t/2);for(let t=0;t<n.length;t++){const r=2*t,o=e.slice(r,r+2),i=Number.parseInt(o,16);(Number.isNaN(i)||i<0)&&zh("hex invalid 2"),n[t]=i}return n},Qh=e=>Yh(Jh(e,64)).reverse(),Xh=e=>BigInt("0x"+Zh($h(Dh(e)).reverse())),eg=(...e)=>{const t=$h(e.reduce(((e,t)=>e+Dh(t).length),0));let n=0;return e.forEach((e=>{t.set(e,n),n+=e.length})),t},tg=(e,t=Ph)=>{(0n===e||t<=0n)&&zh("no inverse n="+e+" mod="+t);let n=Wh(e,t),r=t,o=0n,i=1n,a=1n,s=0n;for(;0n!==n;){const e=r/n,t=r%n,c=o-a*e,u=i-s*e;r=n,n=t,o=a,i=s,a=c,s=u}return 1n===r?Wh(o,t):zh("no inverse")},ng=(e,t)=>{let n=e;for(;t-- >0n;)n*=n,n%=Ph;return n},rg=19681161376707505956807079304988542015446066515923890162744021073123829784752n,og=(e,t)=>{const n=Wh(t*t*t),r=(e=>{const t=e*e%Ph*e%Ph,n=ng(t,2n)*t%Ph,r=ng(n,1n)*e%Ph,o=ng(r,5n)*r%Ph,i=ng(o,10n)*o%Ph,a=ng(i,20n)*i%Ph,s=ng(a,40n)*a%Ph,c=ng(s,80n)*s%Ph,u=ng(c,80n)*s%Ph,l=ng(u,10n)*o%Ph;return{pow_p_5_8:ng(l,2n)*e%Ph,b2:t}})(e*Wh(n*n*t)).pow_p_5_8;let o=Wh(e*n*r);const i=Wh(t*o*o),a=o,s=Wh(o*rg),c=i===e,u=i===Wh(-e),l=i===Wh(-e*rg);return c&&(o=a),(u||l)&&(o=s),1n===(1n&Wh(o))&&(o=Wh(-o)),{isValid:c||u,value:o}},ig=e=>Wh(Xh(e),_h);let ag;const sg=(...e)=>Ag.sha512Async(...e),cg=(...e)=>"function"==typeof ag?ag(...e):zh("etc.sha512Sync not set"),ug=e=>{const t=e.slice(0,32);t[0]&=248,t[31]&=127,t[31]|=64;const n=e.slice(32,64),r=ig(t),o=Kh.mul(r),i=o.toRawBytes();return{head:t,prefix:n,scalar:r,point:o,pointBytes:i}},lg=e=>sg(qh(e,32)).then(ug),dg=e=>ug(cg(qh(e,32))),fg=e=>lg(e).then((e=>e.pointBytes));function pg(e,t){return e?sg(t.hashable).then(t.finish):t.finish(cg(t.hashable))}const hg=(e,t,n)=>{const{pointBytes:r,scalar:o}=e,i=ig(t),a=Kh.mul(i).toRawBytes();return{hashable:eg(a,r,n),finish:e=>{const t=Wh(i+ig(e)*o,_h);return Dh(eg(a,Qh(t)),64)}}},gg=async(e,t)=>{const n=qh(e),r=await lg(t),o=await sg(r.prefix,n);return pg(!0,hg(r,o,n))},mg={zip215:!0},yg=(e,t,n,r=mg)=>{t=qh(t),e=qh(e,64);const{zip215:o}=r;let i,a,s,c,u=new Uint8Array;try{i=Vh.fromHex(n,o),a=Vh.fromHex(e.slice(0,32),o),s=Xh(e.slice(32,64)),c=Kh.mul(s,!1),u=eg(a.toRawBytes(),i.toRawBytes(),t)}catch(e){}return{hashable:u,finish:e=>{if(null==c)return!1;if(!o&&i.isSmallOrder())return!1;const t=ig(e);return a.add(i.mul(t,!1)).add(c.negate()).clearCofactor().is0()}}},vg=async(e,t,n,r=mg)=>pg(!0,yg(e,t,n,r)),wg=()=>"object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,Ag={bytesToHex:Zh,hexToBytes:Yh,concatBytes:eg,mod:Wh,invert:tg,randomBytes:(e=32)=>{const t=wg();return t&&t.getRandomValues||zh("crypto.getRandomValues must be defined"),t.getRandomValues($h(e))},sha512Async:async(...e)=>{const t=wg();t&&t.subtle||zh("crypto.subtle or etc.sha512Async must be defined");const n=eg(...e);return $h(await t.subtle.digest("SHA-512",n.buffer))},sha512Sync:void 0};Object.defineProperties(Ag,{sha512Sync:{configurable:!1,get:()=>ag,set(e){ag||(ag=e)}}});const bg={getExtendedPublicKeyAsync:lg,getExtendedPublicKey:dg,randomPrivateKey:()=>Ag.randomBytes(32),precompute:(e=8,t=Kh)=>(t.multiply(3n),t)};let Sg;const xg=e=>{const t=Sg||(Sg=(()=>{const e=[];let t=Kh,n=t;for(let r=0;r<33;r++){n=t,e.push(n);for(let r=1;r<128;r++)n=n.add(t),e.push(n);t=n.double()}return e})()),n=(e,t)=>{let n=t.negate();return e?n:t};let r=Hh,o=Kh;const i=BigInt(255),a=BigInt(8);for(let s=0;s<33;s++){const c=128*s;let u=Number(e&i);e>>=a,u>128&&(u-=256,e+=1n);const l=c,d=c+Math.abs(u)-1,f=s%2!=0,p=u<0;0===u?o=o.add(n(f,t[l])):r=r.add(n(p,t[d]))}return{p:r,f:o}};function Eg(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}var kg=n(1048).hp;const Tg="8d9df0f7-1363-4d2c-8152-ce4ed78f27d8",Ig=[48,46,2,1,0,48,5,6,3,43,101,112,4,34,4,32];function Og(e){return kg.from(e).toString("base64").replace(/\\+/gu,"-").replace(/\\//gu,"_").replace(/[=]/gu,"")}function Bg(e){const t=e.replace(/-/gu,"+").replace(/_/gu,"/");return new Uint8Array(kg.from(t,"base64"))}function Cg(e){return"Ed25519"===e||"object"==typeof e&&"Ed25519"===e.name}function Rg(){const{subtle:e}=globalThis.crypto;Object.defineProperty(globalThis,"isSecureContext",{value:!0,writable:!0,configurable:!0}),Object.defineProperty(e,"generateKey",{value:async(...e)=>Cg(e[0])?await async function(e,t,n){const r=bg.randomPrivateKey(),o=await fg(r),i=Array.from(n);return{privateKey:{algorithm:{name:"Ed25519"},extractable:t,type:"private",usages:i,[Tg]:r},publicKey:{algorithm:{name:"Ed25519"},extractable:!0,type:"public",usages:i,[Tg]:o}}}(...e):await globalThis.crypto.subtle.generateKey(...e),writable:!0,configurable:!0}),Object.defineProperty(e,"exportKey",{value:async(...e)=>Cg(e[1].algorithm)?await async function(e,t){if(!t.extractable)throw new DOMException("key is not extractable","InvalidAccessException");const n=t[Tg];switch(e){case"raw":if("public"!==t.type)throw new DOMException("Unable to export a raw Ed25519 private key","InvalidAccessError");return n.buffer;case"pkcs8":if("private"!==t.type)throw new DOMException("Unable to export a pkcs8 Ed25519 public key","InvalidAccessError");return new Uint8Array([...Ig,...n]).buffer;case"jwk":{const e={crv:"Ed25519",ext:t.extractable,key_ops:t.usages,kty:"OKP"};if("private"===t.type){const t=await fg(n);return Object.freeze({...e,d:Og(n),x:Og(t)})}return Object.freeze({...e,x:Og(n)})}case"spki":{if("public"!==t.type)throw new DOMException("Only public keys can be exported as SPKI","InvalidAccessError");const e=new Uint8Array([48,5,6,3,43,101,112]),r=new Uint8Array([3,n.length+1,0,...n]);return new Uint8Array([48,e.length+r.length,...e,...r]).buffer}default:throw new Error(`Unsupported export format: ${e}`)}}(...e):await globalThis.crypto.subtle.exportKey(...e),writable:!0,configurable:!0}),Object.defineProperty(e,"sign",{value:async(...e)=>{const[t,n]=e;return Cg(t)&&Cg(n.algorithm)?await async function(e,t,n){if("private"!==t.type)throw new DOMException("Key is not private","NotAllowedError");if(!t.usages.includes("sign"))throw new DOMException("Key usage not allowed","NotAllowedError");const r=Eg(n),o=t[Tg],i=function(e){return e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteLength)}(await gg(r,o));return i}(...e):await globalThis.crypto.subtle.sign(...e)},writable:!0,configurable:!0}),Object.defineProperty(e,"verify",{value:async(...e)=>{const[t,n]=e;return Cg(t)&&Cg(n.algorithm)?await async function(e,t,n,r){if("public"!==t.type)throw new DOMException("Key is not public","NotAllowedError");if(!t.usages.includes("verify"))throw new DOMException("Key usage not allowed","NotAllowedError");const o=Eg(n),i=Eg(r),a=t[Tg];return await vg(o,i,a)}(...e):await globalThis.crypto.subtle.verify(...e)},writable:!0,configurable:!0}),Object.defineProperty(e,"importKey",{value:async(...e)=>Cg(e[2])?await async function(e,t,n,r,o){const i=Array.from(o);switch(e){case"raw":{const e=Eg(t);if(32!==e.length)throw new DOMException("Ed25519 raw keys must be exactly 32-bytes","DataError");return{algorithm:{name:"Ed25519"},extractable:r,type:"public",usages:i.filter((e=>"verify"===e)),[Tg]:e}}case"pkcs8":{const e=Eg(t);if(48!==e.length)throw new DOMException("Invalid PKCS8 key data length","DataError");if(!e.slice(0,16).every(((e,t)=>e===Ig[t])))throw new DOMException("Invalid PKCS8 header","DataError");return{algorithm:{name:"Ed25519"},extractable:r,type:"private",usages:i.filter((e=>"sign"===e)),[Tg]:e.slice(16)}}case"jwk":{const e=t;if("OKP"!==e.kty||"Ed25519"!==e.crv)throw new DOMException("Invalid Ed25519 JWK","DataError");const n="d"in e?"private":"public";if("public"===n&&!e.x)throw new DOMException("Ed25519 JWK is missing public key","DataError");if(!("private"!==n||e.d&&e.x))throw new DOMException("Ed25519 JWK is missing key data","DataError");const o="private"===n?e.d:e.x;return{algorithm:{name:"Ed25519"},extractable:r,type:n,usages:i.filter((e=>"private"===n?"sign"===e:"verify"===e)),[Tg]:Bg(o)}}case"spki":{const e=Eg(t);if(48!==e[0])throw new DOMException("Invalid SPKI format","DataError");const n=2;if(48!==e[n]||6!==e[n+2]||3!==e[n+3]||43!==e[n+4]||101!==e[n+5]||112!==e[n+6])throw new DOMException("Not an Ed25519 key","DataError");const r=n+7+2;return{algorithm:{name:"Ed25519"},extractable:!0,type:"public",usages:i.filter((e=>"verify"===e)),[Tg]:e.slice(r)}}default:throw new Error(`Unsupported import format: ${e}`)}}(...e):await globalThis.crypto.subtle.importKey(...e),writable:!0,configurable:!0})}const jg=async e=>Promise.resolve().then(e);Error;function Ng(e){return[ur,mr,Tr,yr,mr,vr,wr,Ar,br,Sr,xr,Er,kr,dr,fr,pr,hr,gr].some((t=>e instanceof t))}const Pg={[Fu.ShowAdvanced]:async function({id:e,context:t}){const n={...t,advanced:{...t.advanced,shown:!t.advanced.shown}};await bu(e,pu(ml,{context:n}),n)},[Fu.Cancel]:async function({id:e}){await Su(e,!1)},[Fu.Confirm]:async function({id:e}){await Su(e,!0)}};var _g=n(4255),Lg=n.n(_g),Mg=n(3804),Ug=n.n(Mg);class zg extends Error{constructor(e="Operation cancelled"){super(e),this.name="CancellationError"}}const Fg=Ug()((async(e,t)=>{try{if(!function(e){const t=Ih(e),n={[ih.SourceAccountSelector]:e.fromAccountId,[ih.AmountInput]:e.amount,[ih.DestinationAccountInput]:e.toAddress},r=Object.entries(t).every((([e,t])=>{const r=n[e];return!!r&&t.every((e=>null===e(r)))})),o=n[ih.AmountInput];if(!o)return!1;const i=null===bh(o,e);return r&&i}(t))return;const n={buildingTransaction:!0,transactionMessage:null,feeEstimatedInSol:null};await bu(e,pu(Ah,{context:{...t,...n}}),{...t,...n});const{feeInLamports:r,base64EncodedTransactionMessage:o}=await(async e=>{const{fromAccountId:t,tokenCaipId:n,scope:r,toAddress:o}=e,i=lh(e),a=await Gp.getAccountOrThrow(t);let s=null;if(s=n===Ta[r].nativeToken.caip19Id?await Pp.buildTransactionMessage(ra(a.address),ra(o),i,r):await _p.buildTransactionMessage(a,ra(o),ra(Ep(n)),i,r),!s)throw new Error("Unable to generate transaction message");return{feeInLamports:await Np.getFeeFromTransactionInLamports(s,r),base64EncodedTransactionMessage:await Np.base64EncodeTransaction(s)}})(t),i={transactionMessage:o,feeEstimatedInSol:r?gu(r).toString():null,buildingTransaction:!1},a=await ku(e);await bu(e,pu(Ah,{context:{...a,...i}}),{...a,...i})}catch(t){const n={error:{title:"send.simulationTitleError",message:"send.simulationMessageError"},transactionMessage:null,feeEstimatedInSol:null,buildingTransaction:!1},r=await ku(e);await bu(e,pu(Ah,{context:{...r,...n}}),{...r,...n})}}),(function(e){const t=(e=>(...t)=>{const n=new AbortController,r=[...t];r.some((e=>e instanceof AbortSignal))||r.push(n.signal);const o=Promise.race([e(...r),new Promise(((e,t)=>{n.signal.addEventListener("abort",(()=>{t(new zg)}))}))]);return o.cancel=()=>n.abort(),o})(e);let n=null;return async(...e)=>{if(n&&"function"==typeof n.cancel){const e="Cancelling previous task";console.warn(e),n.cancel()}const r=t(...e);n=r;try{return await r}finally{n===r&&(n=null)}}}),Lg()(500));const Dg={[ih.BackButton]:async function({id:e}){await Su(e,!1),await Rp.update((e=>{var t,n;return null===(n=e)||void 0===n||(null===(t=n.mapInterfaceNameToId)||void 0===t||delete t[vu]),e}))},[ih.SourceAccountSelector]:async function({id:e,event:t,context:n}){n.fromAccountId=t.value,n.error=null,n.validation[ih.SourceAccountSelector]=Sh(ih.SourceAccountSelector,n.fromAccountId,Ih(n)),n.validation[ih.AmountInput]=bh(n.amount,n),await bu(e,pu(Ah,{context:n}),n),await Fg(e,n)},[ih.AmountInput]:async function({id:e,event:t,context:n}){n.amount=t.value,n.error=null,n.validation[ih.AmountInput]=Sh(ih.AmountInput,n.amount,Ih(n)),n.validation[ih.AmountInput]=n.validation[ih.AmountInput]??bh(n.amount,n),await bu(e,pu(Ah,{context:n}),n),await Fg(e,n)},[ih.AssetSelector]:async function({id:e,event:t,context:n}){n.tokenCaipId=t.value,n.amount="",n.error=null,await bu(e,pu(Ah,{context:n}),n),await Fg(e,n)},[ih.SwapCurrencyButton]:async function({id:e,context:t}){if(t.error=null,t.currencyType=t.currencyType===ah.TOKEN?ah.FIAT:ah.TOKEN,!t.amount)return void await bu(e,pu(Ah,{context:t}),t);const n=Vr(t.amount??"0"),{price:r}=t.tokenPrices[t.tokenCaipId]??{price:0};t.currencyType===ah.TOKEN&&(t.amount=n.dividedBy(r).toString()),t.currencyType===ah.FIAT&&(t.amount=n.multipliedBy(r).toString()),await bu(e,pu(Ah,{context:t}),t)},[ih.MaxAmountButton]:async function({id:e,context:t}){var n,r;const{fromAccountId:o,currencyType:i,balances:a,tokenCaipId:s,scope:c}=t,u={...t},l=(null===(r=a[o])||void 0===r||null===(n=r[s])||void 0===n?void 0:n.amount)??"0";if(s===Ta[c].nativeToken.caip19Id){const e=mu(l).minus(5e3),t=gu(e);u.amount=t.toString()}else u.amount=l;if(i===ah.FIAT){const{price:e}=t.tokenPrices[t.tokenCaipId]??{price:0};u.amount=fl(u.amount,e)}u.error=null,u.validation[ih.AmountInput]=Sh(ih.AmountInput,u.amount,Ih(u)),await bu(e,pu(Ah,{context:u}),u),await Fg(e,u)},[ih.DestinationAccountInput]:async function({id:e,event:t,context:n}){n.toAddress=t.value,n.error=null,n.validation[ih.DestinationAccountInput]=Sh(ih.DestinationAccountInput,n.toAddress,Ih(n)),await bu(e,pu(Ah,{context:n}),n),await Fg(e,n)},[ih.ClearButton]:async function({id:e,context:t}){t.toAddress="",t.error=null,await bu(e,pu(Ah,{context:t}),t)},[ih.CancelButton]:async function({id:e}){await Su(e,!1),await Rp.update((e=>{var t,n;return null===(n=e)||void 0===n||(null===(t=n.mapInterfaceNameToId)||void 0===t||delete t[vu]),e}))},[ih.SendButton]:async function({id:e,context:t}){const n={...t};n.stage="transaction-confirmation",await bu(e,pu(Ah,{context:n}),n);const r=await Vp.getMultipleTokenPrices(t.assets,t.preferences.currency).then((e=>e)).catch((()=>null));r&&(n.tokenPrices=r),await bu(e,pu(Ah,{context:n}),n)}};const $g={[vh.BackButton]:async function({id:e,context:t}){const n={...t,stage:"send-form"};await bu(e,pu(Ah,{context:n}),n)},[vh.CancelButton]:async function({id:e}){await Su(e,!1),await Rp.update((e=>{var t,n;return null===(n=e)||void 0===n||(null===(t=n.mapInterfaceNameToId)||void 0===t||delete t[vu]),e}))},[vh.ConfirmButton]:async function({id:e,context:t}){const{scope:n,fromAccountId:r,feeEstimatedInSol:o,transactionMessage:i}=t;if(t.error=null,!i)return t.stage="send-form",void await bu(e,pu(Ah,{context:t}),t);const a={...t,stage:"send-pending"};await bu(e,pu(Ah,{context:a}),a);let s=null;try{const e=await Gp.getAccountOrThrow(r);s=(await qp.signAndSendTransaction(e,{id:globalThis.crypto.randomUUID(),scope:n,account:r,request:{method:gt.SignAndSendTransaction,params:{transaction:i,scope:n,account:{address:""}}}})).signature}catch(e){nu.error({error:e},"Error submitting request")}const c={...t,stage:s?"transaction-success":"transaction-failure",feePaidInSol:o,transaction:{result:s?"success":"failure",signature:s}};await bu(e,pu(Ah,{context:c}),c)}};Object.defineProperty(globalThis,"DOMException",{value:Error,writable:!0,configurable:!0,enumerable:!0}),Rg(),Object.defineProperty(globalThis,"queueMicrotask",{value:jg,writable:!0,configurable:!0,enumerable:!0}),Vr.config({EXPONENTIAL_AT:16});const qg=async({origin:e,request:t})=>{try{nu.log("[🔄 onRpcRequest]",t.method,t);const{method:n}=t;cd(e,n);const r=Nh[n];if(!r)throw new mr(`RpcRequest method ${n} not found. Available methods: ${Object.values(Yl).toString()}`);return r({origin:e,request:t})}catch(e){let t=e;throw Ng(e)||(t=new ur(e)),nu.error(`onRpcRequest error: ${JSON.stringify(t.toJSON(),null,2)}`),t}},Wg=async({origin:e,request:t})=>{try{return nu.log("[🔑 onKeyringRequest]",t.method,t),cd(e,t.method),await Dt(Gp,t)}catch(e){let n=e;throw Ng(e)||(n=new ur(e)),nu.error(`onKeyringRequest - ${t.method} - Error: ${JSON.stringify(n.toJSON(),null,2)}`),n}},Gg=async({id:e,event:t})=>{if(nu.log("[👇 onUserInput]",e,t),!t.name)return;const n={...Dg,...$g,...Pg}[t.name];if(!n)return;const r=await ku(e);await n({id:e,event:t,context:r,snapContext:Kp})},Vg=async({request:e})=>{nu.log("[⏱️ onCronjob]",e.method,e);const{method:t}=e;m(t,E(Object.values(Bh)));const{locked:n}=await async function(){return await snap.request({method:"snap_getClientStatus"})}();if(n)return Promise.resolve();return(0,Ch[t])({request:e})},Kg=async e=>{const{assets:t}=e;return{assets:await Mp.getTokenMetadataFromAddresses(t)}},Hg=async e=>{const{conversions:t}=e;return{conversionRates:await Vp.getMultipleTokenConversions(t)}},Jg=async({scope:e,request:t})=>{if(m(e,za),t.method===Rh.GetGenesisHash)return m(t,jh),jp.getRpc(e).getGenesisHash().send();throw new Error(`Unsupported method: ${t.method}`)}})();var o=exports;for(var i in r)o[i]=r[i];r.__esModule&&Object.defineProperty(o,"__esModule",{value:!0})})();'},{path:"locales/en.json",value:'{\n  "locale": "en",\n  "messages": {\n    "send.title": {\n      "message": "Send"\n    },\n    "send.balance": {\n      "message": "Balance"\n    },\n    "send.maxButton": {\n      "message": "Max"\n    },\n    "send.cancelButton": {\n      "message": "Cancel"\n    },\n    "send.continueButton": {\n      "message": "Continue"\n    },\n    "send.fromField": {\n      "message": "From"\n    },\n    "send.toField": {\n      "message": "To"\n    },\n    "send.amountField": {\n      "message": "Amount"\n    },\n    "send.assetField": {\n      "message": "Token"\n    },\n    "send.toPlaceholder": {\n      "message": "Enter public address"\n    },\n    "send.fromRequiredError": {\n      "message": "Account is required"\n    },\n    "send.amountRequiredError": {\n      "message": "Amount is required"\n    },\n    "send.amountGreatherThanMinimumBalanceForRentExemptionError": {\n      "message": "Amount must be greater than {minimumValue}"\n    },\n    "send.toRequiredError": {\n      "message": "To address is required"\n    },\n    "send.toInvalidError": {\n      "message": "Invalid Solana address"\n    },\n    "send.insufficientBalance": {\n      "message": "Insufficient balance"\n    },\n    "send.simulationTitleError": {\n      "message": "Transaction simulation failed"\n    },\n    "send.simulationMessageError": {\n      "message": "This transaction was reverted during simulation."\n    },\n    "send.selectedTokenPriceNotAvailable": {\n      "message": "Prices for tokens in {currency} are currently not available. You are still able to send tokens."\n    },\n    "send.confirmation.title": {\n      "message": "Review"\n    },\n    "send.confirmation.from": {\n      "message": "From"\n    },\n    "send.confirmation.recipient": {\n      "message": "Recipient"\n    },\n    "send.confirmation.network": {\n      "message": "Network"\n    },\n    "send.confirmation.transactionSpeed": {\n      "message": "Transaction speed"\n    },\n    "send.confirmation.fee": {\n      "message": "Network fee"\n    },\n    "send.confirmation.sendButton": {\n      "message": "Send"\n    },\n    "send.confirmation.cancelButton": {\n      "message": "Cancel"\n    },\n    "send.confirmation.viewTransaction": {\n      "message": "View transaction"\n    },\n    "send.send-pending.title": {\n      "message": "Sending..."\n    },\n    "send.send-pending.subtitle": {\n      "message": "Your transaction was submitted."\n    },\n    "send.transaction-success.title": {\n      "message": "Sent"\n    },\n    "send.transaction-success.subtitle": {\n      "message": "{amount} {tokenSymbol} was successfully sent"\n    },\n    "send.transaction-failure.title": {\n      "message": "Transaction failed"\n    },\n    "send.transaction-failure.subtitle": {\n      "message": "Unable to send {amount} {tokenSymbol}"\n    },\n    "confirmation.account": {\n      "message": "Account"\n    },\n    "confirmation.network": {\n      "message": "Network"\n    },\n    "confirmation.estimatedChanges": {\n      "message": "Estimated changes"\n    },\n    "confirmation.estimatedChanges.send": {\n      "message": "You send"\n    },\n    "confirmation.estimatedChanges.receive": {\n      "message": "You receive"\n    },\n    "confirmation.estimatedChanges.notAvailable": {\n      "message": "Not available"\n    },\n    "confirmation.estimatedChanges.noChanges": {\n      "message": "No changes"\n    },\n    "confirmation.estimatedChanges.tooltip": {\n      "message": "Estimated changes are what might happen if you go through with this transaction. This is just a prediction, not a guarantee."\n    },\n    "confirmation.advanced.show": {\n      "message": "Show advanced"\n    },\n    "confirmation.advanced.hide": {\n      "message": "Hide advanced"\n    },\n    "confirmation.cancelButton": {\n      "message": "Cancel"\n    },\n    "confirmation.confirmButton": {\n      "message": "Confirm"\n    },\n    "confirmation.title": {\n      "message": "Transaction request"\n    },\n    "confirmation.advanced.unknownInstruction": {\n      "message": "Unknown"\n    },\n    "confirmation.advanced.programId": {\n      "message": "Program ID"\n    },\n    "confirmation.advanced.data": {\n      "message": "Data"\n    },\n    "confirmation.fee": {\n      "message": "Network fee"\n    },\n    "confirmation.feeError": {\n      "message": "Unable to estimate fee"\n    },\n    "confirmation.simulationErrorTitle": {\n      "message": "This transaction was reverted during simulation."\n    },\n    "confirmation.simulationErrorSubtitle": {\n      "message": "Reason: {reason}"\n    },\n    "confirmation.validationErrorTitle": {\n      "message": "This is a deceptive request"\n    },\n    "confirmation.validationErrorSubtitle": {\n      "message": "If you approve this request, a third party known for scams will take all your assets."\n    },\n    "confirmation.validationErrorLearnMore": {\n      "message": "Learn more"\n    },\n    "confirmation.validationErrorSecurityAdviced": {\n      "message": "Security advice by"\n    }\n  }\n}'}],removable:!1,hideSnapBranding:!0}}}},{package:"@metamask/solana-wallet-snap",file:"node_modules/@metamask/solana-wallet-snap/dist/preinstalled-snap.json"}],[2796,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.StructError=void 0;class r extends TypeError{constructor(e,t){let n;const{message:r,explanation:s,...a}=e,{path:i}=e,o=0===i.length?r:`At path: ${i.join(".")} -- ${r}`;super(s??o),null!==s&&s!==undefined&&(this.cause=o),Object.assign(this,a),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...t()])}}n.StructError=r}}},{package:"@metamask/utils>@metamask/superstruct",file:"node_modules/@metamask/superstruct/dist/error.cjs"}],[2797,{"./error.cjs":2796,"./struct.cjs":2798,"./structs/coercions.cjs":2799,"./structs/refinements.cjs":2800,"./structs/types.cjs":2801,"./structs/utilities.cjs":2802},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./error.cjs"),n),s(e("./struct.cjs"),n),s(e("./structs/coercions.cjs"),n),s(e("./structs/refinements.cjs"),n),s(e("./structs/types.cjs"),n),s(e("./structs/utilities.cjs"),n)}}},{package:"@metamask/utils>@metamask/superstruct",file:"node_modules/@metamask/superstruct/dist/index.cjs"}],[2798,{"./error.cjs":2796,"./utils.cjs":2803},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.validate=n.is=n.mask=n.create=n.assert=n.Struct=void 0;const r=e("./error.cjs"),s=e("./utils.cjs");function a(e,t,n){const r=u(e,t,{message:n});if(r[0])throw r[0]}function i(e,t,n){const r=u(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function o(e,t,n){const r=u(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function c(e,t){return!u(e,t)[0]}function u(e,t,n={}){const a=(0,s.run)(e,t,n),i=(0,s.shiftIterator)(a);if(i[0]){return[new r.StructError(i[0],(function*(){for(const e of a)e[0]&&(yield e[0])})),undefined]}const o=i[1];return[undefined,o]}n.Struct=class{constructor(e){const{type:t,schema:n,validator:r,refiner:a,coercer:i=(e=>e),entries:o=function*(){}}=e;this.type=t,this.schema=n,this.entries=o,this.coercer=i,this.validator=r?(e,t)=>{const n=r(e,t);return(0,s.toFailures)(n,t,this,e)}:()=>[],this.refiner=a?(e,t)=>{const n=a(e,t);return(0,s.toFailures)(n,t,this,e)}:()=>[]}assert(e,t){return a(e,this,t)}create(e,t){return i(e,this,t)}is(e){return c(e,this)}mask(e,t){return o(e,this,t)}validate(e,t={}){return u(e,this,t)}},n.assert=a,n.create=i,n.mask=o,n.is=c,n.validate=u}}},{package:"@metamask/utils>@metamask/superstruct",file:"node_modules/@metamask/superstruct/dist/struct.cjs"}],[2799,{"../struct.cjs":2798,"../utils.cjs":2803,"./types.cjs":2801},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.trimmed=n.defaulted=n.coerce=void 0;const r=e("../struct.cjs"),s=e("../utils.cjs"),a=e("./types.cjs");function i(e,t,n){return new r.Struct({...e,coercer:(s,a)=>(0,r.is)(s,t)?e.coercer(n(s,a),a):e.coercer(s,a)})}n.coerce=i,n.defaulted=function(e,t,n={}){return i(e,(0,a.unknown)(),(e=>{const r="function"==typeof t?t():t;if(e===undefined)return r;if(!n.strict&&(0,s.isPlainObject)(e)&&(0,s.isPlainObject)(r)){const t={...e};let n=!1;for(const e in r)t[e]===undefined&&(t[e]=r[e],n=!0);if(n)return t}return e}))},n.trimmed=function(e){return i(e,(0,a.string)(),(e=>e.trim()))}}}},{package:"@metamask/utils>@metamask/superstruct",file:"node_modules/@metamask/superstruct/dist/structs/coercions.cjs"}],[2800,{"../struct.cjs":2798,"../utils.cjs":2803},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.refine=n.size=n.pattern=n.nonempty=n.min=n.max=n.empty=void 0;const r=e("../struct.cjs"),s=e("../utils.cjs");function a(e){return e instanceof Map||e instanceof Set?e.size:e.length}function i(e,t,n){return new r.Struct({...e,*refiner(r,a){yield*e.refiner(r,a);const i=n(r,a),o=(0,s.toFailures)(i,a,e,r);for(const e of o)yield{...e,refinement:t}}})}n.empty=function(e){return i(e,"empty",(t=>{const n=a(t);return 0===n||`Expected an empty ${e.type} but received one with a size of \`${n}\``}))},n.max=function(e,t,n={}){const{exclusive:r}=n;return i(e,"max",(n=>r?n<t:n<=t||`Expected a ${e.type} less than ${r?"":"or equal to "}${t} but received \`${n}\``))},n.min=function(e,t,n={}){const{exclusive:r}=n;return i(e,"min",(n=>r?n>t:n>=t||`Expected a ${e.type} greater than ${r?"":"or equal to "}${t} but received \`${n}\``))},n.nonempty=function(e){return i(e,"nonempty",(t=>a(t)>0||`Expected a nonempty ${e.type} but received an empty one`))},n.pattern=function(e,t){return i(e,"pattern",(n=>t.test(n)||`Expected a ${e.type} matching \`/${t.source}/\` but received "${n}"`))},n.size=function(e,t,n=t){const r=`Expected a ${e.type}`,s=t===n?`of \`${t}\``:`between \`${t}\` and \`${n}\``;return i(e,"size",(e=>{if("number"==typeof e||e instanceof Date)return t<=e&&e<=n||`${r} ${s} but received \`${e}\``;if(e instanceof Map||e instanceof Set){const{size:a}=e;return t<=a&&a<=n||`${r} with a size ${s} but received one with a size of \`${a}\``}const{length:a}=e;return t<=a&&a<=n||`${r} with a length ${s} but received one with a length of \`${a}\``}))},n.refine=i}}},{package:"@metamask/utils>@metamask/superstruct",file:"node_modules/@metamask/superstruct/dist/structs/refinements.cjs"}],[2801,{"../struct.cjs":2798,"../utils.cjs":2803,"./utilities.cjs":2802},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.unknown=n.union=n.type=n.tuple=n.string=n.set=n.regexp=n.record=n.optional=n.object=n.number=n.nullable=n.never=n.map=n.literal=n.intersection=n.integer=n.instance=n.func=n.enums=n.date=n.boolean=n.bigint=n.array=n.any=void 0;const r=e("../struct.cjs"),s=e("../utils.cjs"),a=e("./utilities.cjs");function i(){return(0,a.define)("never",(()=>!1))}n.any=function(){return(0,a.define)("any",(()=>!0))},n.array=function(e){return new r.Struct({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${(0,s.print)(e)}`})},n.bigint=function(){return(0,a.define)("bigint",(e=>"bigint"==typeof e))},n.boolean=function(){return(0,a.define)("boolean",(e=>"boolean"==typeof e))},n.date=function(){return(0,a.define)("date",(e=>e instanceof Date&&!isNaN(e.getTime())||`Expected a valid \`Date\` object, but received: ${(0,s.print)(e)}`))},n.enums=function(e){const t={},n=e.map((e=>(0,s.print)(e))).join();for(const n of e)t[n]=n;return new r.Struct({type:"enums",schema:t,validator:t=>e.includes(t)||`Expected one of \`${n}\`, but received: ${(0,s.print)(t)}`})},n.func=function(){return(0,a.define)("func",(e=>"function"==typeof e||`Expected a function, but received: ${(0,s.print)(e)}`))},n.instance=function(e){return(0,a.define)("instance",(t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${(0,s.print)(t)}`))},n.integer=function(){return(0,a.define)("integer",(e=>"number"==typeof e&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${(0,s.print)(e)}`))},n.intersection=function(e){return new r.Struct({type:"intersection",schema:null,*entries(t,n){for(const{entries:r}of e)yield*r(t,n)},*validator(t,n){for(const{validator:r}of e)yield*r(t,n)},*refiner(t,n){for(const{refiner:r}of e)yield*r(t,n)}})},n.literal=function(e){const t=(0,s.print)(e),n=typeof e;return new r.Struct({type:"literal",schema:"string"===n||"number"===n||"boolean"===n?e:null,validator:n=>n===e||`Expected the literal \`${t}\`, but received: ${(0,s.print)(n)}`})},n.map=function(e,t){return new r.Struct({type:"map",schema:null,*entries(n){if(e&&t&&n instanceof Map)for(const[r,s]of n.entries())yield[r,r,e],yield[r,s,t]},coercer:e=>e instanceof Map?new Map(e):e,validator:e=>e instanceof Map||`Expected a \`Map\` object, but received: ${(0,s.print)(e)}`})},n.never=i,n.nullable=function(e){return new r.Struct({...e,validator:(t,n)=>null===t||e.validator(t,n),refiner:(t,n)=>null===t||e.refiner(t,n)})},n.number=function(){return(0,a.define)("number",(e=>"number"==typeof e&&!isNaN(e)||`Expected a number, but received: ${(0,s.print)(e)}`))},n.object=function(e){const t=e?Object.keys(e):[],n=i();return new r.Struct({type:"object",schema:e??null,*entries(r){if(e&&(0,s.isObject)(r)){const s=new Set(Object.keys(r));for(const n of t)s.delete(n),yield[n,r[n],e[n]];for(const e of s)yield[e,r[e],n]}},validator:e=>(0,s.isObject)(e)||`Expected an object, but received: ${(0,s.print)(e)}`,coercer:e=>(0,s.isObject)(e)?{...e}:e})},n.optional=function(e){return new r.Struct({...e,validator:(t,n)=>t===undefined||e.validator(t,n),refiner:(t,n)=>t===undefined||e.refiner(t,n)})},n.record=function(e,t){return new r.Struct({type:"record",schema:null,*entries(n){if((0,s.isObject)(n))for(const r in n){const s=n[r];yield[r,r,e],yield[r,s,t]}},validator:e=>(0,s.isObject)(e)||`Expected an object, but received: ${(0,s.print)(e)}`})},n.regexp=function(){return(0,a.define)("regexp",(e=>e instanceof RegExp))},n.set=function(e){return new r.Struct({type:"set",schema:null,*entries(t){if(e&&t instanceof Set)for(const n of t)yield[n,n,e]},coercer:e=>e instanceof Set?new Set(e):e,validator:e=>e instanceof Set||`Expected a \`Set\` object, but received: ${(0,s.print)(e)}`})},n.string=function(){return(0,a.define)("string",(e=>"string"==typeof e||`Expected a string, but received: ${(0,s.print)(e)}`))},n.tuple=function(e){const t=i();return new r.Struct({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(e.length,n.length);for(let s=0;s<r;s++)yield[s,n[s],e[s]||t]}},validator:e=>Array.isArray(e)||`Expected an array, but received: ${(0,s.print)(e)}`})},n.type=function(e){const t=Object.keys(e);return new r.Struct({type:"type",schema:e,*entries(n){if((0,s.isObject)(n))for(const r of t)yield[r,n[r],e[r]]},validator:e=>(0,s.isObject)(e)||`Expected an object, but received: ${(0,s.print)(e)}`,coercer:e=>(0,s.isObject)(e)?{...e}:e})},n.union=function(e){const t=e.map((e=>e.type)).join(" | ");return new r.Struct({type:"union",schema:null,coercer(t){for(const n of e){const[e,r]=n.validate(t,{coerce:!0});if(!e)return r}return t},validator(n,r){const a=[];for(const t of e){const[...e]=(0,s.run)(n,t,r),[i]=e;if(!i?.[0])return[];for(const[t]of e)t&&a.push(t)}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${(0,s.print)(n)}`,...a]}})},n.unknown=function(){return(0,a.define)("unknown",(()=>!0))}}}},{package:"@metamask/utils>@metamask/superstruct",file:"node_modules/@metamask/superstruct/dist/structs/types.cjs"}],[2802,{"../struct.cjs":2798,"./types.cjs":2801},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.pick=n.partial=n.omit=n.lazy=n.dynamic=n.deprecated=n.define=n.assign=void 0;const r=e("../struct.cjs"),s=e("./types.cjs");n.assign=function(...e){const t="type"===e[0]?.type,n=e.map((({schema:e})=>e)),r=Object.assign({},...n);return t?(0,s.type)(r):(0,s.object)(r)},n.define=function(e,t){return new r.Struct({type:e,schema:null,validator:t})},n.deprecated=function(e,t){return new r.Struct({...e,refiner:(t,n)=>t===undefined||e.refiner(t,n),validator:(n,r)=>n===undefined||(t(n,r),e.validator(n,r))})},n.dynamic=function(e){return new r.Struct({type:"dynamic",schema:null,*entries(t,n){const r=e(t,n);yield*r.entries(t,n)},validator:(t,n)=>e(t,n).validator(t,n),coercer:(t,n)=>e(t,n).coercer(t,n),refiner:(t,n)=>e(t,n).refiner(t,n)})},n.lazy=function(e){let t;return new r.Struct({type:"lazy",schema:null,*entries(n,r){t??(t=e()),yield*t.entries(n,r)},validator:(n,r)=>(t??(t=e()),t.validator(n,r)),coercer:(n,r)=>(t??(t=e()),t.coercer(n,r)),refiner:(n,r)=>(t??(t=e()),t.refiner(n,r))})},n.omit=function(e,t){const{schema:n}=e,r={...n};for(const e of t)delete r[e];return"type"===e.type?(0,s.type)(r):(0,s.object)(r)},n.partial=function(e){const t=e instanceof r.Struct,n=t?{...e.schema}:{...e};for(const e in n)n[e]=(0,s.optional)(n[e]);return t&&"type"===e.type?(0,s.type)(n):(0,s.object)(n)},n.pick=function(e,t){const{schema:n}=e,r={};for(const e of t)r[e]=n[e];return"type"===e.type?(0,s.type)(r):(0,s.object)(r)}}}},{package:"@metamask/utils>@metamask/superstruct",file:"node_modules/@metamask/superstruct/dist/structs/utilities.cjs"}],[2803,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e){return"object"==typeof e&&null!==e}function s(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function a(e,t,n,r){if(!0===e)return undefined;!1===e?e={}:"string"==typeof e&&(e={message:e});const{path:a,branch:i}=t,{type:o}=n,{refinement:c,message:u=`Expected a value of type \`${o}\`${c?` with refinement \`${c}\``:""}, but received: \`${s(r)}\``}=e;return{value:r,type:o,refinement:c,key:a[a.length-1],path:a,branch:i,...e,message:u}}Object.defineProperty(n,"__esModule",{value:!0}),n.run=n.toFailures=n.toFailure=n.shiftIterator=n.print=n.isPlainObject=n.isObject=void 0,n.isObject=r,n.isPlainObject=function(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;const t=Object.getPrototypeOf(e);return null===t||t===Object.prototype},n.print=s,n.shiftIterator=function(e){const{done:t,value:n}=e.next();return t?undefined:n},n.toFailure=a,n.toFailures=function*(e,t,n,s){(function(e){return r(e)&&"function"==typeof e[Symbol.iterator]})(e)||(e=[e]);for(const r of e){const e=a(r,t,n,s);e&&(yield e)}},n.run=function*e(t,n,s={}){const{path:a=[],branch:i=[t],coerce:o=!1,mask:c=!1}=s,u={path:a,branch:i};if(o&&(t=n.coercer(t,u),c&&"type"!==n.type&&r(n.schema)&&r(t)&&!Array.isArray(t)))for(const e in t)n.schema[e]===undefined&&delete t[e];let l="valid";for(const e of n.validator(t,u))e.explanation=s.message,l="not_valid",yield[e,undefined];for(let[d,m,p]of n.entries(t,u)){const n=e(m,p,{path:d===undefined?a:[...a,d],branch:d===undefined?i:[...i,m],coerce:o,mask:c,message:s.message});for(const e of n)e[0]?(l=null===e[0].refinement||e[0].refinement===undefined?"not_valid":"not_refined",yield[e[0],undefined]):o&&(m=e[1],d===undefined?t=m:t instanceof Map?t.set(d,m):t instanceof Set?t.add(m):r(t)&&(m!==undefined||d in t)&&(t[d]=m))}if("not_valid"!==l)for(const e of n.refiner(t,u))e.explanation=s.message,l="not_refined",yield[e,undefined];"valid"===l&&(yield[undefined,t])}}}},{package:"@metamask/utils>@metamask/superstruct",file:"node_modules/@metamask/superstruct/dist/utils.cjs"}],[2804,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createEventEmitterProxy=void 0;const r=()=>!0,s=["newListener","removeListener"],a=e=>!s.includes(e);n.createEventEmitterProxy=function(e,{eventFilter:t=r}={}){const n="skipInternal"===t?a:t;if("function"!=typeof n)throw new Error("createEventEmitterProxy - Invalid eventFilter");let s=[],i=e,o=e=>{const t=i;i=e,s.forEach((({name:n,handler:r,addedWith:s,filtered:a})=>{a||e[s](n,r),t.off(n,r)}))};const c=(e,t)=>{s=s.filter((n=>e!==n.name||t!==n.handler&&t!==n.unwrappedHandler))};return new Proxy(i,{get(e,t,r){if("setTarget"===t)return o;const a=i[t];return"function"==typeof a?function(...e){const o=e[1];if("once"===t){const t=(...n)=>(c(e[0],t),o(...n));e[1]=t}if("on"===t||"addListener"===t||"prependListener"===t||"once"===t)s.push({addedWith:t,name:e[0],unwrappedHandler:o,handler:e[1],filtered:!n(e[0])});else if("off"===t||"removeListener"===t){const t=s.find((({name:t,unwrappedHandler:n})=>t===e[0]&&n===e[1]));if(t===undefined)return i;c(e[0],e[1]),e[1]=t.handler}return a.apply(this===r?i:this,e)}:a},set:(e,t,n)=>"setTarget"===t?(o=n,!0):(i[t]=n,!0)})}}}},{package:"@metamask/network-controller>@metamask/swappable-obj-proxy",file:"node_modules/@metamask/swappable-obj-proxy/dist/createEventEmitterProxy.js"}],[2805,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createSwappableProxy=void 0,n.createSwappableProxy=function(e){let t=e,n=e=>{t=e};return new Proxy(t,{get(e,r,s){if("setTarget"===r)return n;const a=t[r];return a instanceof Function?function(...e){return a.apply(this===s?t:this,e)}:a},set:(e,r,s)=>"setTarget"===r?(n=s,!0):(t[r]=s,!0)})}}}},{package:"@metamask/network-controller>@metamask/swappable-obj-proxy",file:"node_modules/@metamask/swappable-obj-proxy/dist/createSwappableProxy.js"}],[2806,{"./createEventEmitterProxy":2804,"./createSwappableProxy":2805,"./types":2807},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./createEventEmitterProxy"),n),s(e("./createSwappableProxy"),n),s(e("./types"),n)}}},{package:"@metamask/network-controller>@metamask/swappable-obj-proxy",file:"node_modules/@metamask/swappable-obj-proxy/dist/index.js"}],[2807,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/network-controller>@metamask/swappable-obj-proxy",file:"node_modules/@metamask/swappable-obj-proxy/dist/types.js"}],[2809,{"./api/accounts-api.cjs":2810,"./gas-flows/DefaultGasFeeFlow.cjs":2813,"./gas-flows/LineaGasFeeFlow.cjs":2814,"./gas-flows/OptimismLayer1GasFeeFlow.cjs":2815,"./gas-flows/ScrollLayer1GasFeeFlow.cjs":2817,"./gas-flows/TestGasFeeFlow.cjs":2818,"./helpers/AccountsApiRemoteTransactionSource.cjs":2819,"./helpers/GasFeePoller.cjs":2820,"./helpers/IncomingTransactionHelper.cjs":2821,"./helpers/MethodDataHelper.cjs":2822,"./helpers/MultichainTrackingHelper.cjs":2823,"./helpers/PendingTransactionTracker.cjs":2824,"./logger.cjs":2827,"./types.cjs":2828,"./utils/external-transactions.cjs":2829,"./utils/gas-fees.cjs":2830,"./utils/gas-flow.cjs":2831,"./utils/gas.cjs":2832,"./utils/history.cjs":2833,"./utils/layer1-gas-fee-flow.cjs":2834,"./utils/nonce.cjs":2835,"./utils/resimulate.cjs":2836,"./utils/retry.cjs":2837,"./utils/simulation.cjs":2839,"./utils/swaps.cjs":2840,"./utils/transaction-type.cjs":2841,"./utils/utils.cjs":2842,"./utils/validation.cjs":2843,"@ethereumjs/common":513,"@ethereumjs/tx":521,"@ethereumjs/util":533,"@metamask/base-controller":2848,"@metamask/controller-utils":1509,"@metamask/eth-query":1688,"@metamask/network-controller":2079,"@metamask/nonce-tracker":2109,"@metamask/rpc-errors":2336,"@metamask/utils":2872,"async-mutex":3830,events:4267,lodash:4787,uuid:5595},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,s,a,i,o,c,u,l,d,m,p,h,f,g,y,b,x,v,S,w,k,T,E,A,j,C,P,_,I,O,R,N,B,M,L=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},F=this&&this.__classPrivateFieldSet||function(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n},D=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.TransactionController=n.ApprovalState=n.SPEED_UP_RATE=n.CANCEL_RATE=n.HARDFORK=void 0;const U=e("@ethereumjs/common"),G=e("@ethereumjs/tx"),$=e("@ethereumjs/util"),H=e("@metamask/base-controller"),z=e("@metamask/controller-utils"),V=D(e("@metamask/eth-query")),W=e("@metamask/network-controller"),q=e("@metamask/nonce-tracker"),J=e("@metamask/rpc-errors"),K=e("@metamask/utils"),X=e("async-mutex"),Y=e("events"),Z=e("lodash"),Q=e("uuid"),ee=e("./api/accounts-api.cjs"),te=e("./gas-flows/DefaultGasFeeFlow.cjs"),ne=e("./gas-flows/LineaGasFeeFlow.cjs"),re=e("./gas-flows/OptimismLayer1GasFeeFlow.cjs"),se=e("./gas-flows/ScrollLayer1GasFeeFlow.cjs"),ae=e("./gas-flows/TestGasFeeFlow.cjs"),ie=e("./helpers/AccountsApiRemoteTransactionSource.cjs"),oe=e("./helpers/GasFeePoller.cjs"),ce=e("./helpers/IncomingTransactionHelper.cjs"),ue=e("./helpers/MethodDataHelper.cjs"),le=e("./helpers/MultichainTrackingHelper.cjs"),de=e("./helpers/PendingTransactionTracker.cjs"),me=e("./logger.cjs"),pe=e("./types.cjs"),he=e("./utils/external-transactions.cjs"),fe=e("./utils/gas.cjs"),ge=e("./utils/gas-fees.cjs"),ye=e("./utils/gas-flow.cjs"),be=e("./utils/history.cjs"),xe=e("./utils/layer1-gas-fee-flow.cjs"),ve=e("./utils/nonce.cjs"),Se=e("./utils/resimulate.cjs"),we=e("./utils/retry.cjs"),ke=e("./utils/simulation.cjs"),Te=e("./utils/swaps.cjs"),Ee=e("./utils/transaction-type.cjs"),Ae=e("./utils/utils.cjs"),je=e("./utils/validation.cjs"),Ce={transactions:{persist:!0,anonymous:!1},methodData:{persist:!0,anonymous:!1},lastFetchedBlockNumbers:{persist:!0,anonymous:!1},submitHistory:{persist:!0,anonymous:!1}};n.HARDFORK=U.Hardfork.London;n.CANCEL_RATE=1.1,n.SPEED_UP_RATE=1.1;const Pe="TransactionController";var _e;!function(e){e.Approved="approved",e.NotApproved="not-approved",e.SkippedViaBeforePublishHook="skipped-via-before-publish-hook"}(_e||(n.ApprovalState=_e={}));class Ie extends H.BaseController{failTransaction(e,t,n){let a;try{a=L(this,r,"m",I).call(this,{transactionId:e.id,note:"TransactionController#failTransaction - Add error message and set status to failed",skipValidation:!0},(e=>{e.status=pe.TransactionStatus.failed,e.error=(0,Ae.normalizeTxError)(t)}))}catch(n){(0,me.projectLogger)("Failed to mark transaction as failed",n),a={...e,status:pe.TransactionStatus.failed,error:(0,Ae.normalizeTxError)(t)}}this.messagingSystem.publish(`${Pe}:transactionFailed`,{actionId:n,error:t.message,transactionMeta:a}),this.onTransactionStatusChange(a),this.messagingSystem.publish(`${Pe}:transactionFinished`,a),L(this,s,"f").emit(`${e.id}:finished`,a)}constructor({disableHistory:e,disableSendFlowHistory:t,disableSwaps:n,getCurrentAccountEIP1559Compatibility:g,getCurrentNetworkEIP1559Compatibility:y,getExternalPendingTransactions:b,getGasFeeEstimates:x,getNetworkClientRegistry:T,getNetworkState:j,getPermittedAccounts:C,getSavedGasFees:I,incomingTransactions:O={},isFirstTimeInteractionEnabled:R,isSimulationEnabled:M,messenger:D,pendingTransactions:U={},securityProviderRequest:G,sign:$,state:H,testGasFeeFlows:z,trace:V,transactionHistoryLimit:W=40,hooks:q}){super({name:Pe,metadata:Ce,messenger:D,state:{methodData:{},transactions:[],lastFetchedBlockNumbers:{},submitHistory:[],...H}}),r.add(this),s.set(this,new Y.EventEmitter),this.approvingTransactionIds=new Set,a.set(this,void 0),this.mutex=new X.Mutex,i.set(this,new Set),o.set(this,void 0),c.set(this,void 0),u.set(this,void 0),this.signAbortCallbacks=new Map,l.set(this,void 0),d.set(this,void 0),m.set(this,void 0),p.set(this,void 0),h.set(this,void 0),f.set(this,void 0),k.set(this,(()=>{L(this,f,"f").checkForPendingTransactionAndStartPolling()})),this.messagingSystem=D,this.getNetworkState=j,this.isSendFlowHistoryDisabled=t??!1,this.isHistoryDisabled=e??!1,this.isSwapsDisabled=n??!1,F(this,m,R??(()=>!0),"f"),F(this,p,M??(()=>!0),"f"),this.getSavedGasFees=I??(e=>undefined),this.getCurrentAccountEIP1559Compatibility=g??(()=>Promise.resolve(!0)),this.getCurrentNetworkEIP1559Compatibility=y,this.getGasFeeEstimates=x||(()=>Promise.resolve({})),this.getPermittedAccounts=C,this.getExternalPendingTransactions=b??(()=>[]),this.securityProviderRequest=G,F(this,c,O,"f"),F(this,u,U,"f"),F(this,d,W,"f"),this.sign=$,F(this,h,!0===z,"f"),F(this,l,V??((e,t)=>t?.()),"f"),this.afterSign=q?.afterSign??(()=>!0),this.beforeCheckPendingTransaction=q?.beforeCheckPendingTransaction??(()=>!0),this.beforePublish=q?.beforePublish??(()=>!0),this.getAdditionalSignArguments=q?.getAdditionalSignArguments??(()=>[]),this.publish=q?.publish??(()=>Promise.resolve({transactionHash:undefined}));const J=e=>this.messagingSystem.call("NetworkController:findNetworkClientIdByChainId",e);F(this,f,new le.MultichainTrackingHelper({findNetworkClientIdByChainId:J,getNetworkClientById:e=>this.messagingSystem.call("NetworkController:getNetworkClientById",e),getNetworkClientRegistry:T,removePendingTransactionTrackerListeners:L(this,r,"m",A).bind(this),createNonceTracker:L(this,r,"m",S).bind(this),createPendingTransactionTracker:L(this,r,"m",w).bind(this),onNetworkStateChange:e=>{this.messagingSystem.subscribe("NetworkController:stateChange",e)}}),"f"),L(this,f,"f").initialize(),this.gasFeeFlows=L(this,r,"m",P).call(this),this.layer1GasFeeFlows=L(this,r,"m",_).call(this);new oe.GasFeePoller({findNetworkClientIdByChainId:J,gasFeeFlows:this.gasFeeFlows,getGasFeeControllerEstimates:this.getGasFeeEstimates,getProvider:e=>L(this,r,"m",v).call(this,{networkClientId:e}),getTransactions:()=>this.state.transactions,layer1GasFeeFlows:this.layer1GasFeeFlows,onStateChange:e=>{this.messagingSystem.subscribe("TransactionController:stateChange",e)}}).hub.on("transaction-updated",L(this,r,"m",N).bind(this)),F(this,a,new ue.MethodDataHelper({getProvider:e=>L(this,r,"m",v).call(this,{networkClientId:e}),getState:()=>this.state.methodData}),"f"),L(this,a,"f").hub.on("update",(({fourBytePrefix:e,methodData:t})=>{this.update((n=>{n.methodData[e]=t}))}));F(this,o,new ce.IncomingTransactionHelper({getCache:()=>this.state.lastFetchedBlockNumbers,getChainIds:()=>[...L(this,i,"f")],getCurrentAccount:()=>L(this,r,"m",B).call(this),getLocalTransactions:()=>this.state.transactions,includeTokenTransfers:L(this,c,"f").includeTokenTransfers,isEnabled:L(this,c,"f").isEnabled,queryEntireHistory:L(this,c,"f").queryEntireHistory,remoteTransactionSource:new ie.AccountsApiRemoteTransactionSource,trimTransactions:this.trimTransactionsForState.bind(this),updateCache:e=>{this.update((t=>{e(t.lastFetchedBlockNumbers)}))},updateTransactions:L(this,c,"f").updateTransactions}),"f"),L(this,r,"m",E).call(this,L(this,o,"f")),this.messagingSystem.subscribe("TransactionController:stateChange",L(this,k,"f")),this.onBootCleanup(),L(this,k,"f").call(this)}destroy(){L(this,r,"m",T).call(this)}async handleMethodData(e,t){return L(this,a,"f").lookup(e,t)}async addTransaction(e,t){(0,me.projectLogger)("Adding transaction",e,t);const{actionId:n,deviceConfirmedOn:s,method:a,networkClientId:i,origin:o,requireApproval:c,securityAlertResponse:u,sendFlowHistory:d,swaps:m={},traceContext:p,type:h}=t;if(e=(0,Ae.normalizeTransactionParams)(e),!L(this,f,"f").has(i))throw new Error(`Network client not found - ${i}`);const g=await this.getEIP1559Compatibility(i);(0,je.validateTxParams)(e,g),o&&this.getPermittedAccounts&&await(0,je.validateTransactionOrigin)(await this.getPermittedAccounts(o),L(this,r,"m",B).call(this).address,e.from,o);const b=this.generateDappSuggestedGasFees(e,o),v=L(this,r,"m",y).call(this,i),S=L(this,r,"m",x).call(this,{networkClientId:i}),w=h??(await(0,Ee.determineTransactionType)(e,S)).type,k=this.getTransactionWithActionId(n);let T=k?(0,Z.cloneDeep)(k):{actionId:n,chainId:v,dappSuggestedGasFees:b,deviceConfirmedOn:s,id:(0,Q.v1)(),isFirstTimeInteraction:undefined,networkClientId:i,origin:o,securityAlertResponse:u,status:pe.TransactionStatus.unapproved,time:Date.now(),txParams:e,type:w,userEditedGasLimit:!1,verifiedOnBlockchain:!1};if(await L(this,l,"f").call(this,{name:"Estimate Gas Properties",parentContext:p},(e=>this.updateGasProperties(T,{traceContext:e}))),!k){if(a&&this.securityProviderRequest){const e=await this.securityProviderRequest(T,a);T.securityProviderResponse=e}this.isSendFlowHistoryDisabled||(T.sendFlowHistory=d??[]),this.isHistoryDisabled||(T=(0,be.addInitialHistorySnapshot)(T)),T=(0,Te.updateSwapsTransaction)(T,w,m,{isSwapsDisabled:this.isSwapsDisabled,cancelTransaction:this.cancelTransaction.bind(this),messenger:this.messagingSystem}),this.addMetadata(T),!1!==c?(L(this,r,"m",R).call(this,T,{traceContext:p}).catch((e=>{throw(0,me.projectLogger)("Error while updating simulation data",e),e})),L(this,r,"m",O).call(this,T,{traceContext:p}).catch((e=>{(0,me.projectLogger)("Error while updating first interaction properties",e)}))):(0,me.projectLogger)("Skipping simulation & first interaction update as approval not required"),this.messagingSystem.publish(`${Pe}:unapprovedTransactionAdded`,T)}return{result:this.processApproval(T,{isExisting:Boolean(k),requireApproval:c,actionId:n,traceContext:p}),transactionMeta:T}}startIncomingTransactionPolling(e){e.forEach((e=>L(this,i,"f").add(e))),L(this,o,"f").start()}stopIncomingTransactionPolling(e){e?.forEach((e=>L(this,i,"f").delete(e))),e||L(this,i,"f").clear(),0===L(this,i,"f").size&&L(this,o,"f").stop()}async updateIncomingTransactions(e){e.forEach((e=>L(this,i,"f").add(e))),await L(this,o,"f").update()}async stopTransaction(e,t,{estimatedBaseFee:a,actionId:i}={}){return await L(this,r,"m",g).call(this,{actionId:i,estimatedBaseFee:a,gasValues:t,label:"cancel",rate:n.CANCEL_RATE,transactionId:e,transactionType:pe.TransactionType.cancel,prepareTransactionParams:e=>{delete e.data,e.to=e.from,e.value="0x0"},afterSubmit:e=>{this.messagingSystem.publish(`${Pe}:transactionFinished`,e),L(this,s,"f").emit(`${e.id}:finished`,e)}})}async speedUpTransaction(e,t,{actionId:s,estimatedBaseFee:a}={}){return await L(this,r,"m",g).call(this,{actionId:s,estimatedBaseFee:a,gasValues:t,label:"speed up",rate:n.SPEED_UP_RATE,transactionId:e,transactionType:pe.TransactionType.retry,afterSubmit:e=>{this.messagingSystem.publish(`${Pe}:speedupTransactionAdded`,e)}})}async estimateGas(e,t){const n=L(this,r,"m",x).call(this,{networkClientId:t}),{estimatedGas:s,simulationFails:a}=await(0,fe.estimateGas)(e,n);return{gas:s,simulationFails:a}}async estimateGasBuffered(e,t,n){const s=L(this,r,"m",x).call(this,{networkClientId:n}),{blockGasLimit:a,estimatedGas:i,simulationFails:o}=await(0,fe.estimateGas)(e,s);return{gas:(0,fe.addGasBuffer)(i,a,t),simulationFails:o}}updateTransaction(e,t){const{id:n}=e;L(this,r,"m",I).call(this,{transactionId:n,note:t},(()=>({...e})))}updateSecurityAlertResponse(e,t){if(!t)throw new Error("updateSecurityAlertResponse: securityAlertResponse should not be null");const n=this.getTransaction(e);if(!n)throw new Error("Cannot update security alert response as no transaction metadata found");const r={...n,securityAlertResponse:t};this.updateTransaction(r,`${Pe}:updatesecurityAlertResponse - securityAlertResponse updated`)}wipeTransactions({address:e,chainId:t}={}){if(!t&&!e)return void this.update((e=>{e.transactions=[]}));const n=this.state.transactions.filter((({chainId:n,txParams:r})=>{if(!(!t||t===n))return!0;return!(!e||r.from?.toLowerCase()===e.toLowerCase())}));this.update((e=>{e.transactions=this.trimTransactionsForState(n)}))}async confirmExternalTransaction(e,t,n){const r=this.addExternalTransaction(e);try{const e=r.id,s={...r,status:pe.TransactionStatus.confirmed,txReceipt:t};n&&(s.baseFeePerGas=n),this.markNonceDuplicatesDropped(e),this.updateTransaction(s,`${Pe}:confirmExternalTransaction - Add external transaction`),this.onTransactionStatusChange(s),this.updatePostBalance(s).catch((e=>{throw(0,me.projectLogger)("Error while updating post balance",e),e})),this.messagingSystem.publish(`${Pe}:transactionConfirmed`,s)}catch(e){console.error("Failed to confirm external transaction",e)}}updateTransactionSendFlowHistory(e,t,n){if(this.isSendFlowHistoryDisabled)throw new Error("Send flow history is disabled for the current transaction controller");const r=this.getTransaction(e);if(!r)throw new Error("Cannot update send flow history as no transaction metadata found");(0,Ae.validateIfTransactionUnapproved)(r,"updateTransactionSendFlowHistory");const s=r.sendFlowHistory??[];if(t===s.length){const e={...r,sendFlowHistory:[...s,...n]};this.updateTransaction(e,`${Pe}:updateTransactionSendFlowHistory - sendFlowHistory updated`)}return this.getTransaction(e)}updateTransactionGasFees(e,{defaultGasEstimates:t,estimateUsed:n,estimateSuggested:r,gas:s,gasLimit:a,gasPrice:i,maxPriorityFeePerGas:o,maxFeePerGas:c,originalGasEstimate:u,userEditedGasLimit:l,userFeeLevel:d}){const m=this.getTransaction(e);if(!m)throw new Error("Cannot update transaction as no transaction metadata found");(0,Ae.validateIfTransactionUnapproved)(m,"updateTransactionGasFees");let p={txParams:{gas:s,gasLimit:a,gasPrice:i,maxPriorityFeePerGas:o,maxFeePerGas:c},defaultGasEstimates:t,estimateUsed:n,estimateSuggested:r,originalGasEstimate:u,userEditedGasLimit:l,userFeeLevel:d};p.txParams=(0,Z.pickBy)(p.txParams),p=(0,Z.pickBy)(p);const h=(0,Z.merge)({},m,p);return this.updateTransaction(h,`${Pe}:updateTransactionGasFees - gas values updated`),this.getTransaction(e)}updatePreviousGasParams(e,{gasLimit:t,maxFeePerGas:n,maxPriorityFeePerGas:r}){const s=this.getTransaction(e);if(!s)throw new Error("Cannot update transaction as no transaction metadata found");(0,Ae.validateIfTransactionUnapproved)(s,"updatePreviousGasParams");const a={previousGas:{gasLimit:t,maxFeePerGas:n,maxPriorityFeePerGas:r}};a.previousGas=(0,Z.pickBy)(a.previousGas);const i=(0,Z.merge)({},s,a);return this.updateTransaction(i,`${Pe}:updatePreviousGasParams - Previous gas values updated`),this.getTransaction(e)}async getNonceLock(e,t){return L(this,f,"f").getNonceLock(e,t)}async updateEditableParams(e,{data:t,gas:n,gasPrice:s,from:a,to:i,value:o}){const c=this.getTransaction(e);if(!c)throw new Error("Cannot update editable params as no transaction metadata found");(0,Ae.validateIfTransactionUnapproved)(c,"updateEditableParams");const u={txParams:{data:t,from:a,to:i,value:o,gas:n,gasPrice:s}};u.txParams=(0,Z.pickBy)(u.txParams);const l=(0,Z.merge)({},c,u),{networkClientId:d}=c,m=L(this,r,"m",v).call(this,{networkClientId:d}),p=new V.default(m),{type:h}=await(0,Ee.determineTransactionType)(l.txParams,p);return l.type=h,await(0,xe.updateTransactionLayer1GasFee)({layer1GasFeeFlows:this.layer1GasFeeFlows,provider:m,transactionMeta:l}),this.updateTransaction(l,`Update Editable Params for ${e}`),this.getTransaction(e)}async approveTransactionsWithSameNonce(e=[],{hasNonce:t}={}){if((0,me.projectLogger)("Approving transactions with same nonce",{transactions:e}),0===e.length)return"";const n=e[0],{chainId:s}=n,a=this.getCommonConfiguration(s),i=L(this,r,"m",b).call(this,{chainId:s}),o=G.TransactionFactory.fromTxData(n,{common:a}),c=(0,$.bufferToHex)(o.serialize());if(this.approvingTransactionIds.has(c))return"";let u,l;this.approvingTransactionIds.add(c);try{const r=n.from;l=!0!==t?await this.getNonceLock(r,i):undefined;const s=l?(0,K.add0x)(l.nextNonce.toString(16)):n.nonce;l&&(0,me.projectLogger)("Using nonce from nonce tracker",s,l.nonceDetails),u=await Promise.all(e.map((e=>(e.nonce=s,this.signExternalTransaction(e.chainId,e)))))}catch(e){throw(0,me.projectLogger)("Error while signing transactions with same nonce",e),e}finally{l?.releaseLock(),this.approvingTransactionIds.delete(c)}return u}updateCustodialTransaction(e,{errorMessage:t,hash:n,status:r}){const a=this.getTransaction(e);if(!a)throw new Error("Cannot update custodial transaction as no transaction metadata found");if(!a.custodyId)throw new Error("Transaction must be a custodian transaction");if(r&&![pe.TransactionStatus.submitted,pe.TransactionStatus.signed,pe.TransactionStatus.failed].includes(r))throw new Error(`Cannot update custodial transaction with status: ${r}`);const i=(0,Z.merge)({},a,(0,Z.pickBy)({hash:n,status:r}));i.status===pe.TransactionStatus.submitted&&(i.submittedTime=(new Date).getTime()),i.status===pe.TransactionStatus.failed&&(i.error=(0,Ae.normalizeTxError)(new Error(t))),this.updateTransaction(i,`${Pe}:updateCustodialTransaction - Custodial transaction updated`),[pe.TransactionStatus.submitted,pe.TransactionStatus.failed].includes(r)&&(this.messagingSystem.publish(`${Pe}:transactionFinished`,i),L(this,s,"f").emit(`${i.id}:finished`,i))}getTransactions({initialList:e,limit:t,searchCriteria:n={}}={}){const r=(0,Z.mapValues)(n,(e=>"function"==typeof e?e:t=>t===e)),s=e??this.state.transactions,a=(0,Z.sortBy)((0,Z.pickBy)(s,(e=>{for(const[t,n]of Object.entries(r))if(t in e.txParams){if(!1===n(e.txParams[t]))return!1}else if(!1===n(e[t]))return!1;return!0})),"time");if(t!==undefined){const e=new Set,n=[];for(let r=a.length-1;r>-1;r--){const s=a[r],{nonce:i}=s.txParams;if(!e.has(i)){if(!(e.size<t))continue;e.add(i)}n.unshift(s)}return n}return a}async estimateGasFee({transactionParams:e,chainId:t,networkClientId:n}){const{id:r,provider:s}=L(this,f,"f").getNetworkClient({chainId:t,networkClientId:n}),a={txParams:e,chainId:t,networkClientId:r},i=(0,ye.getGasFeeFlow)(a,this.gasFeeFlows),o=new V.default(s),c=await this.getGasFeeEstimates({networkClientId:r});return i.getGasFees({ethQuery:o,gasFeeControllerData:c,transactionMeta:a})}async getLayer1GasFee({transactionParams:e,chainId:t,networkClientId:n}){const s=L(this,r,"m",v).call(this,{chainId:t,networkClientId:n});return await(0,xe.getTransactionLayer1GasFee)({layer1GasFeeFlows:this.layer1GasFeeFlows,provider:s,transactionMeta:{txParams:e,chainId:t}})}async signExternalTransaction(e,t){if(!this.sign)throw new Error("No sign method defined.");const n=(0,Ae.normalizeTransactionParams)(t),r=(0,Ae.isEIP1559Transaction)(n)?pe.TransactionEnvelopeType.feeMarket:pe.TransactionEnvelopeType.legacy,s={...n,type:r,gasLimit:n.gas,chainId:e},{from:a}=s,i=this.getCommonConfiguration(e),o=G.TransactionFactory.fromTxData(s,{common:i}),c=await this.sign(o,a);return(0,$.bufferToHex)(c.serialize())}clearUnapprovedTransactions(){const e=this.state.transactions.filter((({status:e})=>e!==pe.TransactionStatus.unapproved));this.update((t=>{t.transactions=this.trimTransactionsForState(e)}))}abortTransactionSigning(e){if(!this.getTransaction(e))throw new Error("Cannot abort signing as no transaction metadata found");const t=this.signAbortCallbacks.get(e);if(!t)throw new Error("Cannot abort signing as transaction is not waiting for signing");t(),this.signAbortCallbacks.delete(e)}addMetadata(e){(0,je.validateTxParams)(e.txParams),this.update((t=>{t.transactions=this.trimTransactionsForState([...t.transactions,e])}))}async updateGasProperties(e,{traceContext:t}={}){const n=e.txParams.type!==pe.TransactionEnvelopeType.legacy&&await this.getEIP1559Compatibility(e.networkClientId),{networkClientId:s,chainId:a}=e,i=L(this,f,"f").getNetworkClient({networkClientId:s}).configuration.type===W.NetworkClientType.Custom,o=L(this,r,"m",x).call(this,{networkClientId:s}),c=L(this,r,"m",v).call(this,{networkClientId:s});await L(this,l,"f").call(this,{name:"Update Gas",parentContext:t},(async()=>{await(0,fe.updateGas)({ethQuery:o,chainId:a,isCustomNetwork:i,txMeta:e})})),await L(this,l,"f").call(this,{name:"Update Gas Fees",parentContext:t},(async()=>await(0,ge.updateGasFees)({eip1559:n,ethQuery:o,gasFeeFlows:this.gasFeeFlows,getGasFeeEstimates:this.getGasFeeEstimates,getSavedGasFees:this.getSavedGasFees.bind(this),txMeta:e}))),await L(this,l,"f").call(this,{name:"Update Layer 1 Gas Fees",parentContext:t},(async()=>await(0,xe.updateTransactionLayer1GasFee)({layer1GasFeeFlows:this.layer1GasFeeFlows,provider:c,transactionMeta:e})))}onBootCleanup(){this.clearUnapprovedTransactions(),this.failIncompleteTransactions()}failIncompleteTransactions(){const e=this.state.transactions.filter((e=>[pe.TransactionStatus.approved,pe.TransactionStatus.signed].includes(e.status)));for(const t of e)this.failTransaction(t,new Error("Transaction incomplete at startup"))}async processApproval(e,{isExisting:t=!1,requireApproval:n,shouldShowRequest:r=!0,actionId:s,traceContext:a}){const i=e.id;let o;const{meta:c,isCompleted:u}=this.isTransactionCompleted(i),d=u?Promise.resolve(c):this.waitForTransactionFinished(i);if(c&&!t&&!u)try{if(!1!==n){const t=await L(this,l,"f").call(this,{name:"Await Approval",parentContext:a},(t=>this.requestApproval(e,{shouldShowRequest:r,traceContext:t})));o=t.resultCallbacks;const n=t.value,s=n?.txMeta;s&&((0,me.projectLogger)("Updating transaction with approval data",{customNonce:s.customNonceValue,params:s.txParams}),this.updateTransaction(s,"TransactionController#processApproval - Updated with approval data"))}const{isCompleted:t}=this.isTransactionCompleted(i);if(!t){await this.approveTransaction(i,a)===_e.SkippedViaBeforePublishHook&&o&&o.success();const e=this.getTransaction(i);this.messagingSystem.publish(`${Pe}:transactionApproved`,{transactionMeta:e,actionId:s})}}catch(e){const{isCompleted:t}=this.isTransactionCompleted(i);if(!t){if(e?.code===J.errorCodes.provider.userRejectedRequest)throw this.cancelTransaction(i,s),J.providerErrors.userRejectedRequest({message:"MetaMask Tx Signature: User denied transaction signature.",data:e?.data});this.failTransaction(c,e,s)}}const m=await d;switch(m?.status){case pe.TransactionStatus.failed:throw o?.error(m.error),J.rpcErrors.internal(m.error.message);case pe.TransactionStatus.submitted:return o?.success(),m.hash;default:const e=J.rpcErrors.internal(`MetaMask Tx Signature: Unknown problem: ${JSON.stringify(m||i)}`);throw o?.error(e),e}}async approveTransaction(e,t){const n=new Array;n.push(await this.mutex.acquire());let a=this.getTransactionOrThrow(e);try{if(!this.sign)return this.failTransaction(a,new Error("No sign method defined.")),_e.NotApproved;if(!a.chainId)return this.failTransaction(a,new Error("No chainId defined.")),_e.NotApproved;if(this.approvingTransactionIds.has(e))return(0,me.projectLogger)("Skipping approval as signing in progress",e),_e.NotApproved;this.approvingTransactionIds.add(e),n.push((()=>this.approvingTransactionIds.delete(e)));const[i,o]=await(0,ve.getNextNonce)(a,(e=>L(this,f,"f").getNonceLock(e,a.networkClientId)));o&&n.push(o),a=L(this,r,"m",I).call(this,{transactionId:e,note:"TransactionController#approveTransaction - Transaction approved"},(e=>{const{txParams:t,chainId:n}=e;e.status=pe.TransactionStatus.approved,e.txParams={...t,nonce:i,chainId:n,gasLimit:t.gas,...(0,Ae.isEIP1559Transaction)(t)&&{type:pe.TransactionEnvelopeType.feeMarket}}})),this.onTransactionStatusChange(a);const c=await L(this,l,"f").call(this,{name:"Sign",parentContext:t},(()=>this.signTransaction(a,a.txParams)));if(!this.beforePublish(a))return(0,me.projectLogger)("Skipping publishing transaction based on hook"),this.messagingSystem.publish(`${Pe}:transactionPublishingSkipped`,a),_e.SkippedViaBeforePublishHook;if(!c)return _e.NotApproved;const{networkClientId:u}=a,d=L(this,r,"m",x).call(this,{networkClientId:u});let m;const p=a.type===pe.TransactionType.swap;let h;return p&&((0,me.projectLogger)("Determining pre-transaction balance"),m=await(0,z.query)(d,"getBalance",[a.txParams.from])),(0,me.projectLogger)("Publishing transaction",a.txParams),await L(this,l,"f").call(this,{name:"Publish",parentContext:t},(async()=>{({transactionHash:h}=await this.publish(a,c)),h===undefined&&(h=await this.publishTransaction(d,{...a,rawTx:c}))})),(0,me.projectLogger)("Publish successful",h),a=L(this,r,"m",I).call(this,{transactionId:e,note:"TransactionController#approveTransaction - Transaction submitted"},(e=>{e.hash=h,e.status=pe.TransactionStatus.submitted,e.submittedTime=(new Date).getTime(),p&&(e.preTxBalance=m,(0,me.projectLogger)("Updated pre-transaction balance",m))})),this.messagingSystem.publish(`${Pe}:transactionSubmitted`,{transactionMeta:a}),this.messagingSystem.publish(`${Pe}:transactionFinished`,a),L(this,s,"f").emit(`${e}:finished`,a),this.onTransactionStatusChange(a),_e.Approved}catch(e){return this.failTransaction(a,e),_e.NotApproved}finally{n.forEach((e=>e()))}}async publishTransaction(e,t,{skipSubmitHistory:n}={}){const s=await(0,z.query)(e,"sendRawTransaction",[t.rawTx]);return!0!==n&&L(this,r,"m",M).call(this,t,s),s}cancelTransaction(e,t){const n=this.state.transactions.find((({id:t})=>t===e));if(!n)return;this.update((t=>{const n=t.transactions.filter((({id:t})=>t!==e));t.transactions=this.trimTransactionsForState(n)}));const r={...n,status:pe.TransactionStatus.rejected};this.messagingSystem.publish(`${Pe}:transactionFinished`,r),L(this,s,"f").emit(`${n.id}:finished`,r),this.messagingSystem.publish(`${Pe}:transactionRejected`,{transactionMeta:r,actionId:t}),this.onTransactionStatusChange(r)}trimTransactionsForState(e){const t=new Set,n=[...e].sort(((e,t)=>e.time>t.time?-1:1)).filter((e=>{const{chainId:n,status:r,txParams:s,time:a}=e;if(s){const e=`${String(s.nonce)}-${(0,z.convertHexToDecimal)(n)}-${new Date(a).toDateString()}`;if(t.has(e))return!0;if(t.size<L(this,d,"f")||!this.isFinalState(r))return t.add(e),!0}return!1}));return n.reverse(),n}isFinalState(e){return e===pe.TransactionStatus.rejected||e===pe.TransactionStatus.confirmed||e===pe.TransactionStatus.failed}isLocalFinalState(e){return[pe.TransactionStatus.confirmed,pe.TransactionStatus.failed,pe.TransactionStatus.rejected,pe.TransactionStatus.submitted].includes(e)}async requestApproval(e,{shouldShowRequest:t,traceContext:n}){const r=this.getApprovalId(e),{origin:s}=e,a=z.ApprovalType.Transaction,i={txId:e.id};return await L(this,l,"f").call(this,{name:"Notification Display",id:r,parentContext:n}),await this.messagingSystem.call("ApprovalController:addRequest",{id:r,origin:s||z.ORIGIN_METAMASK,type:a,requestData:i,expectsResult:!0},t)}getTransaction(e){const{transactions:t}=this.state;return t.find((({id:t})=>t===e))}getTransactionOrThrow(e,t="TransactionController"){const n=this.getTransaction(e);if(!n)throw new Error(`${t}: No transaction found with id ${e}`);return n}getApprovalId(e){return String(e.id)}isTransactionCompleted(e){const t=this.getTransaction(e);if(!t)return{meta:undefined,isCompleted:!1};return{meta:t,isCompleted:this.isLocalFinalState(t.status)}}prepareUnsignedEthTx(e,t){return G.TransactionFactory.fromTxData(t,{freeze:!1,common:this.getCommonConfiguration(e)})}getCommonConfiguration(e){const t={chainId:parseInt(e,16),defaultHardfork:n.HARDFORK};return U.Common.custom(t)}onIncomingTransactions(e){if(!e.length)return;const t=e.map((e=>{const{chainId:t}=e,n=L(this,r,"m",b).call(this,{chainId:t});return{...e,networkClientId:n}}));this.update((e=>{const{transactions:n}=e;e.transactions=this.trimTransactionsForState([...t,...n]),(0,me.projectLogger)("Added incoming transactions to state",t.length,t)})),this.messagingSystem.publish(`${Pe}:incomingTransactionsReceived`,t)}generateDappSuggestedGasFees(e,t){if(!t||t===z.ORIGIN_METAMASK)return undefined;const{gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,gas:a}=e;if(n===undefined&&r===undefined&&s===undefined&&a===undefined)return undefined;const i={};return n!==undefined?i.gasPrice=n:r===undefined&&s===undefined||(i.maxFeePerGas=r,i.maxPriorityFeePerGas=s),a!==undefined&&(i.gas=a),i}addExternalTransaction(e){const{chainId:t}=e,{transactions:n}=this.state,r=e?.txParams?.from,s=n.filter((e=>e.txParams.from===r&&e.chainId===t)),a=s.filter((e=>e.status===pe.TransactionStatus.confirmed)),i=s.filter((e=>e.status===pe.TransactionStatus.submitted));(0,he.validateConfirmedExternalTransaction)(e,a,i);const o=0!==(e.history??[]).length||this.isHistoryDisabled?e:(0,be.addInitialHistorySnapshot)(e);return this.update((e=>{e.transactions=this.trimTransactionsForState([...e.transactions,o])})),o}markNonceDuplicatesDropped(e){const t=this.getTransaction(e);if(!t)return;const n=t.txParams?.nonce,r=t.txParams?.from,{chainId:s}=t,a=this.state.transactions.filter((t=>t.id!==e&&t.txParams.from===r&&t.txParams.nonce===n&&t.chainId===s&&t.type!==pe.TransactionType.incoming)),i=a.map((e=>e.id));if(0!==a.length){this.update((e=>{for(const n of e.transactions)i.includes(n.id)&&(n.replacedBy=t?.hash,n.replacedById=t?.id)}));for(const e of this.state.transactions)i.includes(e.id)&&e.status!==pe.TransactionStatus.failed&&this.setTransactionStatusDropped(e)}}setTransactionStatusDropped(e){const t={...e,status:pe.TransactionStatus.dropped};this.messagingSystem.publish(`${Pe}:transactionDropped`,{transactionMeta:t}),this.updateTransaction(t,"TransactionController#setTransactionStatusDropped - Transaction dropped"),this.onTransactionStatusChange(t)}getTransactionWithActionId(e){return this.state.transactions.find((t=>e&&t.actionId===e))}async waitForTransactionFinished(e){return new Promise((t=>{L(this,s,"f").once(`${e}:finished`,(e=>{t(e)}))}))}updateTransactionMetaRSV(e,t){const n=(0,Z.cloneDeep)(e);for(const e of["r","s","v"]){const r=t[e];r!==undefined&&null!==r&&(n[e]=(0,K.add0x)(r.toString(16)))}return n}async getEIP1559Compatibility(e){const t=await this.getCurrentNetworkEIP1559Compatibility(e),n=await this.getCurrentAccountEIP1559Compatibility();return t&&n}async signTransaction(e,t){(0,me.projectLogger)("Signing transaction",t);const n=this.prepareUnsignedEthTx(e.chainId,t);this.approvingTransactionIds.add(e.id);const r=await new Promise(((r,s)=>{this.sign?.(n,t.from,...this.getAdditionalSignArguments(e)).then(r,s),this.signAbortCallbacks.set(e.id,(()=>s(new Error("Signing aborted by user"))))}));if(this.signAbortCallbacks.delete(e.id),!r)return(0,me.projectLogger)("Skipping signed status as no signed transaction"),undefined;const s=(0,Z.cloneDeep)(e);if(!this.afterSign(s,r))return this.updateTransaction(s,"TransactionController#signTransaction - Update after sign"),(0,me.projectLogger)("Skipping signed status based on hook"),undefined;const a={...this.updateTransactionMetaRSV(s,r),status:pe.TransactionStatus.signed};this.updateTransaction(a,"TransactionController#approveTransaction - Transaction signed"),this.onTransactionStatusChange(a);const i=(0,$.bufferToHex)(r.serialize()),o=(0,Z.merge)({},a,{rawTx:i});return this.updateTransaction(o,"TransactionController#approveTransaction - RawTransaction added"),i}onTransactionStatusChange(e){this.messagingSystem.publish(`${Pe}:transactionStatusUpdated`,{transactionMeta:e})}getNonceTrackerTransactions(e,t,n){return(0,ve.getAndFormatTransactionsForNonceTracker)(n,t,e,this.state.transactions)}onConfirmedTransaction(e){(0,me.projectLogger)("Processing confirmed transaction",e.id),this.markNonceDuplicatesDropped(e.id),this.messagingSystem.publish(`${Pe}:transactionConfirmed`,e),this.onTransactionStatusChange(e),this.updatePostBalance(e).catch((e=>{throw(0,me.projectLogger)("Error while updating post balance",e),e}))}async updatePostBalance(e){try{const{networkClientId:t,type:n}=e;if(n!==pe.TransactionType.swap)return;const s=L(this,r,"m",x).call(this,{networkClientId:t}),{updatedTransactionMeta:a,approvalTransactionMeta:i}=await(0,Te.updatePostTransactionBalance)(e,{ethQuery:s,getTransaction:this.getTransaction.bind(this),updateTransaction:this.updateTransaction.bind(this)});this.messagingSystem.publish(`${Pe}:postTransactionBalanceUpdated`,{transactionMeta:a,approvalTransactionMeta:i})}catch(e){(0,me.projectLogger)("Error while updating post transaction balance",e)}}async publishTransactionForRetry(e,t){try{return await this.publishTransaction(e,t)}catch(e){if(this.isTransactionAlreadyConfirmedError(e))throw new Error("Previous transaction is already confirmed");throw e}}isTransactionAlreadyConfirmedError(e){return e?.message?.includes("nonce too low")||e?.data?.message?.includes("nonce too low")}}n.TransactionController=Ie,s=new WeakMap,a=new WeakMap,i=new WeakMap,o=new WeakMap,c=new WeakMap,u=new WeakMap,l=new WeakMap,d=new WeakMap,m=new WeakMap,p=new WeakMap,h=new WeakMap,f=new WeakMap,k=new WeakMap,r=new WeakSet,g=async function({actionId:e,afterSubmit:t,estimatedBaseFee:n,gasValues:s,label:a,prepareTransactionParams:i,rate:o,transactionId:c,transactionType:u}){if(this.getTransactionWithActionId(e))return;s&&(s=(0,Ae.normalizeGasFeeValues)(s),(0,Ae.validateGasValues)(s)),(0,me.projectLogger)(`Creating ${a} transaction`,c,s);const l=this.getTransaction(c);if(!l)return;if(!this.sign)throw new Error("No sign method defined.");const d=(0,we.getTransactionParamsWithIncreasedGasFee)(l.txParams,o,s);i?.(d);const m=this.prepareUnsignedEthTx(l.chainId,d),p=await this.sign(m,l.txParams.from),h=this.updateTransactionMetaRSV(l,p),f=(0,$.bufferToHex)(p.serialize()),g=d.maxFeePerGas??d.gasPrice,y=d.maxFeePerGas?h.txParams.maxFeePerGas:h.txParams.gasPrice;(0,me.projectLogger)(`Submitting ${a} transaction`,{oldFee:y,newFee:g,txParams:d});const{networkClientId:b}=l,v=L(this,r,"m",x).call(this,{networkClientId:b}),S={...h,actionId:e,estimatedBaseFee:n,id:(0,Q.v1)(),originalGasEstimate:l.txParams.gas,originalType:l.type,rawTx:f,time:Date.now(),txParams:d,type:u},w=await this.publishTransactionForRetry(v,{...S,origin:a});S.hash=w,this.addMetadata(S),this.messagingSystem.publish(`${Pe}:transactionApproved`,{transactionMeta:S,actionId:e}),this.messagingSystem.publish(`${Pe}:transactionSubmitted`,{transactionMeta:S,actionId:e}),t?.(S)},y=function(e){return L(this,f,"f").getNetworkClient({networkClientId:e}).configuration.chainId},b=function({chainId:e,networkClientId:t}){return t||L(this,f,"f").getNetworkClient({chainId:e}).id},x=function({chainId:e,networkClientId:t}){return new V.default(L(this,r,"m",v).call(this,{chainId:e,networkClientId:t}))},v=function({chainId:e,networkClientId:t}){return L(this,f,"f").getNetworkClient({chainId:e,networkClientId:t}).provider},S=function({provider:e,blockTracker:t,chainId:n}){return new q.NonceTracker({provider:e,blockTracker:t,getPendingTransactions:L(this,r,"m",C).bind(this,n),getConfirmedTransactions:this.getNonceTrackerTransactions.bind(this,pe.TransactionStatus.confirmed,n)})},w=function({provider:e,blockTracker:t,chainId:n,networkClientId:s}){const a=new V.default(e),i=new de.PendingTransactionTracker({blockTracker:t,getChainId:()=>n,getEthQuery:()=>a,getNetworkClientId:()=>s,getTransactions:()=>this.state.transactions,isResubmitEnabled:L(this,u,"f").isResubmitEnabled,getGlobalLock:()=>L(this,f,"f").acquireNonceLockForChainIdKey({chainId:n}),publishTransaction:(e,t)=>this.publishTransaction(e,t,{skipSubmitHistory:!0}),hooks:{beforeCheckPendingTransaction:this.beforeCheckPendingTransaction.bind(this),beforePublish:this.beforePublish.bind(this)}});return L(this,r,"m",j).call(this,i),i},T=function(){L(this,f,"f").stopAllTracking()},E=function(e){e.hub.on("transactions",this.onIncomingTransactions.bind(this))},A=function(e){e.hub.removeAllListeners("transaction-confirmed"),e.hub.removeAllListeners("transaction-dropped"),e.hub.removeAllListeners("transaction-failed"),e.hub.removeAllListeners("transaction-updated")},j=function(e){e.hub.on("transaction-confirmed",this.onConfirmedTransaction.bind(this)),e.hub.on("transaction-dropped",this.setTransactionStatusDropped.bind(this)),e.hub.on("transaction-failed",this.failTransaction.bind(this)),e.hub.on("transaction-updated",this.updateTransaction.bind(this))},C=function(e,t){return[...this.getNonceTrackerTransactions(pe.TransactionStatus.submitted,t,e),...this.getExternalPendingTransactions(t,e)]},P=function(){return L(this,h,"f")?[new ae.TestGasFeeFlow]:[new ne.LineaGasFeeFlow,new te.DefaultGasFeeFlow]},_=function(){return[new re.OptimismLayer1GasFeeFlow,new se.ScrollLayer1GasFeeFlow]},I=function({transactionId:e,note:t,skipHistory:n,skipValidation:s,skipResimulateCheck:a},i){let o;this.update((r=>{const c=r.transactions.findIndex((({id:t})=>t===e));let u=r.transactions[c];const l=(0,Z.cloneDeep)(u);u=i(u)??u,!0!==s&&(u.txParams=(0,Ae.normalizeTransactionParams)(u.txParams),(0,je.validateTxParams)(u.txParams)),!a&&L(this,p,"f").call(this)&&(o=(0,Se.shouldResimulate)(l,u));this.isHistoryDisabled||n||(u=(0,be.updateTransactionHistory)(u,t??"Transaction updated")),r.transactions[c]=u}));const c=this.getTransaction(e);return o?.resimulate&&L(this,r,"m",R).call(this,c,{blockTime:o.blockTime}).catch((e=>{throw(0,me.projectLogger)("Error during re-simulation",e),e})),c},O=async function(e,{traceContext:t}={}){if(!L(this,m,"f").call(this))return;const{chainId:n,id:s,txParams:{to:a,from:i}}=e,o={chainId:(0,K.hexToNumber)(n),to:a,from:i};(0,je.validateParamTo)(a);if(!this.state.transactions.find((e=>e.chainId===n&&e.txParams.from===i&&e.txParams.to===a&&e.id!==s)))try{const{count:e}=await L(this,l,"f").call(this,{name:"Account Address Relationship",parentContext:t},(()=>(0,ee.getAccountAddressRelationship)(o))),n=e===undefined?undefined:0===e;if(!this.getTransaction(s))return void(0,me.projectLogger)("Cannot update first time interaction as transaction not found",s);L(this,r,"m",I).call(this,{transactionId:s,note:"TransactionController#updateFirstInteraction - Update first time interaction"},(e=>{e.isFirstTimeInteraction=n})),(0,me.projectLogger)("Updated first time interaction",s,{isFirstTimeInteraction:n})}catch(e){(0,me.projectLogger)("Error fetching account address relationship, skipping first time interaction update",e)}},R=async function(e,{blockTime:t,traceContext:n}={}){const{id:s,chainId:a,txParams:i,simulationData:o}=e,{from:c,to:u,value:d,data:m}=i;let h={error:{code:pe.SimulationErrorCode.Disabled,message:"Simulation disabled"},tokenBalanceChanges:[]};L(this,p,"f").call(this)&&(h=await L(this,l,"f").call(this,{name:"Simulate",parentContext:n},(()=>(0,ke.getSimulationData)({chainId:a,from:c,to:u,value:d,data:m},{blockTime:t}))),t&&o&&(0,Se.hasSimulationDataChanged)(o,h)&&(h={...h,isUpdatedAfterSecurityCheck:!0}));this.getTransaction(s)?(L(this,r,"m",I).call(this,{transactionId:s,note:"TransactionController#updateSimulationData - Update simulation data",skipResimulateCheck:Boolean(t)},(e=>{e.simulationData=h})),(0,me.projectLogger)("Updated simulation data",s,h)):(0,me.projectLogger)("Cannot update simulation data as transaction not found",s,h)},N=function({transactionId:e,gasFeeEstimates:t,gasFeeEstimatesLoaded:n,layer1GasFee:s}){L(this,r,"m",I).call(this,{transactionId:e,skipHistory:!0},(e=>{t&&(e.gasFeeEstimates=t),n!==undefined&&(e.gasFeeEstimatesLoaded=n),s&&(e.layer1GasFee=s)}))},B=function(){return this.messagingSystem.call("AccountsController:getSelectedAccount")},M=function(e,t){const{chainId:n,networkClientId:r,origin:s,rawTx:a,txParams:i}=e,{networkConfigurationsByChainId:o}=this.getNetworkState(),c=o[n],u=c?.rpcEndpoints.find((e=>e.networkClientId===r)),l=u?.url,d={chainId:n,hash:t,networkType:u?.name??r,networkUrl:l,origin:s,rawTransaction:a,time:Date.now(),transaction:i};(0,me.projectLogger)("Updating submit history",d),this.update((e=>{const{submitHistory:t}=e;100===t.length&&t.pop(),t.unshift(d)}))}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/TransactionController.cjs"}],[2810,{"../errors.cjs":2812,"../logger.cjs":2827,"@metamask/controller-utils":1509,"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getAccountTransactions=n.getAccountAddressRelationship=void 0;const r=e("@metamask/controller-utils"),s=e("@metamask/utils"),a=e("../errors.cjs"),i=e("../logger.cjs"),o="https://accounts.api.cx.metamask.io",c=`${o}/v1/accounts/`,u="x-metamask-clientproduct",l="metamask-transaction-controller",d=[1,10,56,137,8453,42161,59144,534352],m=(0,s.createModuleLogger)(i.projectLogger,"accounts-api");n.getAccountAddressRelationship=async function(e){const{chainId:t,from:n,to:s}=e;if(!d.includes(t))throw m("Unsupported chain ID for account relationship API",t),new a.FirstTimeInteractionError("Unsupported chain ID");const i=`${o}/v1/networks/${t}/accounts/${n}/relationships/${s}`;m("Getting account address relationship",{request:e,url:i});const c={[u]:l},p=await(0,r.successfulFetch)(i,{headers:c});if(204===p.status)return{count:0};const h=await p.json();if(m("Retrieved account address relationship",h),h.error){const{code:e,message:t}=h.error;throw new a.FirstTimeInteractionError(t,e)}return h},n.getAccountTransactions=async function(e){const{address:t,chainIds:n,cursor:s,endTimestamp:a,sortDirection:i,startTimestamp:o}=e;let d=`${c}${t}/transactions`;const p=[];if(n){const e=n.join(",");p.push(`networks=${e}`)}o&&p.push(`startTimestamp=${o}`),a&&p.push(`endTimestamp=${a}`),s&&p.push(`cursor=${s}`),i&&p.push(`sortDirection=${i}`),p.length&&(d+=`?${p.join("&")}`),m("Getting account transactions",{request:e,url:d});const h={[u]:l},f=await(0,r.successfulFetch)(d,{headers:h}),g=await f.json();return m("Retrieved account transactions",g),g}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/api/accounts-api.cjs"}],[2811,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ABI_SIMULATION_ERC721_LEGACY=n.ABI_SIMULATION_ERC20_WRAPPED=n.GAS_BUFFER_CHAIN_OVERRIDES=n.CHAIN_IDS=void 0,n.CHAIN_IDS={MAINNET:"0x1",GOERLI:"0x5",BASE:"0x2105",BASE_TESTNET:"0x14a33",BSC:"0x38",BSC_TESTNET:"0x61",OPTIMISM:"0xa",OPTIMISM_TESTNET:"0x1a4",OPBNB:"0xcc",OPBNB_TESTNET:"0x15eb",OPTIMISM_SEPOLIA:"0xaa37dc",POLYGON:"0x89",POLYGON_TESTNET:"0x13881",AVALANCHE:"0xa86a",AVALANCHE_TESTNET:"0xa869",FANTOM:"0xfa",FANTOM_TESTNET:"0xfa2",SEPOLIA:"0xaa36a7",LINEA_GOERLI:"0xe704",LINEA_SEPOLIA:"0xe705",LINEA_MAINNET:"0xe708",MOONBEAM:"0x504",MOONBEAM_TESTNET:"0x507",MOONRIVER:"0x505",GNOSIS:"0x64",ARBITRUM:"0xa4b1",ZKSYNC_ERA:"0x144",ZORA:"0x76adf1",SCROLL:"0x82750",SCROLL_SEPOLIA:"0x8274f"},n.GAS_BUFFER_CHAIN_OVERRIDES={[n.CHAIN_IDS.OPTIMISM]:1,[n.CHAIN_IDS.OPTIMISM_SEPOLIA]:1},n.ABI_SIMULATION_ERC20_WRAPPED=[{anonymous:!1,inputs:[{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"wad",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!1,name:"wad",type:"uint256"}],name:"Withdrawal",type:"event"}],n.ABI_SIMULATION_ERC721_LEGACY=[{anonymous:!1,inputs:[{indexed:!1,name:"_from",type:"address"},{indexed:!1,name:"_to",type:"address"},{indexed:!1,name:"_tokenId",type:"uint256"}],name:"Transfer",type:"event"}]}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/constants.cjs"}],[2812,{"./types.cjs":2828},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SimulationRevertedError=n.SimulationInvalidResponseError=n.SimulationChainNotSupportedError=n.FirstTimeInteractionError=n.SimulationError=void 0;const r=e("./types.cjs");class s extends Error{constructor(e,t){super(e??"Simulation failed"),this.code=t}}n.SimulationError=s;class a extends Error{constructor(e,t){super(e??"Error checking first time interaction"),this.code=t}}n.FirstTimeInteractionError=a;n.SimulationChainNotSupportedError=class extends s{constructor(e){super(`Chain is not supported: ${e}`,r.SimulationErrorCode.ChainNotSupported)}};n.SimulationInvalidResponseError=class extends s{constructor(){super("Invalid response from simulation API",r.SimulationErrorCode.InvalidResponse)}};n.SimulationRevertedError=class extends s{constructor(){super("Transaction was reverted",r.SimulationErrorCode.Reverted)}}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/errors.cjs"}],[2813,{"../logger.cjs":2827,"../types.cjs":2828,"../utils/gas-fees.cjs":2830,"@metamask/gas-fee-controller":1851,"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,s,a,i,o,c,u=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.DefaultGasFeeFlow=void 0;const l=e("@metamask/gas-fee-controller"),d=e("@metamask/utils"),m=e("../logger.cjs"),p=e("../types.cjs"),h=e("../utils/gas-fees.cjs"),f=(0,d.createModuleLogger)(m.projectLogger,"default-gas-fee-flow");n.DefaultGasFeeFlow=class{constructor(){r.add(this)}matchesTransaction(e){return!0}async getGasFees(e){const{gasFeeControllerData:t}=e,{gasEstimateType:n,gasFeeEstimates:o}=t;let c;switch(n){case l.GAS_ESTIMATE_TYPES.FEE_MARKET:f("Using fee market estimates",o),c=u(this,r,"m",s).call(this,o);break;case l.GAS_ESTIMATE_TYPES.LEGACY:f("Using legacy estimates",o),c=u(this,r,"m",a).call(this,o);break;case l.GAS_ESTIMATE_TYPES.ETH_GASPRICE:f("Using eth_gasPrice estimates",o),c=u(this,r,"m",i).call(this,o);break;default:throw new Error(`Unsupported gas estimate type: ${n}`)}return{estimates:c}}},r=new WeakSet,s=function(e){const t=Object.values(p.GasFeeEstimateLevel).reduce(((t,n)=>({...t,[n]:u(this,r,"m",o).call(this,e,n)})),{});return{type:p.GasFeeEstimateType.FeeMarket,...t}},a=function(e){const t=Object.values(p.GasFeeEstimateLevel).reduce(((t,n)=>({...t,[n]:u(this,r,"m",c).call(this,e,n)})),{});return{type:p.GasFeeEstimateType.Legacy,...t}},i=function(e){return{type:p.GasFeeEstimateType.GasPrice,gasPrice:(0,h.gweiDecimalToWeiHex)(e.gasPrice)}},o=function(e,t){return{maxFeePerGas:(0,h.gweiDecimalToWeiHex)(e[t].suggestedMaxFeePerGas),maxPriorityFeePerGas:(0,h.gweiDecimalToWeiHex)(e[t].suggestedMaxPriorityFeePerGas)}},c=function(e,t){return(0,h.gweiDecimalToWeiHex)(e[t])}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/gas-flows/DefaultGasFeeFlow.cjs"}],[2814,{"../logger.cjs":2827,"../types.cjs":2828,"./DefaultGasFeeFlow.cjs":2813,"@metamask/controller-utils":1509,"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,s,a,i,o,c,u=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.LineaGasFeeFlow=void 0;const l=e("@metamask/controller-utils"),d=e("@metamask/utils"),m=e("../logger.cjs"),p=e("../types.cjs"),h=e("./DefaultGasFeeFlow.cjs"),f=(0,d.createModuleLogger)(m.projectLogger,"linea-gas-fee-flow"),g=[l.ChainId["linea-mainnet"],l.ChainId["linea-goerli"],l.ChainId["linea-sepolia"]],y={low:1,medium:1.35,high:1.7},b={low:1,medium:1.05,high:1.1};n.LineaGasFeeFlow=class{constructor(){r.add(this)}matchesTransaction(e){return g.includes(e.chainId)}async getGasFees(e){try{return await u(this,r,"m",s).call(this,e)}catch(t){return f("Using default flow as fallback due to error",t),(new h.DefaultGasFeeFlow).getGasFees(e)}}},r=new WeakSet,s=async function(e){const{ethQuery:t,transactionMeta:n}=e,s=await u(this,r,"m",a).call(this,n,t);f("Received Linea response",s);const d=u(this,r,"m",i).call(this,s.baseFeePerGas,y);f("Generated base fees",u(this,r,"m",c).call(this,d));const m=u(this,r,"m",i).call(this,s.priorityFeePerGas,b);f("Generated priority fees",u(this,r,"m",c).call(this,m));const h=u(this,r,"m",o).call(this,d,m);f("Generated max fees",u(this,r,"m",c).call(this,h));return{estimates:Object.values(p.GasFeeEstimateLevel).reduce(((e,t)=>({...e,[t]:{maxFeePerGas:(0,l.toHex)(h[t]),maxPriorityFeePerGas:(0,l.toHex)(m[t])}})),{type:p.GasFeeEstimateType.FeeMarket})}},a=function(e,t){return(0,l.query)(t,"linea_estimateGas",[{from:e.txParams.from,to:e.txParams.to,value:e.txParams.value,input:e.txParams.data}])},i=function(e,t){const n=(0,l.hexToBN)(e);return{low:n.muln(t.low),medium:n.muln(t.medium),high:n.muln(t.high)}},o=function(e,t){return{low:e.low.add(t.low),medium:e.medium.add(t.medium),high:e.high.add(t.high)}},c=function(e){return Object.values(p.GasFeeEstimateLevel).map((t=>e[t].toString(10)))}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/gas-flows/LineaGasFeeFlow.cjs"}],[2815,{"../constants.cjs":2811,"./OracleLayer1GasFeeFlow.cjs":2816},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.OptimismLayer1GasFeeFlow=void 0;const r=e("../constants.cjs"),s=e("./OracleLayer1GasFeeFlow.cjs"),a=[r.CHAIN_IDS.OPTIMISM,r.CHAIN_IDS.OPTIMISM_TESTNET,r.CHAIN_IDS.BASE,r.CHAIN_IDS.BASE_TESTNET,r.CHAIN_IDS.OPBNB,r.CHAIN_IDS.OPBNB_TESTNET,r.CHAIN_IDS.ZORA];class i extends s.OracleLayer1GasFeeFlow{constructor(){super("0x420000000000000000000000000000000000000F")}matchesTransaction(e){return a.includes(e.chainId)}}n.OptimismLayer1GasFeeFlow=i}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/gas-flows/OptimismLayer1GasFeeFlow.cjs"}],[2816,{"../logger.cjs":2827,"@ethereumjs/common":513,"@ethereumjs/tx":521,"@ethersproject/contracts":578,"@ethersproject/providers":616,"@metamask/utils":2872,buffer:3941,lodash:4787},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){var r,s,a,i,o,c,u,l=this&&this.__classPrivateFieldSet||function(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n},d=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.OracleLayer1GasFeeFlow=void 0;const m=e("@ethereumjs/common"),p=e("@ethereumjs/tx"),h=e("@ethersproject/contracts"),f=e("@ethersproject/providers"),g=e("@metamask/utils"),y=e("lodash"),b=e("../logger.cjs"),x=(0,g.createModuleLogger)(b.projectLogger,"oracle-layer1-gas-fee-flow"),v=[{inputs:[{internalType:"bytes",name:"_data",type:"bytes"}],name:"getL1Fee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}];n.OracleLayer1GasFeeFlow=class{constructor(e,t){r.add(this),s.set(this,void 0),a.set(this,void 0),l(this,s,e,"f"),l(this,a,t??!1,"f")}async getLayer1Fee(e){try{return await d(this,r,"m",i).call(this,e)}catch(e){throw x("Failed to get oracle layer 1 gas fee",e),new Error("Failed to get oracle layer 1 gas fee")}}},s=new WeakMap,a=new WeakMap,r=new WeakSet,i=async function(e){const{provider:t,transactionMeta:n}=e,i=new h.Contract(d(this,s,"f"),v,new f.Web3Provider(t)),c=d(this,r,"m",o).call(this,n,d(this,a,"f")).serialize(),u=await i.getL1Fee(c);if(u===undefined)throw new Error("No value returned from oracle contract");return{layer1Fee:u.toHexString()}},o=function(e,n){const s=d(this,r,"m",c).call(this,e),a=d(this,r,"m",u).call(this,e);let i=p.TransactionFactory.fromTxData(s,{common:a});if(n){const e=t.from("abcdef0123456789abcdef0123456789abcdef0123456789abcdef0123456789","hex");i=i.sign(e)}return i},c=function(e){return{...(0,y.omit)(e.txParams,"gas"),gasLimit:e.txParams.gas}},u=function(e){const t=Number(e.chainId);return m.Common.custom({chainId:t,defaultHardfork:m.Hardfork.London})}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/gas-flows/OracleLayer1GasFeeFlow.cjs"}],[2817,{"../constants.cjs":2811,"./OracleLayer1GasFeeFlow.cjs":2816},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ScrollLayer1GasFeeFlow=void 0;const r=e("../constants.cjs"),s=e("./OracleLayer1GasFeeFlow.cjs"),a=[r.CHAIN_IDS.SCROLL,r.CHAIN_IDS.SCROLL_SEPOLIA];class i extends s.OracleLayer1GasFeeFlow{constructor(){super("0x5300000000000000000000000000000000000002",!0)}matchesTransaction(e){return a.includes(e.chainId)}}n.ScrollLayer1GasFeeFlow=i}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/gas-flows/ScrollLayer1GasFeeFlow.cjs"}],[2818,{"../types.cjs":2828,"@metamask/controller-utils":1509},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,s,a,i=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},o=this&&this.__classPrivateFieldSet||function(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n};Object.defineProperty(n,"__esModule",{value:!0}),n.TestGasFeeFlow=void 0;const c=e("@metamask/controller-utils"),u=e("../types.cjs"),l=1e15;n.TestGasFeeFlow=class{constructor(){r.add(this),s.set(this,1)}matchesTransaction(e){return!0}async getGasFees(e){const{transactionMeta:t}=e,{txParams:n}=t,{gas:c}=n;if(!c)throw new Error("Cannot estimate fee without gas value");const d=parseInt(c,16),m=.5*l,p=(i(this,s,"f")+1)*l,h=i(this,s,"f")*l,f=p-m,g=h-m,y=p+m,b=h+m;return o(this,s,i(this,s,"f")+1,"f"),{estimates:{type:u.GasFeeEstimateType.FeeMarket,low:{maxFeePerGas:i(this,r,"m",a).call(this,f,d),maxPriorityFeePerGas:i(this,r,"m",a).call(this,g,d)},medium:{maxFeePerGas:i(this,r,"m",a).call(this,p,d),maxPriorityFeePerGas:i(this,r,"m",a).call(this,h,d)},high:{maxFeePerGas:i(this,r,"m",a).call(this,y,d),maxPriorityFeePerGas:i(this,r,"m",a).call(this,b,d)}}}}},s=new WeakMap,r=new WeakSet,a=function(e,t){const n=Math.ceil(e/t);return(0,c.toHex)(n)}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/gas-flows/TestGasFeeFlow.cjs"}],[2819,{"../api/accounts-api.cjs":2810,"../constants.cjs":2811,"../logger.cjs":2827,"../types.cjs":2828,"@metamask/controller-utils":1509,"bn.js":3893,uuid:5595},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,s,a,i,o,c,u,l,d=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},m=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.AccountsApiRemoteTransactionSource=n.SUPPORTED_CHAIN_IDS=void 0;const p=e("@metamask/controller-utils"),h=m(e("bn.js")),f=e("uuid"),g=e("../api/accounts-api.cjs"),y=e("../constants.cjs"),b=e("../logger.cjs"),x=e("../types.cjs");n.SUPPORTED_CHAIN_IDS=[y.CHAIN_IDS.MAINNET,y.CHAIN_IDS.POLYGON,y.CHAIN_IDS.BSC,y.CHAIN_IDS.LINEA_MAINNET,y.CHAIN_IDS.BASE,y.CHAIN_IDS.OPTIMISM,y.CHAIN_IDS.ARBITRUM,y.CHAIN_IDS.SCROLL];const v=(0,b.createModuleLogger)(b.incomingTransactionsLogger,"accounts-api-source");n.AccountsApiRemoteTransactionSource=class{constructor(){r.add(this)}getSupportedChains(){return n.SUPPORTED_CHAIN_IDS}async fetchTransactions(e){const{address:t}=e,n=await d(this,r,"m",s).call(this,e);v("Fetched transactions",n.length,n);const a=n.map((e=>d(this,r,"m",o).call(this,t,e)));v("Normalized transactions",a);const c=d(this,r,"m",i).call(this,e,a);return v("Filtered transactions",c.length,c),c}},r=new WeakSet,s=async function(e){v("Getting transactions",e);const{address:t,cache:s,chainIds:i}=e,o=i.filter((e=>n.SUPPORTED_CHAIN_IDS.includes(e))),c=i.filter((e=>!o.includes(e)));c.length&&v("Ignoring unsupported chain IDs",c);const l=d(this,r,"m",u).call(this,s,o,t);return l&&v("Using cached cursor",l),await d(this,r,"m",a).call(this,e,o,l)},a=async function(e,t,n){const{address:s,queryEntireHistory:a,updateCache:i}=e,o=[];let u=!0,m=n,p=0;const h=a||n?undefined:d(this,r,"m",l).call(this,Date.now());for(;u;)try{const e=await(0,g.getAccountTransactions)({address:s,chainIds:t,cursor:m,sortDirection:"ASC",startTimestamp:h});p+=1,e?.data&&o.push(...e.data),u=e?.pageInfo?.hasNextPage,m=e?.pageInfo?.cursor,m&&i((e=>{const n=d(this,r,"m",c).call(this,t,s);e[n]=m,v("Updated cache",{key:n,newCursor:m})}))}catch(e){v("Error while fetching transactions",e);break}return v("Queried transactions",{pageCount:p}),o},i=function(e,t){const{address:n,includeTokenTransfers:r,updateTransactions:s}=e;let a=t;return s||(a=a.filter((e=>e.txParams.to===n))),r||(a=a.filter((e=>!e.isTransfer))),a},o=function(e,t){const n=String(t.blockNumber),r=`0x${t.chainId.toString(16)}`,{hash:s}=t,a=new Date(t.timestamp).getTime(),i=(0,f.v1)({msecs:a}),{from:o}=t,c=(0,p.BNToHex)(new h.default(t.gas)),u=(0,p.BNToHex)(new h.default(t.gasPrice)),l=(0,p.BNToHex)(new h.default(t.gasUsed)),d=(0,p.BNToHex)(new h.default(t.nonce)),m=x.TransactionType.incoming,g=t.isError?x.TransactionStatus.failed:x.TransactionStatus.confirmed,y=t.valueTransfers.find((t=>t.to.toLowerCase()===e.toLowerCase()&&t.contractAddress)),b=Boolean(y),v=y?.contractAddress,S=y?.decimal,w=y?.symbol,k=(0,p.BNToHex)(new h.default(y?.amount??t.value)),T=y?e:t.to;return{blockNumber:n,chainId:r,error:g===x.TransactionStatus.failed?new Error("Transaction failed"):undefined,hash:s,id:i,isTransfer:b,networkClientId:"",status:g,time:a,toSmartContract:!1,transferInformation:b?{contractAddress:v,decimals:S,symbol:w}:undefined,txParams:{chainId:r,from:o,gas:c,gasPrice:u,gasUsed:l,nonce:d,to:T,value:k},type:m,verifiedOnBlockchain:!1}},c=function(e,t){return`accounts-api#${e.join(",")}#${t}`},u=function(e,t,n){return e[d(this,r,"m",c).call(this,t,n)]},l=function(e){return Math.floor(e/1e3)}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/helpers/AccountsApiRemoteTransactionSource.cjs"}],[2820,{"../logger.cjs":2827,"../types.cjs":2828,"../utils/gas-flow.cjs":2831,"../utils/layer1-gas-fee-flow.cjs":2834,"@metamask/eth-query":1688,"@metamask/utils":2872,events:4267},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,s,a,i,o,c,u,l,d,m,p,h,f,g,y,b,x,v,S=this&&this.__classPrivateFieldSet||function(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n},w=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},k=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.GasFeePoller=void 0;const T=k(e("@metamask/eth-query")),E=e("@metamask/utils"),A=k(e("events")),j=e("../logger.cjs"),C=e("../types.cjs"),P=e("../utils/gas-flow.cjs"),_=e("../utils/layer1-gas-fee-flow.cjs"),I=(0,E.createModuleLogger)(j.projectLogger,"gas-fee-poller");n.GasFeePoller=class{constructor({findNetworkClientIdByChainId:e,gasFeeFlows:t,getGasFeeControllerEstimates:n,getProvider:h,getTransactions:f,layer1GasFeeFlows:g,onStateChange:y}){r.add(this),this.hub=new A.default,s.set(this,void 0),a.set(this,void 0),i.set(this,void 0),o.set(this,void 0),c.set(this,void 0),u.set(this,void 0),l.set(this,void 0),d.set(this,!1),S(this,s,e,"f"),S(this,a,t,"f"),S(this,u,g,"f"),S(this,i,n,"f"),S(this,o,h,"f"),S(this,c,f,"f"),y((()=>{w(this,r,"m",x).call(this).length?w(this,r,"m",m).call(this):w(this,r,"m",p).call(this)}))}},s=new WeakMap,a=new WeakMap,i=new WeakMap,o=new WeakMap,c=new WeakMap,u=new WeakMap,l=new WeakMap,d=new WeakMap,r=new WeakSet,m=function(){w(this,d,"f")||(w(this,r,"m",h).call(this),S(this,d,!0,"f"),I("Started polling"))},p=function(){w(this,d,"f")&&(clearTimeout(w(this,l,"f")),S(this,l,undefined,"f"),S(this,d,!1,"f"),I("Stopped polling"))},h=async function e(){await w(this,r,"m",f).call(this),S(this,l,setTimeout((()=>w(this,r,"m",e).call(this)),1e4),"f")},f=async function(){const e=w(this,r,"m",x).call(this);if(!e.length)return;I("Found unapproved transactions",e.length);const t=await w(this,r,"m",v).call(this,e);I("Retrieved gas fee controller data",t),await Promise.all(e.flatMap((e=>{const{chainId:n}=e,s=t.get(n);return w(this,r,"m",g).call(this,e,s)})))},g=async function(e,t){const{id:n}=e,[s,a]=await Promise.all([w(this,r,"m",y).call(this,e,t),w(this,r,"m",b).call(this,e)]);(s||a)&&this.hub.emit("transaction-updated",{transactionId:n,gasFeeEstimates:s?.gasFeeEstimates,gasFeeEstimatesLoaded:s?.gasFeeEstimatesLoaded,layer1GasFee:a})},y=async function(e,t){const{networkClientId:n}=e,r=new T.default(w(this,o,"f").call(this,n)),s=(0,P.getGasFeeFlow)(e,w(this,a,"f"));s&&I("Found gas fee flow",s.constructor.name,e.id);const i={ethQuery:r,gasFeeControllerData:t,transactionMeta:e};let c;if(s)try{c=(await s.getGasFees(i)).estimates}catch(t){I("Failed to get suggested gas fees",e.id,t)}return!c&&e.gasFeeEstimatesLoaded?undefined:(I("Updated gas fee estimates",{gasFeeEstimates:c,transaction:e.id}),{gasFeeEstimates:c,gasFeeEstimatesLoaded:!0})},b=async function(e){const{networkClientId:t}=e,n=w(this,o,"f").call(this,t),r=await(0,_.getTransactionLayer1GasFee)({layer1GasFeeFlows:w(this,u,"f"),provider:n,transactionMeta:e});return r&&I("Updated layer 1 gas fee",r,e.id),r},x=function(){return w(this,c,"f").call(this).filter((e=>e.status===C.TransactionStatus.unapproved))},v=async function(e){const t=new Map;for(const n of e){const{chainId:e,networkClientId:r}=n;if(t.has(e))continue;const a=r??w(this,s,"f").call(this,e);t.set(e,a)}I("Extracted network client IDs by chain ID",t);const n=Array.from(t.entries()).map((async([e,t])=>[e,await w(this,i,"f").call(this,{networkClientId:t})]));return new Map(await Promise.all(n))}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/helpers/GasFeePoller.cjs"}],[2821,{"../logger.cjs":2827,events:4267},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,s,a,i,o,c,u,l,d,m,p,h,f,g,y,b,x,v=this&&this.__classPrivateFieldSet||function(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n},S=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},w=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.IncomingTransactionHelper=void 0;const k=w(e("events")),T=e("../logger.cjs");n.IncomingTransactionHelper=class{constructor({getCache:e,getCurrentAccount:t,getChainIds:n,getLocalTransactions:y,includeTokenTransfers:b,isEnabled:x,queryEntireHistory:S,remoteTransactionSource:w,trimTransactions:T,updateCache:E,updateTransactions:A}){r.add(this),s.set(this,void 0),a.set(this,void 0),i.set(this,void 0),o.set(this,void 0),c.set(this,void 0),u.set(this,void 0),l.set(this,void 0),d.set(this,void 0),m.set(this,void 0),p.set(this,void 0),h.set(this,void 0),f.set(this,void 0),g.set(this,void 0),this.hub=new k.default,v(this,s,e,"f"),v(this,a,t,"f"),v(this,i,n,"f"),v(this,o,y,"f"),v(this,c,b,"f"),v(this,u,x??(()=>!0),"f"),v(this,l,!1,"f"),v(this,d,S,"f"),v(this,m,w,"f"),v(this,h,T,"f"),v(this,f,E,"f"),v(this,g,A,"f")}start(){S(this,l,"f")||S(this,r,"m",x).call(this)&&((0,T.incomingTransactionsLogger)("Starting polling"),v(this,p,setTimeout((()=>S(this,r,"m",y).call(this)),3e4),"f"),v(this,l,!0,"f"),(0,T.incomingTransactionsLogger)("Started polling"))}stop(){S(this,p,"f")&&clearTimeout(S(this,p,"f")),S(this,l,"f")&&(v(this,l,!1,"f"),(0,T.incomingTransactionsLogger)("Stopped polling"))}async update({isInterval:e}={}){if((0,T.incomingTransactionsLogger)("Checking for incoming transactions",{isInterval:Boolean(e)}),!S(this,r,"m",x).call(this))return;const t=S(this,a,"f").call(this),n=S(this,i,"f").call(this),u=S(this,s,"f").call(this),l=S(this,c,"f")??!0,p=S(this,d,"f")??!0,y=S(this,g,"f")??!1;let v=[];try{v=await S(this,m,"f").fetchTransactions({address:t.address,cache:u,chainIds:n,includeTokenTransfers:l,queryEntireHistory:p,updateCache:S(this,f,"f"),updateTransactions:y})}catch(e){return void(0,T.incomingTransactionsLogger)("Error while fetching remote transactions",e)}if(!v.length)return;S(this,r,"m",b).call(this,v),(0,T.incomingTransactionsLogger)("Found potential transactions",v.length,v);const w=S(this,o,"f").call(this),k=v.filter((e=>!w.some((t=>t.hash?.toLowerCase()===e.hash?.toLowerCase()&&t.txParams.from?.toLowerCase()===e.txParams.from?.toLowerCase()))));if(!k.length)return void(0,T.incomingTransactionsLogger)("All transactions are already known");(0,T.incomingTransactionsLogger)("Found unique transactions",k.length,k);const E=S(this,h,"f").call(this,[...k,...w]),A=k.map((e=>e.id)),j=E.filter((e=>A.includes(e.id)));j.length?((0,T.incomingTransactionsLogger)("Adding new transactions",j.length,j),this.hub.emit("transactions",j)):(0,T.incomingTransactionsLogger)("All unique transactions truncated due to limit")}},s=new WeakMap,a=new WeakMap,i=new WeakMap,o=new WeakMap,c=new WeakMap,u=new WeakMap,l=new WeakMap,d=new WeakMap,m=new WeakMap,p=new WeakMap,h=new WeakMap,f=new WeakMap,g=new WeakMap,r=new WeakSet,y=async function e(){try{await this.update({isInterval:!0})}catch(e){console.error("Error while checking incoming transactions",e)}S(this,l,"f")&&v(this,p,setTimeout((()=>S(this,r,"m",e).call(this)),3e4),"f")},b=function(e){e.sort(((e,t)=>e.time<t.time?-1:1))},x=function(){const e=S(this,u,"f").call(this),t=S(this,i,"f").call(this),n=S(this,m,"f").getSupportedChains(),r=t.some((e=>n.includes(e)));return e&&r}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/helpers/IncomingTransactionHelper.cjs"}],[2822,{"../logger.cjs":2827,"@metamask/utils":2872,"async-mutex":3830,"eth-method-registry":4173,events:4267},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,s,a,i,o,c,u=this&&this.__classPrivateFieldSet||function(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n},l=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.MethodDataHelper=void 0;const m=e("@metamask/utils"),p=e("async-mutex"),h=e("eth-method-registry"),f=d(e("events")),g=e("../logger.cjs"),y=(0,m.createModuleLogger)(g.projectLogger,"method-data");n.MethodDataHelper=class{constructor({getProvider:e,getState:t}){r.add(this),s.set(this,void 0),a.set(this,void 0),i.set(this,void 0),o.set(this,new p.Mutex),this.hub=new f.default,u(this,s,e,"f"),u(this,a,t,"f"),u(this,i,new Map,"f")}async lookup(e,t){y("lookup",e,t);const n=await l(this,o,"f").acquire();try{const n=l(this,a,"f").call(this)[e];if(n)return y("Cached",n),n;let o=l(this,i,"f").get(t);if(!o){const e=l(this,s,"f").call(this,t);o=new h.MethodRegistry({provider:e}),l(this,i,"f").set(t,o),y("Created registry",t)}const u=await l(this,r,"m",c).call(this,e,o);return y("Result",u),this.hub.emit("update",{fourBytePrefix:e,methodData:u}),u}finally{n()}}},s=new WeakMap,a=new WeakMap,i=new WeakMap,o=new WeakMap,r=new WeakSet,c=async function(e,t){const n=await t.lookup(e);if(!n)return y("No method found",e),{registryMethod:"",parsedRegistryMethod:{name:undefined,args:undefined}};y("Parsing",n);return{registryMethod:n,parsedRegistryMethod:t.parse(n)}}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/helpers/MethodDataHelper.cjs"}],[2823,{"../logger.cjs":2827,"async-mutex":3830},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,s,a,i,o,c,u,l,d,m,p,h,f=this&&this.__classPrivateFieldSet||function(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n},g=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.MultichainTrackingHelper=void 0;const y=e("async-mutex"),b=e("../logger.cjs"),x=(0,b.createModuleLogger)(b.projectLogger,"multichain-tracking");n.MultichainTrackingHelper=class{constructor({findNetworkClientIdByChainId:e,getNetworkClientById:t,getNetworkClientRegistry:n,removePendingTransactionTrackerListeners:y,createNonceTracker:b,createPendingTransactionTracker:v,onNetworkStateChange:S}){r.add(this),s.set(this,void 0),a.set(this,void 0),i.set(this,void 0),o.set(this,void 0),c.set(this,void 0),u.set(this,void 0),l.set(this,new Map),d.set(this,new Map),this.checkForPendingTransactionAndStartPolling=()=>{for(const[,e]of g(this,d,"f"))e.pendingTransactionTracker.startIfPendingTransactions()},m.set(this,(e=>{const t=Object.keys(e),n=Array.from(g(this,d,"f").keys()),s=n.filter((e=>!t.includes(e)));s.forEach((e=>{g(this,r,"m",p).call(this,e)}));const a=t.filter((e=>!n.includes(e)));a.forEach((e=>{g(this,r,"m",h).call(this,e)})),a.length&&x("Added trackers",a),s.length&&x("Removed trackers",s)})),f(this,s,e,"f"),f(this,a,t,"f"),f(this,i,n,"f"),f(this,o,y,"f"),f(this,c,b,"f"),f(this,u,v,"f"),S(((e,t)=>{const n=g(this,i,"f").call(this);t.forEach((({op:e,path:t})=>{if("remove"===e&&"networkConfigurations"===t[0]){const e=t[1];delete n[e]}})),g(this,m,"f").call(this,n)}))}initialize(){const e=g(this,i,"f").call(this);g(this,m,"f").call(this,e),x("Initialized")}has(e){return g(this,d,"f").has(e)}async acquireNonceLockForChainIdKey({chainId:e,key:t="global"}){let n=g(this,l,"f").get(e);n||(n=new Map,g(this,l,"f").set(e,n));let r=n.get(t);return r||(r=new y.Mutex,n.set(t,r)),await r.acquire()}async getNonceLock(e,t){const n=g(this,a,"f").call(this,t),r=await this.acquireNonceLockForChainIdKey({chainId:n.configuration.chainId,key:e}),s=g(this,d,"f").get(t)?.nonceTracker;if(!s)throw new Error(`Missing nonce tracker for network client ID - ${t}`);try{const t=await s.getNonceLock(e),n=()=>{t.releaseLock(),r?.()};return{...t,releaseLock:n}}catch(e){throw r?.(),e}}stopAllTracking(){for(const[e]of g(this,d,"f"))g(this,r,"m",p).call(this,e)}getNetworkClient({chainId:e,networkClientId:t}){if(!t&&!e)throw new Error("Cannot locate network client without networkClientId or chainId");let n,r=t;try{t&&(n=g(this,a,"f").call(this,t))}catch(n){if(x("No network client found with ID",t),!e)throw n}return!n&&e&&(r=g(this,s,"f").call(this,e),n=g(this,a,"f").call(this,r)),{...n,id:r}}},s=new WeakMap,a=new WeakMap,i=new WeakMap,o=new WeakMap,c=new WeakMap,u=new WeakMap,l=new WeakMap,d=new WeakMap,m=new WeakMap,r=new WeakSet,p=function(e){const t=g(this,d,"f").get(e);t&&(t.pendingTransactionTracker.stop(),g(this,o,"f").call(this,t.pendingTransactionTracker),g(this,d,"f").delete(e))},h=function(e){if(g(this,d,"f").get(e))return;const{provider:t,blockTracker:n,configuration:{chainId:r}}=g(this,a,"f").call(this,e),s=g(this,c,"f").call(this,{provider:t,blockTracker:n,chainId:r}),i=g(this,u,"f").call(this,{provider:t,blockTracker:n,chainId:r,networkClientId:e});g(this,d,"f").set(e,{nonceTracker:s,pendingTransactionTracker:i})}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/helpers/MultichainTrackingHelper.cjs"}],[2824,{"../logger.cjs":2827,"../types.cjs":2828,"./TransactionPoller.cjs":2825,"@metamask/controller-utils":1509,events:4267,lodash:4787},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,s,a,i,o,c,u,l,d,m,p,h,f,g,y,b,x,v,S,w,k,T,E,A,j,C,P,_,I,O,R,N,B,M,L,F,D=this&&this.__classPrivateFieldSet||function(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n},U=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},G=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.PendingTransactionTracker=void 0;const $=e("@metamask/controller-utils"),H=G(e("events")),z=e("lodash"),V=e("./TransactionPoller.cjs"),W=e("../logger.cjs"),q=e("../types.cjs"),J=["replacement transaction underpriced","known transaction","gas price too low to replace","transaction with the same hash was already imported","gateway timeout","nonce too low"],K=(0,W.createModuleLogger)(W.projectLogger,"pending-transactions");n.PendingTransactionTracker=class{constructor({blockTracker:e,getChainId:t,getEthQuery:n,getNetworkClientId:v,getTransactions:S,isResubmitEnabled:w,getGlobalLock:k,publishTransaction:T,hooks:E}){r.add(this),s.set(this,void 0),a.set(this,void 0),i.set(this,void 0),o.set(this,void 0),c.set(this,void 0),u.set(this,void 0),l.set(this,void 0),d.set(this,void 0),m.set(this,void 0),p.set(this,void 0),h.set(this,void 0),f.set(this,void 0),g.set(this,void 0),y.set(this,void 0),this.startIfPendingTransactions=()=>{const e=U(this,r,"m",P).call(this);e.length?U(this,r,"m",b).call(this,e):this.stop()},this.hub=new H.default,D(this,s,new Map,"f"),D(this,a,t,"f"),D(this,i,n,"f"),D(this,o,v,"f"),D(this,c,S,"f"),D(this,u,w??(()=>!0),"f"),D(this,l,U(this,r,"m",x).bind(this),"f"),D(this,m,k,"f"),D(this,p,T,"f"),D(this,h,!1,"f"),D(this,f,new V.TransactionPoller(e),"f"),D(this,y,E?.beforePublish??(()=>!0),"f"),D(this,g,E?.beforeCheckPendingTransaction??(()=>!0),"f"),D(this,d,(0,W.createModuleLogger)(K,`${t()}:${v()}`),"f")}async forceCheckTransaction(e){const t=await U(this,m,"f").call(this);try{await U(this,r,"m",E).call(this,e)}catch(e){U(this,d,"f").call(this,"Failed to check transaction",e)}finally{t()}}stop(){U(this,h,"f")&&(U(this,f,"f").stop(),D(this,h,!1,"f"),U(this,d,"f").call(this,"Stopped polling"))}},s=new WeakMap,a=new WeakMap,i=new WeakMap,o=new WeakMap,c=new WeakMap,u=new WeakMap,l=new WeakMap,d=new WeakMap,m=new WeakMap,p=new WeakMap,h=new WeakMap,f=new WeakMap,g=new WeakMap,y=new WeakMap,r=new WeakSet,b=function(e){U(this,f,"f").setPendingTransactions(e),U(this,h,"f")||(U(this,f,"f").start(U(this,l,"f")),D(this,h,!0,"f"),U(this,d,"f").call(this,"Started polling"))},x=async function(e){const t=await U(this,m,"f").call(this);try{await U(this,r,"m",v).call(this)}catch(e){U(this,d,"f").call(this,"Failed to check transactions",e)}finally{t()}try{await U(this,r,"m",S).call(this,e)}catch(e){U(this,d,"f").call(this,"Failed to resubmit transactions",e)}},v=async function(){U(this,d,"f").call(this,"Checking transactions");const e=U(this,r,"m",P).call(this);e.length?(U(this,d,"f").call(this,"Found pending transactions to check",{count:e.length,ids:e.map((e=>e.id))}),await Promise.all(e.map((e=>U(this,r,"m",E).call(this,e))))):U(this,d,"f").call(this,"No pending transactions to check")},S=async function(e){if(!U(this,u,"f").call(this)||!U(this,h,"f"))return;U(this,d,"f").call(this,"Resubmitting transactions");const t=U(this,r,"m",P).call(this);if(t.length){U(this,d,"f").call(this,"Found pending transactions to resubmit",{count:t.length,ids:t.map((e=>e.id))});for(const n of t)try{await U(this,r,"m",k).call(this,n,e)}catch(e){const t=e.value?.message?.toLowerCase()||e.message?.toLowerCase()||String(e);if(U(this,r,"m",w).call(this,t)){U(this,d,"f").call(this,"Ignoring known transaction error",t);continue}U(this,r,"m",_).call(this,n,e.message,"There was an error when resubmitting this transaction.")}}else U(this,d,"f").call(this,"No pending transactions to resubmit")},w=function(e){return J.some((t=>e.includes(t)))},k=async function(e,t){if(!U(this,r,"m",T).call(this,e,t))return;if(!U(this,y,"f").call(this,e))return;const n=U(this,i,"f").call(this,e.networkClientId);await U(this,p,"f").call(this,n,e);const s=(e.retryCount??0)+1;U(this,r,"m",R).call(this,(0,z.merge)({},e,{retryCount:s}),"PendingTransactionTracker:transaction-retry - Retry count increased")},T=function(e,t){const n=(0,z.cloneDeep)(e);n.firstRetryBlockNumber||(n.firstRetryBlockNumber=t,U(this,r,"m",R).call(this,n,"PendingTransactionTracker:#isResubmitDue - First retry block number set"));const{firstRetryBlockNumber:s}=n,a=Number.parseInt(t,16)-Number.parseInt(s,16),i=e.retryCount||0;return a>=Math.min(50,Math.pow(2,i))},E=async function(e){const{hash:t,id:n}=e;if(!t&&U(this,g,"f").call(this,e)){const t=new Error("We had an error while submitting this transaction, please try again.");return t.name="NoTxHashError",void U(this,r,"m",I).call(this,e,t)}if(U(this,r,"m",C).call(this,e))return U(this,d,"f").call(this,"Nonce already taken",n),void U(this,r,"m",O).call(this,e);try{const n=await U(this,r,"m",N).call(this,t),s="0x1"===n?.status;if("0x0"===n?.status)return U(this,d,"f").call(this,"Transaction receipt has failed status"),void U(this,r,"m",I).call(this,e,new Error("Transaction dropped or replaced"));const{blockNumber:a,blockHash:i}=n||{};if(s&&a&&i)return void await U(this,r,"m",A).call(this,e,{...n,blockNumber:a,blockHash:i})}catch(t){return U(this,d,"f").call(this,"Failed to check transaction",n,t),void U(this,r,"m",_).call(this,e,t.message,"There was a problem loading this transaction.")}await U(this,r,"m",j).call(this,e)&&U(this,r,"m",O).call(this,e)},A=async function(e,t){const{id:n}=e,{blockHash:s}=t;U(this,d,"f").call(this,"Transaction confirmed",n);const{baseFeePerGas:a,timestamp:i}=await U(this,r,"m",B).call(this,s,!1),o=(0,z.cloneDeep)(e);o.baseFeePerGas=a,o.blockTimestamp=i,o.status=q.TransactionStatus.confirmed,o.txParams={...o.txParams,gasUsed:t.gasUsed},o.txReceipt=t,o.verifiedOnBlockchain=!0,U(this,r,"m",R).call(this,o,"PendingTransactionTracker:#onTransactionConfirmed - Transaction confirmed"),this.hub.emit("transaction-confirmed",o)},j=async function(e){const{hash:t,id:n,txParams:{nonce:a,from:i}}=e;if(!a||!t)return!1;const o=await U(this,r,"m",M).call(this,i),c=parseInt(o,16);if(parseInt(a,16)>=c)return!1;let u=U(this,s,"f").get(t);return u===undefined&&(u=0,U(this,s,"f").set(t,u)),u<3?(U(this,d,"f").call(this,"Incrementing dropped block count",{id:n,droppedBlockCount:u}),U(this,s,"f").set(t,u+1),!1):(U(this,d,"f").call(this,"Hit dropped block count",n),U(this,s,"f").delete(t),!0)},C=function(e){const{id:t,txParams:n}=e;return U(this,r,"m",L).call(this).some((e=>e.id!==t&&e.txParams.from===n.from&&e.status===q.TransactionStatus.confirmed&&e.txParams.nonce===n.nonce&&e.type!==q.TransactionType.incoming))},P=function(){return U(this,r,"m",F).call(this).filter((e=>e.status===q.TransactionStatus.submitted&&!e.verifiedOnBlockchain&&!e.isUserOperation))},_=function(e,t,n){U(this,r,"m",R).call(this,{...e,warning:{error:t,message:n}},"PendingTransactionTracker:#warnTransaction - Warning added")},I=function(e,t){U(this,d,"f").call(this,"Transaction failed",e.id,t),this.hub.emit("transaction-failed",e,t)},O=function(e){U(this,d,"f").call(this,"Transaction dropped",e.id),this.hub.emit("transaction-dropped",e)},R=function(e,t){this.hub.emit("transaction-updated",e,t)},N=async function(e){return await(0,$.query)(U(this,i,"f").call(this),"getTransactionReceipt",[e])},B=async function(e,t){return await(0,$.query)(U(this,i,"f").call(this),"getBlockByHash",[e,t])},M=async function(e){return await(0,$.query)(U(this,i,"f").call(this),"getTransactionCount",[e])},L=function(){const e=U(this,a,"f").call(this);return U(this,c,"f").call(this).filter((t=>t.chainId===e))},F=function(){const e=U(this,o,"f").call(this);return U(this,c,"f").call(this).filter((t=>t.networkClientId===e))}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/helpers/PendingTransactionTracker.cjs"}],[2825,{"../logger.cjs":2827,"@metamask/utils":2872,lodash:4787},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,s,a,i,o,c,u,l,d,m,p,h,f=this&&this.__classPrivateFieldSet||function(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n},g=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.TransactionPoller=n.ACCELERATED_INTERVAL=n.ACCELERATED_COUNT_MAX=void 0;const y=e("@metamask/utils"),b=e("lodash"),x=e("../logger.cjs");n.ACCELERATED_COUNT_MAX=10,n.ACCELERATED_INTERVAL=3e3;const v=(0,y.createModuleLogger)(x.projectLogger,"transaction-poller");n.TransactionPoller=class{constructor(e){r.add(this),s.set(this,0),a.set(this,void 0),i.set(this,void 0),o.set(this,void 0),c.set(this,void 0),u.set(this,!1),l.set(this,void 0),f(this,a,e,"f")}start(e){g(this,u,"f")||(f(this,o,e,"f"),f(this,u,!0,"f"),g(this,r,"m",d).call(this),v("Started"))}stop(){g(this,u,"f")&&(f(this,u,!1,"f"),f(this,o,undefined,"f"),f(this,s,0,"f"),f(this,c,undefined,"f"),g(this,r,"m",p).call(this),g(this,r,"m",h).call(this),v("Stopped"))}setPendingTransactions(e){const t=(g(this,c,"f")??[]).map((e=>e.id));f(this,c,e,"f");const n=e.map((e=>e.id)),a=!(0,b.isEqual)(t,n);g(this,u,"f")&&a&&(v("Detected new pending transactions",n),f(this,s,0,"f"),g(this,i,"f")&&(g(this,r,"m",h).call(this),g(this,r,"m",d).call(this)))}},s=new WeakMap,a=new WeakMap,i=new WeakMap,o=new WeakMap,c=new WeakMap,u=new WeakMap,l=new WeakMap,r=new WeakSet,d=function e(){if(g(this,u,"f")){if(g(this,s,"f")>=n.ACCELERATED_COUNT_MAX)return f(this,i,(e=>g(this,r,"m",m).call(this,!1,e)),"f"),g(this,a,"f").on("latest",g(this,i,"f")),void v("Added block tracker listener");g(this,r,"m",p).call(this),f(this,l,setTimeout((async()=>{await g(this,r,"m",m).call(this,!0),g(this,r,"m",e).call(this)}),n.ACCELERATED_INTERVAL),"f")}},m=async function(e,t){e?v("Accelerated interval",g(this,s,"f")+1):v("Block tracker interval",t);const n=t??await g(this,a,"f").getLatestBlock();await(g(this,o,"f")?.call(this,n)),e&&g(this,u,"f")&&f(this,s,g(this,s,"f")+1,"f")},p=function(){g(this,l,"f")&&(clearTimeout(g(this,l,"f")),f(this,l,undefined,"f"))},h=function(){g(this,i,"f")&&(g(this,a,"f").removeListener("latest",g(this,i,"f")),f(this,i,undefined,"f"))}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/helpers/TransactionPoller.cjs"}],[2826,{"./TransactionController.cjs":2809,"./constants.cjs":2811,"./helpers/AccountsApiRemoteTransactionSource.cjs":2819,"./types.cjs":2828,"./utils/gas-flow.cjs":2831,"./utils/history.cjs":2833,"./utils/transaction-type.cjs":2841,"./utils/utils.cjs":2842},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.INCOMING_TRANSACTIONS_SUPPORTED_CHAIN_IDS=n.CHAIN_IDS=n.normalizeTransactionParams=n.isEIP1559Transaction=n.mergeGasFeeEstimates=n.determineTransactionType=n.MAX_TRANSACTION_HISTORY_LENGTH=n.DISPLAYED_TRANSACTION_HISTORY_PATHS=n.WalletDevice=n.UserFeeLevel=n.TransactionType=n.TransactionStatus=n.TransactionEnvelopeType=n.SimulationTokenStandard=n.SimulationErrorCode=n.GasFeeEstimateType=n.GasFeeEstimateLevel=n.TransactionController=n.SPEED_UP_RATE=n.CANCEL_RATE=n.HARDFORK=void 0;var r=e("./TransactionController.cjs");Object.defineProperty(n,"HARDFORK",{enumerable:!0,get:function(){return r.HARDFORK}}),Object.defineProperty(n,"CANCEL_RATE",{enumerable:!0,get:function(){return r.CANCEL_RATE}}),Object.defineProperty(n,"SPEED_UP_RATE",{enumerable:!0,get:function(){return r.SPEED_UP_RATE}}),Object.defineProperty(n,"TransactionController",{enumerable:!0,get:function(){return r.TransactionController}});var s=e("./types.cjs");Object.defineProperty(n,"GasFeeEstimateLevel",{enumerable:!0,get:function(){return s.GasFeeEstimateLevel}}),Object.defineProperty(n,"GasFeeEstimateType",{enumerable:!0,get:function(){return s.GasFeeEstimateType}}),Object.defineProperty(n,"SimulationErrorCode",{enumerable:!0,get:function(){return s.SimulationErrorCode}}),Object.defineProperty(n,"SimulationTokenStandard",{enumerable:!0,get:function(){return s.SimulationTokenStandard}}),Object.defineProperty(n,"TransactionEnvelopeType",{enumerable:!0,get:function(){return s.TransactionEnvelopeType}}),Object.defineProperty(n,"TransactionStatus",{enumerable:!0,get:function(){return s.TransactionStatus}}),Object.defineProperty(n,"TransactionType",{enumerable:!0,get:function(){return s.TransactionType}}),Object.defineProperty(n,"UserFeeLevel",{enumerable:!0,get:function(){return s.UserFeeLevel}}),Object.defineProperty(n,"WalletDevice",{enumerable:!0,get:function(){return s.WalletDevice}});var a=e("./utils/history.cjs");Object.defineProperty(n,"DISPLAYED_TRANSACTION_HISTORY_PATHS",{enumerable:!0,get:function(){return a.DISPLAYED_TRANSACTION_HISTORY_PATHS}}),Object.defineProperty(n,"MAX_TRANSACTION_HISTORY_LENGTH",{enumerable:!0,get:function(){return a.MAX_TRANSACTION_HISTORY_LENGTH}});var i=e("./utils/transaction-type.cjs");Object.defineProperty(n,"determineTransactionType",{enumerable:!0,get:function(){return i.determineTransactionType}});var o=e("./utils/gas-flow.cjs");Object.defineProperty(n,"mergeGasFeeEstimates",{enumerable:!0,get:function(){return o.mergeGasFeeEstimates}});var c=e("./utils/utils.cjs");Object.defineProperty(n,"isEIP1559Transaction",{enumerable:!0,get:function(){return c.isEIP1559Transaction}}),Object.defineProperty(n,"normalizeTransactionParams",{enumerable:!0,get:function(){return c.normalizeTransactionParams}});var u=e("./constants.cjs");Object.defineProperty(n,"CHAIN_IDS",{enumerable:!0,get:function(){return u.CHAIN_IDS}});var l=e("./helpers/AccountsApiRemoteTransactionSource.cjs");Object.defineProperty(n,"INCOMING_TRANSACTIONS_SUPPORTED_CHAIN_IDS",{enumerable:!0,get:function(){return l.SUPPORTED_CHAIN_IDS}})}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/index.cjs"}],[2827,{"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createModuleLogger=n.incomingTransactionsLogger=n.projectLogger=void 0;const r=e("@metamask/utils");Object.defineProperty(n,"createModuleLogger",{enumerable:!0,get:function(){return r.createModuleLogger}}),n.projectLogger=(0,r.createProjectLogger)("transaction-controller"),n.incomingTransactionsLogger=(0,r.createModuleLogger)(n.projectLogger,"incoming-transactions")}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/logger.cjs"}],[2828,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,s,a,i,o,c,u,l,d;Object.defineProperty(n,"__esModule",{value:!0}),n.SimulationErrorCode=n.SimulationTokenStandard=n.GasFeeEstimateType=n.GasFeeEstimateLevel=n.UserFeeLevel=n.TransactionEnvelopeType=n.TransactionType=n.WalletDevice=n.TransactionStatus=void 0,function(e){e.unapproved="unapproved",e.approved="approved",e.signed="signed",e.submitted="submitted",e.confirmed="confirmed",e.failed="failed",e.dropped="dropped",e.rejected="rejected",e.cancelled="cancelled"}(r||(n.TransactionStatus=r={})),function(e){e.MM_MOBILE="metamask_mobile",e.MM_EXTENSION="metamask_extension",e.OTHER="other_device"}(s||(n.WalletDevice=s={})),function(e){e.bridge="bridge",e.bridgeApproval="bridgeApproval",e.cancel="cancel",e.contractInteraction="contractInteraction",e.deployContract="contractDeployment",e.ethDecrypt="eth_decrypt",e.ethGetEncryptionPublicKey="eth_getEncryptionPublicKey",e.incoming="incoming",e.personalSign="personal_sign",e.retry="retry",e.simpleSend="simpleSend",e.signTypedData="eth_signTypedData",e.smart="smart",e.stakingClaim="stakingClaim",e.stakingDeposit="stakingDeposit",e.stakingUnstake="stakingUnstake",e.swap="swap",e.swapAndSend="swapAndSend",e.swapApproval="swapApproval",e.tokenMethodApprove="approve",e.tokenMethodSafeTransferFrom="safetransferfrom",e.tokenMethodTransfer="transfer",e.tokenMethodTransferFrom="transferfrom",e.tokenMethodSetApprovalForAll="setapprovalforall",e.tokenMethodIncreaseAllowance="increaseAllowance"}(a||(n.TransactionType=a={})),function(e){e.legacy="0x0",e.accessList="0x1",e.feeMarket="0x2"}(i||(n.TransactionEnvelopeType=i={})),function(e){e.CUSTOM="custom",e.DAPP_SUGGESTED="dappSuggested",e.MEDIUM="medium"}(o||(n.UserFeeLevel=o={})),function(e){e.Low="low",e.Medium="medium",e.High="high"}(c||(n.GasFeeEstimateLevel=c={})),function(e){e.FeeMarket="fee-market",e.Legacy="legacy",e.GasPrice="eth_gasPrice"}(u||(n.GasFeeEstimateType=u={})),function(e){e.erc20="erc20",e.erc721="erc721",e.erc1155="erc1155"}(l||(n.SimulationTokenStandard=l={})),function(e){e.ChainNotSupported="chain-not-supported",e.Disabled="disabled",e.InvalidResponse="invalid-response",e.Reverted="reverted"}(d||(n.SimulationErrorCode=d={}))}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/types.cjs"}],[2829,{"../types.cjs":2828,"@metamask/rpc-errors":2336},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.validateConfirmedExternalTransaction=void 0;const r=e("@metamask/rpc-errors"),s=e("../types.cjs");n.validateConfirmedExternalTransaction=function(e,t,n){if(!e||!e.txParams)throw r.rpcErrors.invalidParams('"transactionMeta" or "transactionMeta.txParams" is missing');if(e.status!==s.TransactionStatus.confirmed)throw r.rpcErrors.invalidParams('External transaction status should be "confirmed"');const a=e.txParams.nonce;if(n&&n.length>0){if(n.find((e=>e.txParams?.nonce===a)))throw r.rpcErrors.invalidParams("External transaction nonce should not be in pending txs")}if(t&&t.length>0){if(t.find((e=>e.txParams?.nonce===a)))throw r.rpcErrors.invalidParams("External transaction nonce should not be in confirmed txs")}}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/external-transactions.cjs"}],[2830,{"../logger.cjs":2827,"../types.cjs":2828,"./gas-flow.cjs":2831,"./swaps.cjs":2840,"@metamask/controller-utils":1509,"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.gweiDecimalToWeiHex=n.updateGasFees=void 0;const r=e("@metamask/controller-utils"),s=e("@metamask/utils"),a=e("../logger.cjs"),i=e("../types.cjs"),o=e("./gas-flow.cjs"),c=e("./swaps.cjs"),u=(0,s.createModuleLogger)(a.projectLogger,"gas-fees");function l(e){return(0,r.toHex)((0,r.gweiDecToWEIBN)(e))}n.updateGasFees=async function(e){const{txMeta:t}=e,n={...t.txParams},a=c.SWAP_TRANSACTION_TYPES.includes(t.type)?undefined:e.getSavedGasFees(t.chainId),d=await async function(e){const{eip1559:t,ethQuery:n,gasFeeFlows:a,getGasFeeEstimates:c,txMeta:l}=e,{networkClientId:d}=l;if(!t&&l.txParams.gasPrice||t&&l.txParams.maxFeePerGas&&l.txParams.maxPriorityFeePerGas)return{};const m=(0,o.getGasFeeFlow)(l,a);try{const e=await c({networkClientId:d}),t=await m.getGasFees({ethQuery:n,gasFeeControllerData:e,transactionMeta:l}),r=t.estimates?.type;switch(r){case i.GasFeeEstimateType.FeeMarket:return t.estimates.medium;case i.GasFeeEstimateType.Legacy:return{gasPrice:t.estimates.medium};case i.GasFeeEstimateType.GasPrice:return{gasPrice:t.estimates.gasPrice};default:throw new Error(`Unsupported gas fee estimate type returned from flow: ${r}`)}}catch(e){u("Failed to get suggested gas fees",e)}const p=await(0,r.query)(n,"gasPrice");return{gasPrice:p?(0,s.add0x)(p.toString(16)):undefined}}(e);u("Suggested gas fees",d);const m={...e,initialParams:n,savedGasFees:a,suggestedGasFees:d};t.txParams.maxFeePerGas=function(e){const{savedGasFees:t,eip1559:n,initialParams:r,suggestedGasFees:s}=e;if(!n)return undefined;if(t){const e=l(t.maxBaseFee);return u("Using maxFeePerGas from savedGasFees",e),e}if(r.maxFeePerGas)return u("Using maxFeePerGas from request",r.maxFeePerGas),r.maxFeePerGas;if(r.gasPrice&&!r.maxPriorityFeePerGas)return u("Setting maxFeePerGas to gasPrice from request",r.gasPrice),r.gasPrice;if(s.maxFeePerGas)return u("Using suggested maxFeePerGas",s.maxFeePerGas),s.maxFeePerGas;if(s.gasPrice)return u("Setting maxFeePerGas to suggested gasPrice",s.gasPrice),s.gasPrice;return u("maxFeePerGas not set"),undefined}(m),t.txParams.maxPriorityFeePerGas=function(e){const{eip1559:t,initialParams:n,savedGasFees:r,suggestedGasFees:s,txMeta:a}=e;if(!t)return undefined;if(r){const e=l(r.priorityFee);return u("Using maxPriorityFeePerGas from savedGasFees.priorityFee",e),e}if(n.maxPriorityFeePerGas)return u("Using maxPriorityFeePerGas from request",n.maxPriorityFeePerGas),n.maxPriorityFeePerGas;if(n.gasPrice&&!n.maxFeePerGas)return u("Setting maxPriorityFeePerGas to gasPrice from request",n.gasPrice),n.gasPrice;if(s.maxPriorityFeePerGas)return u("Using suggested maxPriorityFeePerGas",s.maxPriorityFeePerGas),s.maxPriorityFeePerGas;if(a.txParams.maxFeePerGas)return u("Setting maxPriorityFeePerGas to maxFeePerGas",a.txParams.maxFeePerGas),a.txParams.maxFeePerGas;return u("maxPriorityFeePerGas not set"),undefined}(m),t.txParams.gasPrice=function(e){const{eip1559:t,initialParams:n,suggestedGasFees:r}=e;if(t)return undefined;if(n.gasPrice)return u("Using gasPrice from request",n.gasPrice),n.gasPrice;if(r.maxFeePerGas)return u("Using suggested maxFeePerGas",r.maxFeePerGas),r.maxFeePerGas;if(r.gasPrice)return u("Using suggested gasPrice",r.gasPrice),r.gasPrice;return u("gasPrice not set"),undefined}(m),t.userFeeLevel=function(e){const{eip1559:t,initialParams:n,savedGasFees:s,suggestedGasFees:a,txMeta:o}=e;if(!t)return undefined;if(s)return i.UserFeeLevel.CUSTOM;if(!n.maxFeePerGas&&!n.maxPriorityFeePerGas&&n.gasPrice)return o.origin===r.ORIGIN_METAMASK?i.UserFeeLevel.CUSTOM:i.UserFeeLevel.DAPP_SUGGESTED;if(!n.maxFeePerGas&&!n.maxPriorityFeePerGas&&a.maxFeePerGas&&a.maxPriorityFeePerGas)return i.UserFeeLevel.MEDIUM;if(o.origin===r.ORIGIN_METAMASK)return i.UserFeeLevel.MEDIUM;return i.UserFeeLevel.DAPP_SUGGESTED}(m),u("Updated gas fee properties",{maxFeePerGas:t.txParams.maxFeePerGas,maxPriorityFeePerGas:t.txParams.maxPriorityFeePerGas,gasPrice:t.txParams.gasPrice}),(t.txParams.maxFeePerGas||t.txParams.maxPriorityFeePerGas)&&delete t.txParams.gasPrice,t.txParams.gasPrice&&(delete t.txParams.maxFeePerGas,delete t.txParams.maxPriorityFeePerGas),function(e){e.defaultGasEstimates||(e.defaultGasEstimates={});e.defaultGasEstimates.maxFeePerGas=e.txParams.maxFeePerGas,e.defaultGasEstimates.maxPriorityFeePerGas=e.txParams.maxPriorityFeePerGas,e.defaultGasEstimates.gasPrice=e.txParams.gasPrice,e.defaultGasEstimates.estimateType=e.userFeeLevel}(t)},n.gweiDecimalToWeiHex=l}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/gas-fees.cjs"}],[2831,{"../types.cjs":2828,"@metamask/controller-utils":1509},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.mergeGasFeeEstimates=n.getGasFeeFlow=void 0;const r=e("@metamask/controller-utils"),s=e("../types.cjs");function a(e,t){return(0,r.weiHexToGweiDec)(e[t])}n.getGasFeeFlow=function(e,t){return t.find((t=>t.matchesTransaction(e)))},n.mergeGasFeeEstimates=function({gasFeeControllerEstimates:e,transactionGasFeeEstimates:t}){const n=t.type;return n===s.GasFeeEstimateType.FeeMarket?Object.values(s.GasFeeEstimateLevel).reduce(((n,s)=>{return{...n,[s]:(a=e?.[s],i=t[s],{...a,suggestedMaxFeePerGas:(0,r.weiHexToGweiDec)(i.maxFeePerGas),suggestedMaxPriorityFeePerGas:(0,r.weiHexToGweiDec)(i.maxPriorityFeePerGas)})};var a,i}),{...e}):n===s.GasFeeEstimateType.Legacy?Object.values(s.GasFeeEstimateLevel).reduce(((e,n)=>({...e,[n]:a(t,n)})),{}):n===s.GasFeeEstimateType.GasPrice?{gasPrice:(i=t,(0,r.weiHexToGweiDec)(i.gasPrice))}:e;var i}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/gas-flow.cjs"}],[2832,{"../constants.cjs":2811,"../logger.cjs":2827,"@metamask/controller-utils":1509,"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.addGasBuffer=n.estimateGas=n.updateGas=n.MAX_GAS_BLOCK_PERCENT=n.GAS_ESTIMATE_FALLBACK_BLOCK_PERCENT=n.DEFAULT_GAS_MULTIPLIER=n.FIXED_GAS=n.log=void 0;const r=e("@metamask/controller-utils"),s=e("@metamask/utils"),a=e("../constants.cjs"),i=e("../logger.cjs");async function o(e,t){const a={...e},{data:i,value:o}=a,{gasLimit:c,number:u}=await async function(e){return await(0,r.query)(e,"getBlockByNumber",["latest",!1])}(t),l=(0,r.hexToBN)(c),d=(0,r.BNToHex)((0,r.fractionBN)(l,n.GAS_ESTIMATE_FALLBACK_BLOCK_PERCENT,100));a.data=i?(0,s.add0x)(i):i,a.value=o||"0x0",delete a.gasPrice,delete a.maxFeePerGas,delete a.maxPriorityFeePerGas;let m,p=d;try{p=await(0,r.query)(t,"estimateGas",[a])}catch(e){m={reason:e.message,errorKey:e.errorKey,debug:{blockNumber:u,blockGasLimit:c}},(0,n.log)("Estimation failed",{...m,fallback:d})}return{blockGasLimit:c,estimatedGas:p,simulationFails:m}}function c(e,t,a){const i=(0,r.hexToBN)(e),o=(0,r.fractionBN)((0,r.hexToBN)(t),n.MAX_GAS_BLOCK_PERCENT,100),c=(0,r.fractionBN)(i,100*a,100);if(i.gt(o)){const t=(0,s.add0x)(e);return(0,n.log)("Using estimated value",t),t}if(c.lt(o)){const e=(0,s.add0x)((0,r.BNToHex)(c));return(0,n.log)("Using padded estimate",e,a),e}const u=(0,s.add0x)((0,r.BNToHex)(o));return(0,n.log)("Using 90% of block gas limit",u),u}n.log=(0,s.createModuleLogger)(i.projectLogger,"gas"),n.FIXED_GAS="0x5208",n.DEFAULT_GAS_MULTIPLIER=1.5,n.GAS_ESTIMATE_FALLBACK_BLOCK_PERCENT=35,n.MAX_GAS_BLOCK_PERCENT=90,n.updateGas=async function(e){const{txMeta:t}=e,s={...t.txParams},[i,u,l]=await async function(e){const{isCustomNetwork:t,chainId:s,txMeta:i}=e;if(i.txParams.gas)return(0,n.log)("Using value from request",i.txParams.gas),[i.txParams.gas,undefined,i.txParams.gas];if(await async function({ethQuery:e,txMeta:t,isCustomNetwork:n}){const{txParams:{to:s,data:a}}=t;if(n||!s||a)return!1;const i=await async function(e,t){return await(0,r.query)(e,"getCode",[t])}(e,s);return!i||"0x"===i}(e))return(0,n.log)("Using fixed value",n.FIXED_GAS),[n.FIXED_GAS,undefined,n.FIXED_GAS];const{blockGasLimit:u,estimatedGas:l,simulationFails:d}=await o(i.txParams,e.ethQuery);if(t||d)return(0,n.log)(t?"Using original estimate as custom network":"Using original fallback estimate as simulation failed"),[l,d,l];const m=a.GAS_BUFFER_CHAIN_OVERRIDES[s]??n.DEFAULT_GAS_MULTIPLIER;return[c(l,u,m),d,l]}(e);t.txParams.gas=i,t.simulationFails=u,t.gasLimitNoBuffer=l,s.gas||(t.originalGasEstimate=t.txParams.gas),t.defaultGasEstimates||(t.defaultGasEstimates={}),t.defaultGasEstimates.gas=t.txParams.gas},n.estimateGas=o,n.addGasBuffer=c}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/gas.cjs"}],[2833,{"fast-json-patch":4301,lodash:4787},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.updateTransactionHistory=n.addInitialHistorySnapshot=n.DISPLAYED_TRANSACTION_HISTORY_PATHS=n.MAX_TRANSACTION_HISTORY_LENGTH=void 0;const s=r(e("fast-json-patch")),a=e("lodash");function i(e,t,n){const r=s.default.compare(e,t);return r[0]&&(n&&(r[0].note=n),r[0].timestamp=Date.now()),r}function o(e){return(0,a.cloneDeep)(e).reduce(((e,t)=>s.default.applyPatch(e,t).newDocument))}function c(e){const t={...e};return delete t.history,(0,a.cloneDeep)(t)}n.MAX_TRANSACTION_HISTORY_LENGTH=100,n.DISPLAYED_TRANSACTION_HISTORY_PATHS=["/status","/txParams/gasPrice","/txParams/gas","/estimatedBaseFee","/blockTimestamp"],n.addInitialHistorySnapshot=function(e){const t=c(e);return(0,a.merge)({},e,{history:[t]})},n.updateTransactionHistory=function(e,t){if(!e.history)return e;const r=c(e),s=i(o(e.history),r,t);if(0===s.length)return e;let u=[...e.history,s];return u.length>n.MAX_TRANSACTION_HISTORY_LENGTH&&(u=function(e){const t=e[0],r=e.slice(1),s=r.findIndex((e=>!e.some((({path:e})=>n.DISPLAYED_TRANSACTION_HISTORY_PATHS.includes(e)))));if(-1===s)return e;const a=s===r.length-1?s-1:s+1,c=Math.min(s,a),u=r[c],l=r[c+1],d=o([t,...r.slice(0,c)]),m=o([d,u,l]),p=i(d,m,`${String(u[0].note)}, ${String(l[0].note)}`);return r.splice(c,2,p),[t,...r]}(u)),(0,a.merge)({},e,{history:u})}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/history.cjs"}],[2834,{"../logger.cjs":2827,"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getTransactionLayer1GasFee=n.updateTransactionLayer1GasFee=void 0;const r=e("@metamask/utils"),s=e("../logger.cjs"),a=(0,r.createModuleLogger)(s.projectLogger,"layer-1-gas-fee-flow");async function i({layer1GasFeeFlows:e,provider:t,transactionMeta:n}){const r=function(e,t){return t.find((t=>t.matchesTransaction(e)))}(n,e);if(!r)return undefined;a("Found layer 1 gas fee flow",r.constructor.name,n.id);try{const{layer1Fee:e}=await r.getLayer1Fee({provider:t,transactionMeta:n});return e}catch(e){return a("Failed to get layer 1 gas fee",n.id,e),undefined}}n.updateTransactionLayer1GasFee=async function(e){const t=await i(e);if(!t)return;const{transactionMeta:n}=e;n.layer1GasFee=t,a("Updated layer 1 gas fee",t,n.id)},n.getTransactionLayer1GasFee=i}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/layer1-gas-fee-flow.cjs"}],[2835,{"../logger.cjs":2827,"@metamask/controller-utils":1509},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getAndFormatTransactionsForNonceTracker=n.getNextNonce=void 0;const r=e("@metamask/controller-utils"),s=e("../logger.cjs"),a=(0,s.createModuleLogger)(s.projectLogger,"nonce");n.getNextNonce=async function(e,t){const{customNonceValue:n,txParams:{from:s,nonce:i}}=e,o=n?(0,r.toHex)(n):undefined;if(o)return a("Using custom nonce",o),[o,undefined];if(i)return a("Using existing nonce",i),[i,undefined];const c=await t(s),u=(0,r.toHex)(c.nextNonce),l=c.releaseLock.bind(c);return a("Using nonce from nonce tracker",u,c.nonceDetails),[u,l]},n.getAndFormatTransactionsForNonceTracker=function(e,t,n,r){return r.filter((({chainId:r,isTransfer:s,isUserOperation:a,status:i,txParams:{from:o}})=>!s&&!a&&r===e&&i===n&&o.toLowerCase()===t.toLowerCase())).map((({status:e,txParams:{from:t,gas:n,value:r,nonce:s}})=>({status:e,history:[{}],txParams:{from:t??"",gas:n??"",value:r??"",nonce:s??""}})))}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/nonce.cjs"}],[2836,{"../logger.cjs":2827,"./utils.cjs":2842,"@metamask/utils":2872,"bn.js":3893,lodash:4787},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.hasSimulationDataChanged=n.shouldResimulate=n.BLOCK_TIME_ADDITIONAL_SECONDS=n.VALUE_COMPARISON_PERCENT_THRESHOLD=n.BLOCKAID_RESULT_TYPE_MALICIOUS=n.RESIMULATE_PARAMS=void 0;const r=e("@metamask/utils"),s=e("bn.js"),a=e("lodash"),i=e("../logger.cjs"),o=e("./utils.cjs"),c=(0,r.createModuleLogger)(i.projectLogger,"resimulate");function u(e,t){return!l(e?.difference??"0x0",t?.difference??"0x0",!1===e?.isDecrease,!1===t?.isDecrease)}function l(e,t,a,i){let c=new s.BN((0,r.remove0x)(e),"hex"),u=new s.BN((0,r.remove0x)(t),"hex");return a&&(c=c.neg()),i&&(u=u.neg()),(0,o.getPercentageChange)(c,u)<=n.VALUE_COMPARISON_PERCENT_THRESHOLD}n.RESIMULATE_PARAMS=["to","value","data"],n.BLOCKAID_RESULT_TYPE_MALICIOUS="Malicious",n.VALUE_COMPARISON_PERCENT_THRESHOLD=5,n.BLOCK_TIME_ADDITIONAL_SECONDS=60,n.shouldResimulate=function(e,t){const{id:r}=t,s=function(e,t){const{id:r,txParams:s}=t,{txParams:i}=e;if(!i||(0,a.isEqual)(i,s))return!1;const o=Object.keys(s).filter((e=>s[e]!==i[e]));return c("Transaction parameters updated",{transactionId:r,updatedProperties:o,originalParams:i,newParams:s}),n.RESIMULATE_PARAMS.some((e=>o.includes(e)))}(e,t),i=function(e,t){const{securityAlertResponse:r}=e,{id:s,securityAlertResponse:i}=t;if((0,a.isEqual)(r,i))return!1;return c("Security alert updated",{transactionId:s,originalSecurityAlertResponse:r,newSecurityAlertResponse:i}),i?.result_type===n.BLOCKAID_RESULT_TYPE_MALICIOUS}(e,t),o=function(e,t){const{simulationData:n}=e,{simulationData:r,txParams:s}=t;if(!r||(0,a.isEqual)(n,r))return!1;return!l(s?.value??"0x0",r?.nativeBalanceChange?.difference??"0x0",!1,!1===r?.nativeBalanceChange?.isDecrease)}(e,t),u=s||i||o;let d;if(i||o){d=Math.floor(Date.now()/1e3)+n.BLOCK_TIME_ADDITIONAL_SECONDS}return u&&c("Transaction should be resimulated",{transactionId:r,blockTime:d,parametersUpdated:s,securityAlert:i,valueAndNativeBalanceMismatch:o}),{blockTime:d,resimulate:u}},n.hasSimulationDataChanged=function(e,t){if((0,a.isEqual)(e,t))return!1;if(u(e?.nativeBalanceChange,t?.nativeBalanceChange))return c("Simulation data native balance changed"),!0;if(e.tokenBalanceChanges.length!==t.tokenBalanceChanges.length)return!0;for(const n of e.tokenBalanceChanges){const e=t.tokenBalanceChanges.find((({address:e,id:t})=>e===n.address&&t===n.id));if(!e)return c("Missing new token balance",{address:n.address,id:n.id}),!0;if(u(n,e))return c("Simulation data token balance changed",{originalTokenBalanceChange:n,newTokenBalanceChange:e}),!0}return!1}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/resimulate.cjs"}],[2837,{"@metamask/controller-utils":1509,"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getTransactionParamsWithIncreasedGasFee=void 0;const r=e("@metamask/controller-utils"),s=e("@metamask/utils");function a(e,t){const n=(0,r.convertHexToDecimal)(e),a=parseInt(""+n*t,10);return(0,s.add0x)(a.toString(16))}n.getTransactionParamsWithIncreasedGasFee=function(e,t,n){const r=function(e,t,n){if(n&&"gasPrice"in n)return n.gasPrice;const r=e.gasPrice;if(!r||"0x0"===r)return undefined;return a(r,t)}(e,t,n),s=function(e,t,n){if(n&&"maxFeePerGas"in n&&"maxPriorityFeePerGas"in n)return n;const r=e.maxFeePerGas,s=e.maxPriorityFeePerGas;if(!r||!s||"0x0"===r||"0x0"===s)return undefined;const i=a(r,t),o=a(s,t);return{maxFeePerGas:i,maxPriorityFeePerGas:o}}(e,t,n);if(s){const t={...e,...s};return delete t.gasPrice,t}if(r){const t={...e,gasPrice:r};return delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,t}throw new Error("Cannot increase gas fee as no current values and no new values were provided")}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/retry.cjs"}],[2838,{"../errors.cjs":2812,"../logger.cjs":2827,"@metamask/controller-utils":1509,"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.simulateTransactions=void 0;const r=e("@metamask/controller-utils"),s=e("@metamask/utils"),a=e("../errors.cjs"),i=e("../logger.cjs"),o=(0,s.createModuleLogger)(i.projectLogger,"simulation-api"),c="https://tx-sentinel-{0}.api.cx.metamask.io/",u="networks";let l=0;function d(e){return c.replace("{0}",e)}n.simulateTransactions=async function(e,t){const n=await async function(e){const t=await async function(){const e=`${d("ethereum-mainnet")}${u}`,t=await fetch(e);return t.json()}(),n=(0,r.convertHexToDecimal)(e),s=t[n];if(!s?.confirmations)throw o("Chain is not supported",e),new a.SimulationChainNotSupportedError(e);return d(s.network)}(e);o("Sending request",n,t);const s=l;l+=1;const i=await fetch(n,{method:"POST",body:JSON.stringify({id:String(s),jsonrpc:"2.0",method:"infura_simulateTransactions",params:[t]})}),c=await i.json();if(o("Received response",c),c.error){const{code:e,message:t}=c.error;throw new a.SimulationError(t,e)}return c?.result}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/simulation-api.cjs"}],[2839,{"../constants.cjs":2811,"../errors.cjs":2812,"../logger.cjs":2827,"../types.cjs":2828,"./simulation-api.cjs":2838,"@ethersproject/abi":555,"@metamask/controller-utils":1509,"@metamask/metamask-eth-abis":1989,"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getEvents=n.getSimulationData=n.SupportedToken=void 0;const r=e("@ethersproject/abi"),s=e("@metamask/controller-utils"),a=e("@metamask/metamask-eth-abis"),i=e("@metamask/utils"),o=e("../constants.cjs"),c=e("../errors.cjs"),u=e("../logger.cjs"),l=e("../types.cjs"),d=e("./simulation-api.cjs");var m;!function(e){e.ERC20="erc20",e.ERC721="erc721",e.ERC1155="erc1155",e.ERC20_WRAPPED="erc20Wrapped",e.ERC721_LEGACY="erc721Legacy"}(m||(n.SupportedToken=m={}));const p=(0,i.createModuleLogger)(u.projectLogger,"simulation"),h=["Transfer","TransferSingle","TransferBatch","Deposit","Withdrawal"],f={[m.ERC20]:{abi:a.abiERC20,standard:l.SimulationTokenStandard.erc20},[m.ERC721]:{abi:a.abiERC721,standard:l.SimulationTokenStandard.erc721},[m.ERC1155]:{abi:a.abiERC1155,standard:l.SimulationTokenStandard.erc1155},[m.ERC20_WRAPPED]:{abi:o.ABI_SIMULATION_ERC20_WRAPPED,standard:l.SimulationTokenStandard.erc20},[m.ERC721_LEGACY]:{abi:o.ABI_SIMULATION_ERC721_LEGACY,standard:l.SimulationTokenStandard.erc721}},g=["execution reverted","insufficient funds for gas"];function y(e){const t=T(e.transactions[0]?.callTrace??{});p("Extracted logs",t);const n=function(){const e=Object.values(m);return new Map(e.map((e=>{const{abi:t}=f[e];return[e,new r.Interface(t)]})))}();return t.map((e=>{const t=function(e,t){const n=Object.values(m);for(const r of n)try{const n=t.get(r),{abi:s,standard:a}=f[r];return{...n.parseLog(e),abi:s,standard:a}}catch(e){continue}return undefined}(e,n);if(!t)return p("Failed to parse log",e),undefined;const r=t.abi.find((e=>e.name===t.name))?.inputs;if(!r)return p("Failed to find inputs for event",t),undefined;if(!h.includes(t.name))return p("Ignoring unsupported event",t.name,t),undefined;p("Normalizing event args",t.name,t);const s=function(e,t){return e.reduce(((e,n,r)=>{const s=t[r].name.replace("_",""),a=b(n);return e[s]=a,e}),{})}(t.args,r);return{contractAddress:e.address,tokenStandard:t.standard,name:t.name,args:s,abi:t.abi}})).filter((e=>e!==undefined))}function b(e){if(Array.isArray(e))return e.map(b);let t=e;return t=t.toHexString?.()??t,t=t.toLowerCase?.()??t,t}function x(e){return"Transfer"===e.name&&e.tokenStandard===l.SimulationTokenStandard.erc721&&0===parseInt(e.args.from,16)}function v(e){return e.tokenStandard===l.SimulationTokenStandard.erc721?[e.args.tokenId]:e.tokenStandard===l.SimulationTokenStandard.erc1155&&"TransferSingle"===e.name?[e.args.id]:e.tokenStandard===l.SimulationTokenStandard.erc1155&&"TransferBatch"===e.name?e.args.ids:[undefined]}function S(e){switch(e){case l.SimulationTokenStandard.erc721:return new r.Interface(a.abiERC721);case l.SimulationTokenStandard.erc1155:return new r.Interface(a.abiERC1155);default:return new r.Interface(a.abiERC20)}}function w(e,t,n){const r=S(t.standard);try{if(t.standard===l.SimulationTokenStandard.erc721){const t=r.decodeFunctionResult("ownerOf",n.return);return t[0].toLowerCase()===e.toLowerCase()?"0x1":"0x0"}const a=r.decodeFunctionResult("balanceOf",n.return);return(0,s.toHex)(a[0])}catch(e){throw p("Failed to decode balance transaction",e,{token:t,response:n}),new c.SimulationError(`Failed to decode balance transaction for token ${t.address}: ${String(e)}`)}}function k(e,t,n){const r=S(e);switch(e){case l.SimulationTokenStandard.erc721:return r.encodeFunctionData("ownerOf",[n]);case l.SimulationTokenStandard.erc1155:return r.encodeFunctionData("balanceOf",[t,n]);default:return r.encodeFunctionData("balanceOf",[t])}}function T(e){return[...e.logs??[],...(e.calls??[]).map((e=>T(e))).flat()]}function E(e,t){const n=(0,s.hexToBN)(t).sub((0,s.hexToBN)(e)),r=n.isNeg(),a=(0,s.toHex)(n.abs());return n.isZero()?(p("Balance change is zero"),undefined):{previousBalance:e,newBalance:t,difference:a,isDecrease:r}}n.getSimulationData=async function(e,t={}){const{chainId:n,from:r,to:a,value:i,data:o}=e,{blockTime:u}=t;p("Getting simulation data",e);try{const l=await(0,d.simulateTransactions)(n,{transactions:[{data:o,from:r,maxFeePerGas:"0x0",maxPriorityFeePerGas:"0x0",to:a,value:i}],withCallTrace:!0,withLogs:!0,...u&&{blockOverrides:{time:(0,s.toHex)(u)}}}),m=l.transactions?.[0]?.error;if(m)throw new c.SimulationError(m);const h=function(e,t){const n=t.transactions[0];if(!n)return undefined;const{stateDiff:r}=n,s=r?.pre?.[e]?.balance,a=r?.post?.[e]?.balance;if(!s||!a)return undefined;return E(s,a)}(e.from,l),f=y(l);p("Parsed events",f);const g=await async function(e,t,n){const{blockTime:r}=n,a=function(e,t){const n=new Set,r=new Map,s=new Map,a=t.filter((t=>[t.args.from,t.args.to].includes(e.from)));p("Filtered user events",a);for(const t of a){const a=v(t);p("Extracted token IDs",a);for(const i of a){const a={address:t.contractAddress,standard:t.tokenStandard,id:i},o=JSON.stringify(a);if(n.has(o)){p("Ignoring additional event with same contract and token ID",a);continue}n.add(o);const c=k(t.tokenStandard,e.from,i),u={from:e.from,to:t.contractAddress,data:c};x(t)||r.set(a,u),s.set(a,u)}}return{before:r,after:s}}(e,t);p("Generated balance transactions",[...a.after.values()]);const i=[...a.before.values(),e,...a.after.values()];if(1===i.length)return[];const o=await(0,d.simulateTransactions)(e.chainId,{transactions:i,...r&&{blockOverrides:{time:(0,s.toHex)(r)}}});if(p("Balance simulation response",o),o.transactions.length!==i.length)throw new c.SimulationInvalidResponseError;let u=0;return[...a.after.keys()].map(((t,n)=>{const r=E(!a.before.get(t)?"0x0":w(e.from,t,o.transactions[u++]),w(e.from,t,o.transactions[n+a.before.size+1]));return r?{...t,...r}:undefined})).filter((e=>e!==undefined))}(e,f,t);return{nativeBalanceChange:h,tokenBalanceChanges:g}}catch(t){p("Failed to get simulation data",t,e);let n=t;g.some((e=>n.message?.includes(e)))&&(n=new c.SimulationRevertedError);const{code:r,message:s}=n;return{tokenBalanceChanges:[],error:{code:r,message:s}}}},n.getEvents=y}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/simulation.cjs"}],[2840,{"../constants.cjs":2811,"../logger.cjs":2827,"../types.cjs":2828,"./utils.cjs":2842,"@metamask/controller-utils":1509,lodash:4787},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.updatePostTransactionBalance=n.updateSwapsTransaction=n.SWAP_TRANSACTION_TYPES=n.SWAPS_CHAINID_DEFAULT_TOKEN_MAP=n.DEFAULT_TOKEN_ADDRESS=n.UPDATE_POST_TX_BALANCE_ATTEMPTS=n.UPDATE_POST_TX_BALANCE_TIMEOUT=void 0;const r=e("@metamask/controller-utils"),s=e("lodash"),a=e("../constants.cjs"),i=e("../logger.cjs"),o=e("../types.cjs"),c=e("./utils.cjs"),u=(0,i.createModuleLogger)(i.projectLogger,"swaps");n.UPDATE_POST_TX_BALANCE_TIMEOUT=5e3,n.UPDATE_POST_TX_BALANCE_ATTEMPTS=6;n.DEFAULT_TOKEN_ADDRESS="0x0000000000000000000000000000000000000000";const l={name:"Ether",address:n.DEFAULT_TOKEN_ADDRESS,decimals:18},d={name:"Binance Coin",address:n.DEFAULT_TOKEN_ADDRESS,decimals:18},m={name:"Matic",address:n.DEFAULT_TOKEN_ADDRESS,decimals:18},p={name:"Avalanche",address:n.DEFAULT_TOKEN_ADDRESS,decimals:18},h={name:"Test Ether",address:n.DEFAULT_TOKEN_ADDRESS,decimals:18},f={name:"Ether",address:n.DEFAULT_TOKEN_ADDRESS,decimals:18},g={...l},y={...l},b={...l};function x(e,t){return!(!e||!t)&&e===n.SWAPS_CHAINID_DEFAULT_TOKEN_MAP[t]?.address}function v(e){return new Promise((t=>setTimeout(t,e)))}n.SWAPS_CHAINID_DEFAULT_TOKEN_MAP={[a.CHAIN_IDS.MAINNET]:l,"0x539":h,[a.CHAIN_IDS.BSC]:d,[a.CHAIN_IDS.POLYGON]:m,[a.CHAIN_IDS.GOERLI]:f,[a.CHAIN_IDS.AVALANCHE]:p,[a.CHAIN_IDS.OPTIMISM]:y,[a.CHAIN_IDS.ARBITRUM]:g,[a.CHAIN_IDS.ZKSYNC_ERA]:b},n.SWAP_TRANSACTION_TYPES=[o.TransactionType.swap,o.TransactionType.swapAndSend,o.TransactionType.swapApproval],n.updateSwapsTransaction=function(e,t,r,{isSwapsDisabled:a,cancelTransaction:i,messenger:u}){if(a||!n.SWAP_TRANSACTION_TYPES.includes(t))return e;if(t===o.TransactionType.swap&&!1===r?.hasApproveTx&&e.simulationFails)throw i(e.id),new Error("Simulation failed");const l=r?.meta;if(!l)return e;let d=e;return t===o.TransactionType.swapApproval&&(d=function(e,{type:t,sourceTokenSymbol:n}){(0,c.validateIfTransactionUnapproved)(e,"updateSwapApprovalTransaction");let r={type:t,sourceTokenSymbol:n};return r=(0,s.pickBy)({type:t,sourceTokenSymbol:n}),(0,s.merge)({},e,r)}(e,l),u.publish("TransactionController:transactionNewSwapApproval",{transactionMeta:d})),t===o.TransactionType.swapAndSend&&(d=function(e,{approvalTxId:t,destinationTokenAddress:n,destinationTokenAmount:r,destinationTokenDecimals:a,destinationTokenSymbol:i,estimatedBaseFee:o,sourceTokenAddress:u,sourceTokenAmount:l,sourceTokenDecimals:d,sourceTokenSymbol:m,swapAndSendRecipient:p,swapMetaData:h,swapTokenValue:f,type:g}){(0,c.validateIfTransactionUnapproved)(e,"updateSwapTransaction");let y={approvalTxId:t,destinationTokenAddress:n,destinationTokenAmount:r,destinationTokenDecimals:a,destinationTokenSymbol:i,estimatedBaseFee:o,sourceTokenAddress:u,sourceTokenAmount:l,sourceTokenDecimals:d,sourceTokenSymbol:m,swapAndSendRecipient:p,swapMetaData:h,swapTokenValue:f,type:g};return y=(0,s.pickBy)(y),(0,s.merge)({},e,y)}(e,l),u.publish("TransactionController:transactionNewSwapAndSend",{transactionMeta:d})),t===o.TransactionType.swap&&(d=function(e,{sourceTokenSymbol:t,destinationTokenSymbol:n,type:r,destinationTokenDecimals:a,destinationTokenAddress:i,swapMetaData:o,swapTokenValue:u,estimatedBaseFee:l,approvalTxId:d}){(0,c.validateIfTransactionUnapproved)(e,"updateSwapTransaction");let m={sourceTokenSymbol:t,destinationTokenSymbol:n,type:r,destinationTokenDecimals:a,destinationTokenAddress:i,swapMetaData:o,swapTokenValue:u,estimatedBaseFee:l,approvalTxId:d};return m=(0,s.pickBy)(m),(0,s.merge)({},e,m)}(e,l),u.publish("TransactionController:transactionNewSwap",{transactionMeta:d})),d},n.updatePostTransactionBalance=async function(e,{ethQuery:t,getTransaction:s,updateTransaction:a}){u("Updating post transaction balance",e.id);const i=e.id;let o,c;for(let a=0;a<n.UPDATE_POST_TX_BALANCE_ATTEMPTS;a++){u("Querying balance",{attempt:a});const l=await(0,r.query)(t,"getBalance",[e.txParams.from]);o={...s(i)??{}},c=o.approvalTxId?s(o.approvalTxId):undefined,o.postTxBalance=l.toString(16);const d=x(e.destinationTokenAddress,e.chainId);if(!d||e.preTxBalance!==o.postTxBalance){u("Finishing post balance update",{isDefaultTokenAddress:d,preTxBalance:e.preTxBalance,postTxBalance:o.postTxBalance});break}u("Waiting for balance to update",{delay:n.UPDATE_POST_TX_BALANCE_TIMEOUT}),await v(n.UPDATE_POST_TX_BALANCE_TIMEOUT)}return a(o,"TransactionController#updatePostTransactionBalance - Add post transaction balance"),u("Completed post balance update",o?.postTxBalance),{updatedTransactionMeta:o,approvalTransactionMeta:c}}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/swaps.cjs"}],[2841,{"../types.cjs":2828,"@ethersproject/abi":555,"@metamask/controller-utils":1509,"@metamask/metamask-eth-abis":1989},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.determineTransactionType=n.ESTIMATE_GAS_ERROR=void 0;const r=e("@ethersproject/abi"),s=e("@metamask/controller-utils"),a=e("@metamask/metamask-eth-abis"),i=e("../types.cjs");n.ESTIMATE_GAS_ERROR="eth_estimateGas rpc method error";const o=new r.Interface(a.abiERC20),c=new r.Interface(a.abiERC721),u=new r.Interface(a.abiERC1155),l=new r.Interface(a.abiFiatTokenV2);n.determineTransactionType=async function(e,t){const{data:n,to:r}=e;if(n&&!r)return{type:i.TransactionType.deployContract,getCodeResponse:undefined};const{contractCode:a,isContractAddress:d}=await async function(e,t){let n;try{n=await(0,s.query)(e,"getCode",[t])}catch(e){n=null}const r=!!n&&("0x"!==n&&"0x0"!==n);return{contractCode:n,isContractAddress:r}}(t,r);if(!d)return{type:i.TransactionType.simpleSend,getCodeResponse:a};const m=0!==Number(e.value??"0"),p={type:i.TransactionType.contractInteraction,getCodeResponse:a};if(!n||m)return p;const h=function(e){if(!e)return undefined;try{return o.parseTransaction({data:e})}catch{}try{return c.parseTransaction({data:e})}catch{}try{return u.parseTransaction({data:e})}catch{}try{return l.parseTransaction({data:e})}catch{}return undefined}(n)?.name;if(!h)return p;const f=[i.TransactionType.tokenMethodApprove,i.TransactionType.tokenMethodSetApprovalForAll,i.TransactionType.tokenMethodTransfer,i.TransactionType.tokenMethodTransferFrom,i.TransactionType.tokenMethodSafeTransferFrom,i.TransactionType.tokenMethodIncreaseAllowance].find((e=>e.toLowerCase()===h.toLowerCase()));return f?{type:f,getCodeResponse:a}:p}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/transaction-type.cjs"}],[2842,{"../types.cjs":2828,"@metamask/utils":2872,"bn.js":3893},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.getPercentageChange=n.padHexToEvenLength=n.normalizeGasFeeValues=n.normalizeTxError=n.validateIfTransactionUnapproved=n.validateGasValues=n.isEIP1559Transaction=n.normalizeTransactionParams=n.ESTIMATE_GAS_ERROR=void 0;const s=e("@metamask/utils"),a=r(e("bn.js")),i=e("../types.cjs");n.ESTIMATE_GAS_ERROR="eth_estimateGas rpc method error";const o={data:e=>(0,s.add0x)(u(e)),from:e=>(0,s.add0x)(e).toLowerCase(),gas:e=>(0,s.add0x)(e),gasLimit:e=>(0,s.add0x)(e),gasPrice:e=>(0,s.add0x)(e),nonce:e=>(0,s.add0x)(e),to:e=>(0,s.add0x)(e).toLowerCase(),value:e=>(0,s.add0x)(e),maxFeePerGas:e=>(0,s.add0x)(e),maxPriorityFeePerGas:e=>(0,s.add0x)(e),estimatedBaseFee:e=>(0,s.add0x)(e),type:e=>(0,s.add0x)(e)};n.normalizeTransactionParams=function(e){const t={from:""};for(const n of(0,s.getKnownPropertyNames)(o))e[n]&&(t[n]=o[n](e[n]));return t.value||(t.value="0x0"),t},n.isEIP1559Transaction=function(e){const t=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);return t(e,"maxFeePerGas")&&t(e,"maxPriorityFeePerGas")};function c(e){try{return JSON.parse(JSON.stringify(e)),!0}catch{return!1}}function u(e){const t=e.toLowerCase().startsWith("0x")?e.slice(0,2):"",n=t?e.slice(2):e;return t+(n.length%2==0?n:`0${n}`)}n.validateGasValues=e=>{Object.keys(e).forEach((t=>{const n=e[t];if("string"!=typeof n||!(0,s.isStrictHexString)(n))throw new TypeError(`expected hex string for ${t} but received: ${n}`)}))},n.validateIfTransactionUnapproved=function(e,t){if(e?.status!==i.TransactionStatus.unapproved)throw new Error(`TransactionsController: Can only call ${t} on an unapproved transaction.\n      Current tx status: ${e?.status}`)},n.normalizeTxError=function(e){return{name:e.name,message:e.message,stack:e.stack,code:e.code,rpc:c(e.value)?e.value:undefined}},n.normalizeGasFeeValues=function(e){const t=e=>"string"==typeof e?(0,s.add0x)(e):e;return"gasPrice"in e?{gasPrice:t(e.gasPrice)}:{maxFeePerGas:t(e.maxFeePerGas),maxPriorityFeePerGas:t(e.maxPriorityFeePerGas)}},n.padHexToEvenLength=u,n.getPercentageChange=function(e,t){const n=new a.default(10).pow(new a.default(18)),r=e.mul(n),s=t.mul(n),i=s.sub(r);return i.isZero()?0:r.isZero()&&!s.isZero()?100:i.muln(100).div(r).abs().toNumber()}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/utils.cjs"}],[2843,{"../types.cjs":2828,"./utils.cjs":2842,"@ethersproject/abi":555,"@metamask/controller-utils":1509,"@metamask/metamask-eth-abis":1989,"@metamask/rpc-errors":2336,"@metamask/utils":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.validateParamTo=n.validateTxParams=n.validateTransactionOrigin=void 0;const r=e("@ethersproject/abi"),s=e("@metamask/controller-utils"),a=e("@metamask/metamask-eth-abis"),i=e("@metamask/rpc-errors"),o=e("@metamask/utils"),c=e("../types.cjs"),u=e("./utils.cjs");function l(e,t){switch(t){case"maxFeePerGas":case"maxPriorityFeePerGas":if(e.type&&e.type!==c.TransactionEnvelopeType.feeMarket)throw i.rpcErrors.invalidParams(`Invalid transaction envelope type: specified type "${e.type}" but including maxFeePerGas and maxPriorityFeePerGas requires type: "${c.TransactionEnvelopeType.feeMarket}"`);break;default:if(e.type&&e.type===c.TransactionEnvelopeType.feeMarket)throw i.rpcErrors.invalidParams(`Invalid transaction envelope type: specified type "${e.type}" but included a gasPrice instead of maxFeePerGas and maxPriorityFeePerGas`)}}function d(e,t,n){if(void 0!==e[n])throw i.rpcErrors.invalidParams(`Invalid transaction params: specified ${t} but also included ${n}, these cannot be mixed`)}function m(e,t){const n=e[t];if("string"!=typeof n||!(0,o.isStrictHexString)(n))throw i.rpcErrors.invalidParams(`Invalid transaction params: ${t} is not a valid hexadecimal. got: (${String(n)})`)}n.validateTransactionOrigin=async function(e,t,n,r){if(r!==s.ORIGIN_METAMASK){if(!e.includes(n))throw i.providerErrors.unauthorized({data:{origin:r}})}else if(n!==t)throw i.rpcErrors.internal({message:"Internally initiated transaction is using invalid account.",data:{origin:r,fromAddress:n,selectedAddress:t}})},n.validateTxParams=function(e,t=!0){!function(e){if(e&&!Object.values(c.TransactionEnvelopeType).includes(e))throw i.rpcErrors.invalidParams(`Invalid transaction envelope type: "${e}". Must be one of: ${Object.values(c.TransactionEnvelopeType).join(", ")}`)}(e.type),function(e,t){if((0,u.isEIP1559Transaction)(e)&&!t)throw i.rpcErrors.invalidParams("Invalid transaction params: params specify an EIP-1559 transaction but the current network does not support EIP-1559")}(e,t),function(e){if(!e||"string"!=typeof e)throw i.rpcErrors.invalidParams(`Invalid "from" address ${e}: not a string.`);if(!(0,s.isValidHexAddress)(e))throw i.rpcErrors.invalidParams('Invalid "from" address.')}(e.from),function(e){if("0x"===e.to||e.to===undefined){if(!e.data)throw i.rpcErrors.invalidParams('Invalid "to" address.');delete e.to}else if(e.to!==undefined&&!(0,s.isValidHexAddress)(e.to))throw i.rpcErrors.invalidParams('Invalid "to" address.')}(e),function(e){if(e!==undefined){if(e.includes("-"))throw i.rpcErrors.invalidParams(`Invalid transaction value "${e}": not a positive number.`);if(e.includes("."))throw i.rpcErrors.invalidParams(`Invalid transaction value "${e}": number must be in wei.`);const t=parseInt(e,10);if(!(Number.isFinite(t)&&!Number.isNaN(t)&&!isNaN(Number(e))&&Number.isSafeInteger(t)))throw i.rpcErrors.invalidParams(`Invalid transaction value ${e}: number must be a valid number.`)}}(e.value),function(e){if(e){const t=new r.Interface(a.abiERC20);try{t.parseTransaction({data:e})}catch(e){if(e.message.match(/BUFFER_OVERRUN/u))throw i.rpcErrors.invalidParams("Invalid transaction params: data out-of-bounds, BUFFER_OVERRUN.")}}}(e.data),function(e){if(e!==undefined&&"number"!=typeof e&&"string"!=typeof e)throw i.rpcErrors.invalidParams(`Invalid transaction params: chainId is not a Number or hex string. got: (${e})`)}(e.chainId),function(e){e.gasPrice&&(l(e,"gasPrice"),d(e,"gasPrice","maxFeePerGas"),d(e,"gasPrice","maxPriorityFeePerGas"),m(e,"gasPrice"));e.maxFeePerGas&&(l(e,"maxFeePerGas"),d(e,"maxFeePerGas","gasPrice"),m(e,"maxFeePerGas"));e.maxPriorityFeePerGas&&(l(e,"maxPriorityFeePerGas"),d(e,"maxPriorityFeePerGas","gasPrice"),m(e,"maxPriorityFeePerGas"));e.gasLimit&&m(e,"gasLimit");e.gas&&m(e,"gas")}(e)},n.validateParamTo=function(e){if(!e||"string"!=typeof e)throw i.rpcErrors.invalidParams('Invalid "to" address')}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/validation.cjs"}],[2844,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.BaseControllerV1=n.isBaseControllerV1=void 0,n.isBaseControllerV1=function(e){return"name"in e&&"string"==typeof e.name&&"config"in e&&"object"==typeof e.config&&"defaultConfig"in e&&"object"==typeof e.defaultConfig&&"state"in e&&"object"==typeof e.state&&"defaultState"in e&&"object"==typeof e.defaultState&&"disabled"in e&&"boolean"==typeof e.disabled&&"subscribe"in e&&"function"==typeof e.subscribe};class r{constructor(e={},t={}){this.defaultConfig={},this.defaultState={},this.disabled=!1,this.name="BaseController",this.internalConfig=this.defaultConfig,this.internalState=this.defaultState,this.internalListeners=[],this.initialState=t,this.initialConfig=e}initialize(){return this.internalState=this.defaultState,this.internalConfig=this.defaultConfig,this.configure(this.initialConfig),this.update(this.initialState),this}get config(){return this.internalConfig}get state(){return this.internalState}configure(e,t=!1,n=!0){if(n){this.internalConfig=t?e:Object.assign(this.internalConfig,e);for(const e of Object.keys(this.internalConfig)){const t=this.internalConfig[e];t!==undefined&&(this[e]=t)}}else for(const t of Object.keys(e))if(this.internalConfig[t]!==undefined){const n=e[t];this.internalConfig[t]=n,this[t]=n}}notify(){this.disabled||this.internalListeners.forEach((e=>{e(this.internalState)}))}subscribe(e){this.internalListeners.push(e)}unsubscribe(e){const t=this.internalListeners.findIndex((t=>e===t));return t>-1&&this.internalListeners.splice(t,1),t>-1}update(e,t=!1){this.internalState=t?Object.assign({},e):Object.assign({},this.internalState,e),this.notify()}}n.BaseControllerV1=r,n.default=r}}},{package:"@metamask/transaction-controller>@metamask/base-controller",file:"node_modules/@metamask/transaction-controller/node_modules/@metamask/base-controller/dist/BaseControllerV1.cjs"}],[2845,{immer:4581},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,s=this&&this.__classPrivateFieldSet||function(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n},a=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.getPersistentState=n.getAnonymizedState=n.BaseController=n.isBaseController=void 0;const i=e("immer");(0,i.enablePatches)(),n.isBaseController=function(e){return"name"in e&&"string"==typeof e.name&&"state"in e&&"object"==typeof e.state&&"metadata"in e&&"object"==typeof e.metadata};function o(e,t,n){return Object.keys(e).reduce(((r,s)=>{try{const a=t[s];if(!a)throw new Error(`No metadata found for '${String(s)}'`);const i=a[n],o=e[s];return"function"==typeof i?r[s]=i(o):i&&(r[s]=o),r}catch(e){return setTimeout((()=>{throw e})),r}}),{})}n.BaseController=class{constructor({messenger:e,metadata:t,name:n,state:a}){r.set(this,void 0),this.messagingSystem=e,this.name=n,s(this,r,(0,i.freeze)(a,!0),"f"),this.metadata=t,this.messagingSystem.registerActionHandler(`${n}:getState`,(()=>this.state)),this.messagingSystem.registerInitialEventPayload({eventType:`${n}:stateChange`,getPayload:()=>[this.state,[]]})}get state(){return a(this,r,"f")}set state(e){throw new Error("Controller state cannot be directly mutated; use 'update' method instead.")}update(e){const[t,n,o]=i.produceWithPatches(a(this,r,"f"),e);return s(this,r,t,"f"),this.messagingSystem.publish(`${this.name}:stateChange`,t,n),{nextState:t,patches:n,inversePatches:o}}applyPatches(e){const t=(0,i.applyPatches)(a(this,r,"f"),e);s(this,r,t,"f"),this.messagingSystem.publish(`${this.name}:stateChange`,t,e)}destroy(){this.messagingSystem.clearEventSubscriptions(`${this.name}:stateChange`)}},r=new WeakMap,n.getAnonymizedState=function(e,t){return o(e,t,"anonymous")},n.getPersistentState=function(e,t){return o(e,t,"persist")}}}},{package:"@metamask/transaction-controller>@metamask/base-controller",file:"node_modules/@metamask/transaction-controller/node_modules/@metamask/base-controller/dist/BaseControllerV2.cjs"}],[2846,{"./RestrictedMessenger.cjs":2847},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,s,a,i,o=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.ControllerMessenger=n.Messenger=void 0;const c=e("./RestrictedMessenger.cjs");class u{constructor(){r.set(this,new Map),s.set(this,new Map),a.set(this,new Map),i.set(this,new Map)}registerActionHandler(e,t){if(o(this,r,"f").has(e))throw new Error(`A handler for ${e} has already been registered`);o(this,r,"f").set(e,t)}unregisterActionHandler(e){o(this,r,"f").delete(e)}clearActions(){o(this,r,"f").clear()}call(e,...t){const n=o(this,r,"f").get(e);if(!n)throw new Error(`A handler for ${e} has not been registered`);return n(...t)}registerInitialEventPayload({eventType:e,getPayload:t}){o(this,a,"f").set(e,t)}publish(e,...t){const n=o(this,s,"f").get(e);if(n)for(const[e,r]of n.entries())try{if(r){const n=o(this,i,"f").get(e),s=r(...t);s!==n&&(o(this,i,"f").set(e,s),e(s,n))}else e(...t)}catch(e){setTimeout((()=>{throw e}))}}subscribe(e,t,n){let r=o(this,s,"f").get(e);if(r||(r=new Map,o(this,s,"f").set(e,r)),r.set(t,n),n){const r=o(this,a,"f").get(e);if(r){const e=n(...r());o(this,i,"f").set(t,e)}}}unsubscribe(e,t){const n=o(this,s,"f").get(e);if(!n||!n.has(t))throw new Error(`Subscription not found for event: ${e}`);n.get(t)&&o(this,i,"f").delete(t),n.delete(t)}clearEventSubscriptions(e){o(this,s,"f").delete(e)}clearSubscriptions(){o(this,s,"f").clear()}getRestricted({name:e,allowedActions:t,allowedEvents:n}){return new c.RestrictedMessenger({messenger:this,name:e,allowedActions:t,allowedEvents:n})}}n.Messenger=u,n.ControllerMessenger=u,r=new WeakMap,s=new WeakMap,a=new WeakMap,i=new WeakMap}}},{package:"@metamask/transaction-controller>@metamask/base-controller",file:"node_modules/@metamask/transaction-controller/node_modules/@metamask/base-controller/dist/Messenger.cjs"}],[2847,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,s,a,i,o,c,u,l,d=this&&this.__classPrivateFieldSet||function(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n},m=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.RestrictedControllerMessenger=n.RestrictedMessenger=void 0;class p{constructor({controllerMessenger:e,messenger:t,name:n,allowedActions:c,allowedEvents:u}){if(r.add(this),s.set(this,void 0),a.set(this,void 0),i.set(this,void 0),o.set(this,void 0),t&&e)throw new Error("Both messenger properties provided. Provide message using only 'messenger' option, 'controllerMessenger' is deprecated");if(!t&&!e)throw new Error("Messenger not provided");d(this,s,t??e,"f"),d(this,a,n,"f"),d(this,i,c,"f"),d(this,o,u,"f")}registerActionHandler(e,t){if(!m(this,r,"m",l).call(this,e))throw new Error(`Only allowed registering action handlers prefixed by '${m(this,a,"f")}:'`);m(this,s,"f").registerActionHandler(e,t)}unregisterActionHandler(e){if(!m(this,r,"m",l).call(this,e))throw new Error(`Only allowed unregistering action handlers prefixed by '${m(this,a,"f")}:'`);m(this,s,"f").unregisterActionHandler(e)}call(e,...t){if(!m(this,r,"m",u).call(this,e))throw new Error(`Action missing from allow list: ${e}`);return m(this,s,"f").call(e,...t)}registerInitialEventPayload({eventType:e,getPayload:t}){if(!m(this,r,"m",l).call(this,e))throw new Error(`Only allowed publishing events prefixed by '${m(this,a,"f")}:'`);m(this,s,"f").registerInitialEventPayload({eventType:e,getPayload:t})}publish(e,...t){if(!m(this,r,"m",l).call(this,e))throw new Error(`Only allowed publishing events prefixed by '${m(this,a,"f")}:'`);m(this,s,"f").publish(e,...t)}subscribe(e,t,n){if(!m(this,r,"m",c).call(this,e))throw new Error(`Event missing from allow list: ${e}`);return n?m(this,s,"f").subscribe(e,t,n):m(this,s,"f").subscribe(e,t)}unsubscribe(e,t){if(!m(this,r,"m",c).call(this,e))throw new Error(`Event missing from allow list: ${e}`);m(this,s,"f").unsubscribe(e,t)}clearEventSubscriptions(e){if(!m(this,r,"m",l).call(this,e))throw new Error(`Only allowed clearing events prefixed by '${m(this,a,"f")}:'`);m(this,s,"f").clearEventSubscriptions(e)}}n.RestrictedMessenger=p,n.RestrictedControllerMessenger=p,s=new WeakMap,a=new WeakMap,i=new WeakMap,o=new WeakMap,r=new WeakSet,c=function(e){const t=m(this,o,"f");return m(this,r,"m",l).call(this,e)||null!==t&&t.includes(e)},u=function(e){const t=m(this,i,"f");return m(this,r,"m",l).call(this,e)||null!==t&&t.includes(e)},l=function(e){return e.startsWith(`${m(this,a,"f")}:`)}}}},{package:"@metamask/transaction-controller>@metamask/base-controller",file:"node_modules/@metamask/transaction-controller/node_modules/@metamask/base-controller/dist/RestrictedMessenger.cjs"}],[2848,{"./BaseControllerV1.cjs":2844,"./BaseControllerV2.cjs":2845,"./Messenger.cjs":2846,"./RestrictedMessenger.cjs":2847},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.RestrictedMessenger=n.RestrictedControllerMessenger=n.Messenger=n.ControllerMessenger=n.isBaseController=n.getPersistentState=n.getAnonymizedState=n.BaseController=n.isBaseControllerV1=n.BaseControllerV1=void 0;var r=e("./BaseControllerV1.cjs");Object.defineProperty(n,"BaseControllerV1",{enumerable:!0,get:function(){return r.BaseControllerV1}}),Object.defineProperty(n,"isBaseControllerV1",{enumerable:!0,get:function(){return r.isBaseControllerV1}});var s=e("./BaseControllerV2.cjs");Object.defineProperty(n,"BaseController",{enumerable:!0,get:function(){return s.BaseController}}),Object.defineProperty(n,"getAnonymizedState",{enumerable:!0,get:function(){return s.getAnonymizedState}}),Object.defineProperty(n,"getPersistentState",{enumerable:!0,get:function(){return s.getPersistentState}}),Object.defineProperty(n,"isBaseController",{enumerable:!0,get:function(){return s.isBaseController}});var a=e("./Messenger.cjs");Object.defineProperty(n,"ControllerMessenger",{enumerable:!0,get:function(){return a.ControllerMessenger}}),Object.defineProperty(n,"Messenger",{enumerable:!0,get:function(){return a.Messenger}});var i=e("./RestrictedMessenger.cjs");Object.defineProperty(n,"RestrictedControllerMessenger",{enumerable:!0,get:function(){return i.RestrictedControllerMessenger}}),Object.defineProperty(n,"RestrictedMessenger",{enumerable:!0,get:function(){return i.RestrictedMessenger}})}}},{package:"@metamask/transaction-controller>@metamask/base-controller",file:"node_modules/@metamask/transaction-controller/node_modules/@metamask/base-controller/dist/index.cjs"}],[2862,{"./errors.cjs":2870,"@metamask/superstruct":2797},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.assertExhaustive=n.assertStruct=n.assert=n.AssertionError=void 0;const r=e("@metamask/superstruct"),s=e("./errors.cjs");function a(e,t){return n=e,Boolean("string"==typeof n?.prototype?.constructor?.name)?new e({message:t}):e({message:t});var n}class i extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}n.AssertionError=i,n.assert=function(e,t="Assertion failed.",n=i){if(!e){if(t instanceof Error)throw t;throw a(n,t)}},n.assertStruct=function(e,t,n="Assertion failed",o=i){try{(0,r.assert)(e,t)}catch(e){throw a(o,`${n}: ${function(e){return(0,s.getErrorMessage)(e).replace(/\.$/u,"")}(e)}.`)}},n.assertExhaustive=function(e){throw new Error("Invalid branch reached. Should be detected during compilation.")}}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/assert.cjs"}],[2863,{"./assert.cjs":2862,"@metamask/superstruct":2797},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.base64=void 0;const r=e("@metamask/superstruct"),s=e("./assert.cjs");n.base64=(e,t={})=>{const n=t.paddingRequired??!1,a=t.characterSet??"base64";let i,o;return"base64"===a?i=String.raw`[A-Za-z0-9+\/]`:((0,s.assert)("base64url"===a),i=String.raw`[-_A-Za-z0-9]`),o=n?new RegExp(`^(?:${i}{4})*(?:${i}{3}=|${i}{2}==)?$`,"u"):new RegExp(`^(?:${i}{4})*(?:${i}{2,3}|${i}{3}=|${i}{2}==)?$`,"u"),(0,r.pattern)(e,o)}}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/base64.cjs"}]],[],{});